{"version":3,"sources":["assets/chainsLogos/local.png","assets/chainsLogos sync /^/.//.*/.png$","assets/chainsLogos/millau.png","assets/chainsLogos/rialto.png","util/envVariablesValidations.ts","constants.ts","configs/chainsSetup/customHashers.ts","actions/accountActions.ts","configs/index.ts","util/createPolkadotJsUrl.ts","actions/messageActions.ts","reducers/messageReducer.ts","contexts/MessageContext.tsx","types/keyringTypes.ts","util/logger.ts","actions/sourceTargetActions.ts","contexts/KeyringContextProvider.tsx","types/sourceTargetTypes.ts","reducers/sourceTargetReducer.ts","contexts/SourceTargetContextProvider.tsx","hooks/connections/useLoadingApi.ts","hooks/subscriptions/useApiSubscription.ts","hooks/react/useIsMounted.ts","hooks/react/useMountedState.ts","hooks/subscriptions/useBalance.ts","hooks/context/useAccountsContextSetUp.ts","util/getSubstrateDynamicNames.ts","hooks/chain/useChainGetters.ts","actions/transactionActions.ts","types/transactionTypes.ts","util/getConfigs.ts","util/getDeriveAccount.ts","util/shortenItem.ts","util/transactions/index.ts","util/accounts/getName.ts","types/subscriptionsTypes.ts","hooks/api/useApiCalls.ts","contexts/ApiCallsContextProvider.tsx","hooks/subscriptions/useBlocksInfo.ts","hooks/react/usePrevious.ts","hooks/subscriptions/useBridgedBlocks.ts","hooks/chain/useChainProfile.ts","hooks/subscriptions/useMessagesLane.ts","hooks/chain/useLaneId.ts","hooks/subscriptions/useSubscriptions.ts","contexts/SubscriptionsContextProvider.tsx","hooks/context/useSendersBalancesContext.ts","reducers/accountReducer.ts","contexts/AccountContextProvider.tsx","hooks/transactions/useLocalStorage.ts","components/Buttons.tsx","components/Inputs.tsx","components/StorageDrawer.tsx","components/Icons.tsx","fonts/Web3-Regular.woff","fonts/Web3-Regular.woff2","components/theme.ts","components/LayoutBoxes.tsx","components/MenuAction.tsx","components/BridgedLocalWrapper.tsx","components/Network.tsx","components/Alert.tsx","components/Web3Icon.tsx","contexts/GUIContextProvider.tsx","util/chainsUtils.ts","util/apiUtlis.ts","util/getReceiverAddress.ts","util/evalUnits.ts","util/transactions/reducer/index.ts","util/accounts/getValidAddressFormat.ts","reducers/transactionReducer.ts","hooks/transactions/useEstimatedFeePayload.ts","hooks/transactions/useResetTransactionState.ts","reducers/initReducersStates/initTransactionState.ts","hooks/transactions/useSenderBalanceUpdates.ts","contexts/TransactionContext.tsx","hooks/context/useTransactionsStatus.tsx","hooks/connections/useApiConnection.ts","hooks/chain/useSendMessage.ts","components/FeeValue.tsx","components/EstimatedFee.tsx","hooks/react/useDebounceState.ts","components/DebouncedTextField.tsx","components/SubmitButton.tsx","components/CustomCall.tsx","components/SenderAccountsLoading.tsx","components/AccountIdenticon.tsx","components/SenderFilterInput.tsx","components/SenderActionSwitch.tsx","components/SenderFilters.tsx","components/ChainLogo.tsx","components/ChainHeader.tsx","components/SenderDropdownItem.tsx","hooks/accounts/useAccounts.ts","components/SenderAccountsListByChain.tsx","util/sender/filters/getFileteredAccounts.ts","components/SenderAccountsSection.tsx","util/sender/filters/getChainMatches.ts","components/SenderDropdown.tsx","components/Balance.tsx","types/accountTypes.ts","components/AccountDisplay.tsx","components/SenderAccount.tsx","components/SenderCompanionAccount.tsx","components/Sender.tsx","components/ExtensionAccountCheck.tsx","components/Remark.tsx","components/SnackBar.tsx","components/TokenSymbol.tsx","hooks/subscriptions/useApiBalance.ts","components/ReceiverInput.tsx","hooks/transactions/useReceiver.ts","components/Account.tsx","components/GenericAccount.tsx","hooks/accounts/useGenericAccount.ts","components/ReceiverDerivedAccount.tsx","components/InternalReceiver.tsx","components/Receiver.tsx","components/FeePaySelector.tsx","components/Transfer.tsx","hooks/chain/useInternalTransfer.ts","components/TransactionPayload.tsx","components/TransactionSwitchTab.tsx","components/TransactionReceipt.tsx","components/TransactionHeader.tsx","components/TransactionAccounts.tsx","components/TransactionContainer.tsx","components/TransactionStatusMock.tsx","components/Transactions.tsx","screens/Main.tsx","App.tsx","hooks/connections/useConnections.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","expectedVariables","INCORRECT_FORMAT","GENERIC","BLOCK_DURATION","BN","AccountActionsTypes","hashers","blake2Keccak256Hasher","data","u8aConcat","blake2AsU8a","keccakAsU8a","getProviderInfo","chainNumber","types","providedHasher","process","providerUrl","variable","envVariable","checkEnvVariable","hasher","polkadotjsUrl","jsonU8a","stringToU8a","JSON","stringify","compressed","zlibSync","level","encoded","base64Encode","encodeURIComponent","createPolkadotJsUrl","provider","WsProvider","MessageActionsTypes","AccountActionCreators","account","sourceTarget","sourceChain","payload","type","SET_ACCOUNT","accounts","SET_ACCOUNTS","displaySenderAccounts","SET_DISPLAY_SENDER_ACCOUNTS","senderAccountBalance","senderCompanionAccountBalance","SET_SENDER_BALANCES","MessageActionsCreators","RESET_MESSAGE","message","variant","TRIGGER_MESSAGE","messageReducer","state","action","KeyringStatuses","MessageContext","React","createContext","UpdateMessageContext","useUpdateMessageContext","useContext","MessageContextProvider","props","children","useReducer","dispatchMessage","Provider","value","winston","addColors","debug","error","info","warn","SourceTargetActionsTypes","myformat","format","cli","all","logger","createLogger","transports","Console","KeyringContext","useKeyringContext","KeyringContextProvider","useState","INIT","keyringStatus","setKeyringStatus","keyringPairs","setKeyringPairs","keyringPairsReady","setkeyringPairsReady","extensionExists","setExtensionExists","accountExists","setAccountExists","loadAccounts","useCallback","asyncLoadAccounts","a","LOADING","web3Enable","length","web3Accounts","allAccounts","address","meta","name","keyring","loadAll","isDevelopment","READY","ERROR","useEffect","keyringOptions","getPairs","ChainDetails","SourceTargetActionsCreators","chain","SWAP_CHAINS","sourceTargetReducer","SOURCE","newState","TARGET","SourceTargetContext","useSourceTarget","UpdateSourceTargetContext","SourceTargetContextProvider","connections","sourceTargetChains","dispatchChangeSourceTarget","useLoadingApi","isSourceApiReady","sourceChainDetails","apiConnection","isApiReady","isTargetApiReady","targetChainDetails","areApiReady","sourceReady","targetReady","useApiSubscription","fn","isReady","unsub","then","u","catch","useMountedState","initialState","isMounted","mountedRef","useRef","current","useIsMounted","counter","setState","ZERO","initValues","chainTokens","formattedBalance","free","useBalance","api","providedSi","getBalanceCall","query","system","registry","formatBalance","decimals","chainDecimals","withUnit","withSi","Boolean","useAccountsContextSetUp","accountState","dispatchAccount","targetApi","sourceApi","accountBalance","companionBalance","companionAccount","getSubstrateDynamicNames","key","bridgedGrandpaChain","bridgedMessages","estimatedFeeMethodName","latestReceivedNonceMethodName","storageKey","TransactionActionTypes","useChainGetters","sourceIsApiReady","configs","sourceSS58Format","ss58Format","sourceLogoUrl","logoUrl","targetIsApiReady","targetChain","targetSS58Format","targetLogoUrl","getValuesByChain","substrateValues","getSS58PrefixByChain","TransactionStatusEnum","SwitchTabEnum","PayFee","TransactionTypes","EvalMessages","TransactionActionCreators","senderAccount","SET_SENDER","SET_ACTION","receiverAddress","SET_RECEIVER_ADDRESS","receiverPayload","SET_RECEIVER","transferAmount","SET_TRANSFER_AMOUNT","payloadEstimatedFeeError","payloadEstimatedFee","payloadEstimatedFeeLoading","sourceTargetDetails","createType","isBridged","SET_PAYLOAD_ESTIMATED_FEE","customCallInput","SET_CUSTOM_CALL_INPUT","weightInput","SET_WEIGHT_INPUT","remarkInput","SET_REMARK_INPUT","transactionRunning","SET_TRANSACTION_RUNNING","transactionToBeExecuted","SET_TRANSACTION_TO_BE_EXECUTED","initialTransaction","CREATE_TRANSACTION_STATUS","updatedValues","UPDATE_CURRENT_TRANSACTION_STATUS","evaluateTransactionStatusError","transactions","evaluatingTransactions","UPDATE_TRANSACTIONS_STATUS","batchedTransactionState","SET_BATCH_PAYLOAD_ESTIMATED_FEE","UPDATE_SENDER_BALANCES","transferType","SET_TRANSFER_TYPE","ENABLE_TX_BUTTON","DISABLE_TX_BUTTON","payFee","CHANGE_DISPATCH_FEE_PAY_CHAIN","RESET","getConfigs","apiPromise","properties","getChainProperties","rpc","systemChain","chainName","split","require","toLowerCase","default","parseInt","toString","getBridgeId","bridgeId","consts","bridgedChainId","toU8a","getDeriveAccount","input","compactAddLength","decodeAddress","encodeAddress","blake2AsHex","Uint8Array","from","item","substring","LOCAL","getTransactionDisplayPayload","payloadHex","toHex","callType","call","formatedAccount","transactionDisplayPayload","spec_version","weight","dispatch_fee_payment","parse","origin","SourceAccount","getTransactionCallWeight","transactionState","REMARK","TRANSFER","CUSTOM","tx","remark","u8aToHex","paymentInfo","toNumber","balances","transfer","isHex","hexToU8a","getFeeAndWeightForInternals","partialFee","estimatedFee","stepEvaluator","transactionValue","chainValue","bnChainValue","bnTransactionValue","gte","completionStatus","isCompleted","COMPLETED","IN_PROGRESS","evaluateAllSteps","steps","find","status","deepFind","result","some","iter","subData","has","toJSON","Array","isArray","checkMessageDispatchedEvent","blockNumber","messageNonce","getBlockHash","blockHash","getBlock","signedBlock","events","at","block","header","hash","allRecords","FAILED","extrinsics","forEach","ext","index","filter","phase","isApplyExtrinsic","asApplyExtrinsic","eq","event","method","getLatestReceivedNonce","laneId","apiCalls","stateCall","latestReceivedNonceCall","latestReceivedNonceCallType","latestReceivedNonce","handleTransactionUpdates","transaction","sourceSubscriptions","targetSubscriptions","bestBlockFinalized","latestReceivedNonceOnSource","outboundLanes","bestBridgedFinalizedBlockOnTarget","bestBridgedFinalizedBlock","bestBlockOnTarget","bestBlock","deliveryBlock","INTERNAL_TRANSFER","nonceOfFinalTargetBlock","nonceOfBestTargetBlock","sourceTransactionFinalized","blockFinalityRelayed","messageDelivered","messageFinalizedOnTarget","sourceConfirmationReceived","onChainCompleted","updateDeliveryBlock","setTransactionComplete","messageDispatched","updatedSteps","step","successfulTransfer","shortenItem","evaluating","bridgedSteps","internalSteps","chainType","labelOnChain","obj","label","NOT_STARTED","isEmpty","createEmptySteps","createEmptyInternalSteps","undefined","handleInternalTransactionUpdates","nextStatus","FINALIZED","getFormattedAmount","amount","ChainSubscriptions","getName","toLocaleUpperCase","useApiCalls","methodName","params","push","internalTransfer","dispatchers","transfersData","dispatchTransaction","Date","now","options","nonce","sourceAccount","isInjected","web3FromSource","source","injector","signer","signAndSend","senderName","isBroadcast","isInBlock","asInBlock","res","number","isFinalized","asFinalized","updateSenderAccountsInformation","formatBalanceAddress","getAccountInformation","sourceRole","targetRole","sourceConfigs","targetConfigs","Promise","sourceAddress","toDerive","sourceBalance","companionAddress","dataCompanion","targetBalance","balance","sourceAddresses","targetAddresses","ApiCallsContext","useApiCallsContext","ApiCallsContextProvider","useBlocksInfo","setBestBlock","setBestBlockFinalized","getBestNumber","derive","bestNumber","getBestBlockFinalized","bestNumberFinalized","usePrevious","ref","useBridgedBlocks","prevSourceChain","setBestBridgedFinalizedBlock","bestFinalizedBlock","setBestFinalizedBlock","getBestFinalizedBlock","bestFinalized","getBestBridgedFinalizedBlock","importedHeaders","importedHeader","noop","emptyProfile","target","useMessagesLane","pendingMessages","totalMessages","setOutboudLanes","bridgeReceivedMessages","setBridgesReceivedMessages","getOutboundLaneData","latest_generated_nonce","get","latest_received_nonce","sub","isNeg","getInboundLaneData","inboundLanes","useSubscriptions","ChainDetail","chainDetail","restSource","restTarget","useChainProfile","blockInfo","messagesLane","SubscriptionsContext","useSubscriptionsContext","SubscriptionsContextProvider","onSourceChainSubscriptions","onTargetChainSubscriptions","subscriptions","getBlockAsBN","convertToBNAndIncrease","add","accountReducer","sourceChainName","senderBalanceAccountLoading","initialLoadingAccounts","AccountContext","UpdateAccountContext","useAccountContext","AccountContextProvider","currentSourceBlock","currentTargetBlock","nextSourceBlockNumber","nextTargetBlockNumber","nextBlockNumbers","setNextBlockNumber","timerId","setTimerId","updateAccounts","clearTimeout","newTimerId","setTimeout","blocksReached","useSendersBalancesContext","useLocalStorage","localStorageKey","localStorage","getItem","localValue","setLocalValue","setItem","useStyles","makeStyles","theme","submit","padding","spacing","borderRadius","contact","backgroundColor","palette","secondary","light","switchMode","fontSize","typography","body2","drawerMenu","justifyContent","installExtension","color","primary","dark","fontWeight","ButtonExt","startIcon","disableElevation","href","classes","Button","className","onClick","url","newWindow","window","open","opener","openInNewTab","ButtonSwitchMode","ButtonSubmit","fullWidth","Box","mt","mb","drawer","position","top","left","width","height","paddingLeft","paddingTop","overflow","display","closeDrawerIcon","background","paper","marginLeft","marginTop","selectLabel","h4","text","hint","marginBottom","styleAccountCompanion","paddingRight","border","divider","borderTopLeftRadius","borderTopRightRadius","SelectLabel","main","success","IconTxStatus","IconApiStatus","bridgesBlue","substrateGray","substrateGreen","paletteLight","common","black","white","contrastText","red","disabled","active","grey","allVariants","fontFamily","h1","lineHeight","letterSpacing","h2","h3","body1","button","textTransform","subtitle1","subtitle2","overline","overrides","MuiCssBaseline","fontStyle","fontDisplay","src","Web3Regular","Web3Regular2","shadows","ui","transition","breakpoints","down","maxWidth","sidebar","zIndex","flexDirection","borderRight","fade","BoxSidebar","useGUIContext","menu","margin","pointerEvents","MenuAction","actions","changeMenu","anchorEl","setAnchorEl","setId","setOpen","ButtonBase","currentTarget","title","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","i","n","isEnabled","BridgedLocalWrapper","blurred","showInternal","style","opacity","arrowIcon","bottom","right","statsEntry","alignItems","IconApiSvg","marginRight","NetworkSides","marginY","p","rel","Divider","NetworkStats","Alert","elevation","web3IconGlyphs","icon","marginleft","size","textAlign","content","Web3Icon","indexOf","DrawerContext","GUIContextProvider","setDrawer","setBridged","setAction","ThemeProvider","createMuiTheme","CssBaseline","getChainSubscriptionsKey","currentSourceChain","sourceChainsMatch","genericCall","emptyData","dispatch","executeDispatch","loading","getReceiverAddress","decodedReceiverAddress","base58Decode","checkAddressChecksum","isValidDerivedAcccount","ss58Decoded","formatFound","prefix","getChainBySS58Prefix","getSiValue","si","pow","symbol","isMil","allowedSymbols","s","join","replace","floats","RegExp","ints","alphaFloats","alphaInts","evalUnits","test","GIBBERISH","siVal","numberStr","numeric","SYMBOL_ERROR","decimalsBn","containDecimal","includes","decPart","fracPart","fracDecimals","fracExp","mul","div","SUCCESS","shouldCalculatePayloadFee","nextState","customCallError","isReadyToExecute","inputReady","isInputReady","setLocalReceiver","unformattedReceiverAddress","isValid","getValidAddressFormat","shouldEvaluatePayloadEstimatedFee","transactionReadyToExecute","genericReceiverAccount","addressValidationError","showBalance","derivedReceiverAccount","estimatedSourceFee","estimatedTargetFee","setReceiver","estimatedFeeMessageDelivery","estimatedFeeBridgeCall","receiver","validateAccount","transactionReducer","notEnoughFundsToTransfer","notEnoughToPayFee","enoughFundsEvaluation","readyToExecute","updated","actualValue","transferAmountError","startsWith","resetedAt","stateTransaction","updateTransaction","transactionType","useEstimatedFeePayload","previousPayloadEstimatedFeeLoading","calculateFeeAndPayload","currentTransactionState","callToCompact","slice","addressRaw","version","specVersion","payloadType","messageFeeType","lane_id","estimatedFeeCall","estimatedFeeType","bridgeMessage","sendMessage","payment","queryFeeDetails","submitMessageTransactionFee","estimatedFeeBridgeCallBalance","inclusionFee","unwrap","adjustedWeightFee","estimatedSourceFeeBN","toBn","targetFeeDetails","useResetTransactionState","prevIsBridged","prevAction","initTransactionState","AtSourceChain","useSenderBalanceUpdates","prevSenderAccountBalance","prevSenderCompanionAccountBalance","isEqual","TransactionContext","UpdateTransactionContext","useTransactionContext","useUpdateTransactionContext","TransactionContextProvider","transactionsState","prevSubscriptions","getTransactionStatus","updatedTransaction","updatedTransactions","transactionsInProgress","useTransactionsStatus","TypeRegistry","useApiConnection","connectionDetails","setApiPromise","setIsReady","setConfigs","ApiPromise","create","err","register","getChainConfigs","values","useSendMessage","makeCall","formattedTransferAmount","signAsync","signed","send","CREATED","toArray","container","minHeight","tooltipIcon","textContainer","CustomTypography","Typography","cx","FeeValue","tooltip","showPlus","Tooltip","arrow","placement","fee","EstimatedFee","srcChainDecimals","tarChainDecimals","srcChainTokens","tarChainTokens","estimatedFeeMessageDeliveryAmount","estimatedFeeBridgeCallAmount","estimatedSourceFeeAmount","targetFeeAmount","severity","useDebounceState","initialValue","wait","transformCallback","dispatchCallback","setValue","debounced","setDebounced","previousDebounced","setDebouncedCallback","useMemo","debounce","setValueCallback","transformedValue","DebouncedTextField","placeholder","helperText","InputProps","multiline","rows","onChange","TextField","autoComplete","SubmitButton","CustomCall","sendLaneMessage","onWeightChange","skeleton","SenderAccountsLoading","Skeleton","animation","emptyAddress","AccountIdenticon","onCopy","ctx","box","SenderFilterInput","handleChange","InputBase","CustomSwitch","withStyles","createStyles","root","switchBase","transform","thumb","track","transitions","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","CustomizedSwitches","callback","FormControlLabel","control","labelPlacement","filters","borderBottom","SenderFilters","setFilterInput","setShowEmpty","setShowCompanion","showEmpty","showCompanion","FormControl","component","FormGroup","aria-label","row","ChainLogo","alt","ChainHeader","toUpperCase","topBalance","minWidth","bottomBalance","borderBottomLeftRadius","borderBottomRightRadius","balanceBody","hoover","addressContainer","SenderDropdownItem","setHoover","companionTitle","concat","onMouseEnter","onMouseLeave","noWrap","shorterItem","useAccounts","setCurrentAccount","accountKeyring","selectAccountMainItem","SenderAccountsListByChain","chainMatch","handleClose","items","upperChain","filteredItems","match","caseSensitive","show","field","f","matchAddress","matchCompanionAddress","matchName","getItemsFiltered","getFilteredAccounts","option","SenderAccountsSection","filterInput","chains","splitFilter","fullChainNameMatched","c","upperC","sf","getChainMatches","maxHeight","SenderDropdown","removeAnchor","AddressKind","whiteSpace","Balance","missingAddress","AccountDisplay","addressKind","friendlyName","hideAddress","withTooltip","shortAddress","displayName","displayText","interactive","accountMain","withoutBottomBorderRadius","senderActions","SenderAccount","handleClick","aria-describedby","accountCompanion","sender","SenderCompanionAccount","isNull","COMPANION","Sender","ExtensionAccountCheck","Remark","CloseButton","styled","SnackBar","useSnackbar","enqueueSnackbar","closeSnackbar","TokenSymbol","InputAdornment","useApiBalance","isDerived","ReceiverInput","onReceiverChange","useReceiver","addressInput","Account","selectAccountCompanionItem","cursor","GenericAccount","selected","setSelected","nativeAddress","nativeState","companionState","looseHelperAccount","setNativeAsTargetOrClear","setNativeAsTarget","NATIVE","setCompanionAsTarget","shortGenericAddress","useGenericAccount","Paper","ReceiverDerivedAccount","shortUnformattedReceiver","InternalReceiver","Receiver","FeePaySelector","Select","disableUnderline","renderValue","MenuItem","AtTargetChain","inputAmount","Transfer","executeInternalTransfer","useInternalTransfer","sendTransaction","buttonLabel","endAdornment","card","wordBreak","loader","TransactionPayload","tab","navigator","clipboard","writeText","RECEIPT","Card","CircularProgress","PAYLOAD","DECODED","enableClipboard","TransactionSwitchTab","transactionDisplayProps","setTab","getColorByState","setTabCallback","TransactionReceipt","pt","pb","pl","pr","getType","TransactionHeader","TransactionAccounts","senderCompanionAccount","isInternal","isTransfer","selectedBorder","borderColor","accordion","TransactionContainer","expanded","accordionExpanded","setAccordionExpanded","Accordion","AccordionSummary","expandIcon","AccordionDetails","TransactionStatusMock","setSteps","Label","Transactions","onGoingTransactions","completedTransactions","transactionFormHeight","formHeight","transactionSubmited","ActionComponents","Main","transactionContextAction","handleOnSwitch","form","Container","Grid","ToggleButtonGroup","exclusive","ToggleButton","chain1","customTypesChain1","chain2","customTypesChain2","substrateProviders","connectionDetails1","connectionDetails2","App","chainsConnections","chain1Configs","polkadotjsUrl1","apiConnection1","chain2Configs","polkadotjsUrl2","apiConnection2","setConnections","apiReady","setApiReady","chainName1","chainName2","useConnections","Backdrop","path","v","checkExpectedVariables","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9bfaffc.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","var map = {\n\t\"./local.png\": 415,\n\t\"./millau.png\": 750,\n\t\"./rialto.png\": 751\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 749;","export default __webpack_public_path__ + \"static/media/millau.3f1b7bde.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d17lJ1lYe/x77v3nj0zmUyuSDAQIEAoBCRgiiAgGdReWB7b07Oqx9OLCHiktatUvJTLwcNUa7WrtbXVHg9UGaQX27CsPdrVeoWgVHRpBLEqFo3AQOQekslMZs/e7/ucP3YGQi4kJDP7efc8389ae+We55dk531/+32f531AkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJUtKy2AGez413hT8JcHonxmoVVEfHWNOJsQB6Mr553brsFzs1niSV0Tu+GK4CXtWp8f5xlDWtQLUTYw1U2fTjN2VndmKsg1GLHeD5BHgdcEwnxsoymGh2YqS2virndG40SSqtXwrw8k4N9tgkTBWdGWt+jQWdGengVGIH2Jf1Xwv9wIrYOWbLVGB+7AySVAInxg4wW8Zb1Nb+fTgsdo59KW0B2NrLKkqc71AVBdl7bw+rYueQpFjecVs4LMDS2DlmSwCyjKHYOfaltCfYrMLPxM4w26pVXhk7gyTFkjfn/nG+0Szv7d7SFoDKHL4sNC0PlHZyiCTNtiyb+8f5RuAlsTPsS2kLQMjmfjNsFZwSO4MkxZIlcJyfzDkudoZ9KW0BIMz9N0YBR8fOIEnRJHCcn8hZFjvDvpS3ACRwC6DZmruTXyTpAMz54/y2JvNiZ9iXUhaAv/5uWAYsip1jtjUDvcPrQz12DknqtNetD1Xg+Ng5ZttUQXbW+rA6do69KWUBqBVzvxUChAD1ozr3AAxJKotjl3Is0Bs7Ryc0p7ggdoa9KWUBCMXcvy80LRScHzuDJHVanqdznG8UvCx2hr0pZQGAdN4YecFLY2eQpE5LYQXAtMmCk2Nn2JtSFoCQwMSQaa0CnwYoKUXJHOd3FOV8rH0pCwAJXQFowfLYGSSp00JCx/nxJktiZ9ib0hWA4dtCDcr74ISZ1srLvVuUJM2SZArAWIv62s+G0i0HLF0BWL6Y44Ce2Dk6JS+o/vm3wotj55CkTvn9O8IgkMxxrwjAOOfFzrG70hWASkITQ6C9W9RESZeISNJsyMc5Echi5+ikVotXxM6wu9IVABJaAjit1eLs2BkkqWMS2ARod42CNbEz7K50BSBLaGbotEB5d4uSpJmWwmZvu5vMy7fiq3QFgIQmhkzLC1bGziBJnZIlsAnQ7iby8s15sACUQF7wotgZJKlTUrwCMNZkMHaG3ZWqAFz/rbAQyrt14mxpFMwbDqFU/xaSNCtCyKB8l8Nn246cyjl/F46JnWNXpTrpVGvptUJobwrUe2f5JohI0ky74laWA/Nj54ihkTEUO8OuSlUAKglOAJxWFOV6Y0jSbKi20vygB9Ao2YqvUhWAFJcATmsVnBk7gyTNtqKS7nF+KnBq7Ay7KlcBSHBiyLQiwVmxkpKU7JXeHTnOAdiXlDaH2F0rlHO3KEmaSSHhDzvjLQ6LnWFXpSkAoT0z9ITYOWJpFSyKnUGSZluW8JXebU36h4ZDLXaOaaUpADdsZAVQut2SOqWV0zP89eDOgJLmrOH1oQ7lugzeSa0A207gZ2PnmFaaAlCpptsKob0pUF+TdbFzSNJs2XoYq4Bq7Bwxhaw8x/nSFICULwtNa2WcEzuDJM2aVroTAKc1Wrw0doZppSkAlYSXAE7Lgw8DkjR3pbbd+95Mlmiye2kKQEhwe8jd5UW6kyAlzX0p7gGwux1NjoqdYVppCgAlakWxtHKOiJ1BkmZLirsA7m6sxcLYGaaVogCs/1roB9fBNwsGYmeQpFmU/JXe8Ra1l68PS2LngJIUgK29rKIkWWLKA5X33h6S2yVL0tx3xefCkgBLY+eILQCNZjn2finFSTdL+NnQe6iV440hSTMp6+Gk2BnKoiwrvkpRAFLeBXAPBWfFjiBJMy240usZk81yrPgqRQFwZuiz8oLVsTNI0izwg95OjZyVsTNASQoAzgx9Riuk+5hMSXOXD3t71njOstgZoCwFwGb4jFbuJBlJc5Af9J4x1irHiq/oBeCvvxuWgTvhTWsGendumCFJc8Lr1ocqcFzsHGXRyMnOWh+i3+6NXgBqhZ/+dxUC1I/i5bFzSNJMOXYpxwJ9sXOUSXOKC2JniF4AnBm6p1BwfuwMkjRT8tzj/O4aBS+LnSF6AcBHAO+hlXNG7AySNGPc62UPjSL+cxHiFwAnhuwhD/5nkTR3ZH7Q28NEwdGxM0QvAO4CuKcWLI+dQZJmSrAA7GG8SfT9AKIWgOHbQg1nhu6h2WJB7AySNIP8oLebsRb1tZ8N82JmiFoAli/mOKAnZoYyKgLV97WXR0pSV3vn58MAXtXcQxGg9jTnxswQtQBUfDLUXgUgPM0rY+eQpEPVqvEzQBY7RxlNZpwXc/y4cwBcArhPefBZAJK6X9UlgPvUKOKu+IpaADLvC+1TgJfEziBJh8rN3vZtMmdVzPFjrwLwjbEPRcGxsTNI0gzwg94+TOQcEXN8C0BJNQsOj51BkmaAx/l92N6Mu+IrWgG4/lthIZRjS8Qyahb0D4cQu6BJ0sELIYO4l7nLbCKncs7fhWhbwEc7wVRrtsLnUwSy3jtZEzuHJB2sK25lOTAYO0eZNTKGYo0drQBUvC+0X0UR740hSYeq2vKD3v40Wpwda+x4l5hdArhfBayNnUGSDlbuo973q1FwSqyx4xUAl4bsVyvn5NgZJOlgZR7n92sy4oqvaAXAzSH2rxVYETuDJB2s4G6v+zXe4rBYY0cpAKE9M/SEGGN3k1bBotgZJOlgeQVg/7Y16R8aDrUYY0cpADdsZAUQdRekbtDK6Rn+enBnQEldZ3h9qAPRlrh1i1aAbSfwszHGjlIAKlVb4YEIQE/OK2LnkKQXamwJJwDV2Dm6QQHnxxg3SgHwstCBCyHublGSdDAKV3odsKk8zoqvOFcAfGMcsDz4MCBJ3cft3g/cZKRJ8XEmAbo29IBNNYuTYmeQpBdq29NPnxs7Q7fY0eLIGOPGWgZoMzxAjal8JetuvJ6hvz4qdhZJ2q/TrjmVU6+4c+zJx/9L7CjdYnszzoqvjheA9V8L/eD69gNWrUGWvYVQ+7FFQFJpnTG8mlOvuJPtD36X8UfPXrLsxbETdY3tLWovXx+WdHrcjheArb2sijFutyrIWLpkAWTUn1MEXvmJKJeMJOk5pk/8W3/0PcYfPZtQ0Dcwn77582Mn6xoBaDQ7v/dLx0/EWcXL/y/UyuOPePYb00UgLzZZBCRFs5cT/7QlRyyPGKw7tTLO6fSYHX/60LYpjurJ+EkeWB4CvZ0ef1/yna8yyTKohIL5Sxbv5QepQ/YW8uJNrLvxJqrV93DrRQ93PqWkpKy9+iQakyNs/dFzTvq7yhYcxn+OPgrzF0Ot3uGAz+/wLCcv09MJMiDLWuNj4fhOD93xAvDQVhaTsbLT4+7PVAEfuS92ir2pcGTjeXrS7kWgHv6AL166uXP5JCVh+sS/ZXSfJ/5pDxf9PDyxDCY6lO2F+PajkD9//ghqLJ63tNODei9+rpi+NdCstG8N/NzHvQYn6dCtvfokTr3iTraM/mD3S/3qbhaAuaf3OUXgFX/jVFxJL9zLrj7RE//cFmUHInVEuwhUWr/B0MgNVCp/6hwBSfv1knevpdj2MZ4YPd2T/tzmFYC5LmMe8DbyYhMXjNzM+SOrYkeSVEJrrjyPUy6/m/GffIuJxz35J8ACkIqMOoHfJONeLhhZz/k3nxw7kqQSWHvNBay+/Ptse+irTDyxxhN/OiwAqcmoEHgdWf4frLvxH7ng4242JKVozVX/nZN+Z5Sn7r+VHU+c3H4cjVJiAUhVRoUsez2hcjdDI3ewbuS1ELLYsSTNstN+/62c9NZH2Db6DzS2+GjxhDkJUADnkvEZhm66D0b+isbADdz5+h2xQ0maIUPD83ly/INMbnkjYw/1xY6jcrAAaFergA9RH7+GoZGPwtRH2HDZE7FDSTpIL7v6RMYnP8RD9/88+VSZnn+nEvAWgPaUcThwHaH+AEMj/5fzR14SO5KkF+CMq3+V1Zd/nydGf8jEoxd68tfeeAVA+9ZeQngZFS5jaGQjWXYDk/P+xtsDUgm1L/O/h+bYRTz9QMe3llX3sQDoQK0lhOupj7+XoZERiur1fOWNP4kdSkreS969lrD9g4ze/wqKKa/q6oBZAPTCtG8PXEklfydDI/9KqHyU23/yeRh28bDUKacM16lOXENj+2+z/ceHx46j7mQB0MGqAq8lK17LumM2k438DQUf5ysXl3JPRWlOWHvVz9NoXEPjwXNpTXr81iHxDaRDl7EcuJIKVz4zV2Aq/yT/fulY7GhS1ztleAmV8Wtpjl3EU6NLfGCPZooFQDOtPVegp/pBLrjpFoowwu1vugMyj1rSARuusGbqd2huu5wdPz6ekPuQLs04C4BmSZhP4GIyLmboplHCjZ8mC7ew4dI7YieTSuv0K3+Z1tQVNB48h22TPbHjaG6zAKgTVpBll0N2OUM3/gCy9WTFJ7nt0h/GDiZFt+bK82hNXcPUtlexdbQeO47SYQFQh2UnA9cRKtcxNLIRsk9Sq9zCl974YOxkUsesufI88tZVNLddwLbRebHjKE0WAMW0FsJaWvmfsm7k+2TcQpZ9ltvetDF2MGnGnX7lL9OcuozmxLlse2iBk/kUmwVA5ZCxGriOEK5j6KYfkYVPk4V/5tYHv+4zBtSdhmucMflmpiYvYWrsdLaOek9fpWIBUAmFEwi8i5C9i6FjHiHc+Bmy7N9oFl92aaFK7eV/eCTbt/8u+fgv07j/RJ72yXwqLwuAyu4IsuwtwFvoqeQMjdwN/Ev7VsFF33Z5oaI74+p1NBu/R2tiHY/cuwS8YKXuYAFQN6kCa2k/a+A61t20GUY+B3yOWuVWvnzRk5HzKQUvu/pEJvPfpjn5GprbjufpB/yUr65kAVD3aj+B8BLgEvIC1o1sgvAlyL5EX/5lPv/mp2JH1Bxw1jXLmMgvIkz9Co3tp/H4A87a15xgAdDckXEc7Lxd0KjmrBv5Dlm4DdhAf/0r/NtvbIsdUV3gzLevYLLnzRSTr6E1cTKP3e8JX3OSBUBzVZWMl0L2UuAd7GjmrBv5IRU2EthIlt3Bbfff5QoDccbV62i1fo2icRZTO1bxxCOe8JUEC0AXyCrVBtAbO0eXq5KxmsBq4DcJAYaO2QI3fp2s8nUyvs5Uzze549e3xA6qWXTatSuh+T/Ip36OfPJUmtuX8vQDPmd/pmW1APj3WnIWgC4wuOLozxD4LhlXAItj55lDFkN2ISFcSABqUzA08hMIdxOyu8jCXVSqd3HrRQ/HDqqDcPpVZ5KHX6KYOoeicRKtycMZ2+QxbzZVaoG+pbdx1mu/CLw/dhw9P/8zdINK1uL2i9/LhX/7F+xovhV4O/Ci2LHmqJWQrSTjVyCDooB1I4+RcRdwF4TvkVV+QE/lXr7wxvHYYUV7kt5k6+cpwrmE1hpak6to7ljM1gednd8plXpB/5IvMrjkUu689mEG/uy3YkfS/lkAukl7EtsHeO31f8lY/S3AO4EjI6ea+zIOB36h/cogBJjKA0MjDwD3QvgecC8Vvk9W/aHLEWfJ6deuImu9imbrHEJzNfnUMeSNRTz2QM3H6kZSref0Lf0svYP/k43DT8SOoxfGAtCNPnvZBPAhXrf+//DExBsI4VpgVexYicmAY9uv7BeBnc9/KWBoZJLAZrJsE6HY1P6STVSyTcxv/GDnv592t3Z4HkXjTFrFWZC/hJCfQGvqKPKpJRST/Wzd5D3lsqj1tehd9FlqCy7h7uGnY8fRwbEAdLNbXj8F3Mza6z/JYP3XCVxNxomxY4m+9pLEcBzZznNWRvvKwVg9Z2jkEeAh4BHIRttfFg9RqfyUwMPUWz+dc88wWPuu48krp1Jkqyny46B1LKE4nKJ5OEU+n7zRz5b7qgQ/yZdarX+K3iU3c9jjv8uGP5uMHUeHxgIwF2y8rAncBMM3c8Gxv0IIVwDnRk6lvavSvm2z89bN9Akvg2Ln1xtVGLqpBeFJCE9B5UlC8RSVypMEdvl62AZMQthOxhiV6g6yfDsNxijC5Iztm7D2fS+G7QspWAa8iCIsoAiHQbGYwABZWEzIDyeExRTFIkJrkFDMI7R6yVs9FM0KTzmPsqvVF2yjvuijfLfvWhhuxY6jmWEBmFOGC27jU8CnuODGsyB7B4H/Rvuko64SasAyyJZBgGzn3AN47tfb39HuEXnR/noVqGYwNLLrbzgG7HrgbhCYYPNXV1CEKuTPXl4PAcIu337qezP8Z1N3yKBv8YPUB4f5zvtH9v/z1W0sAHPVbZd8A3g9QyPHAr8FXAYsippJMQ3u8T0Z0PIqrnaTVQP9i++hZ/Ct3P2+r8WOo9ljAZjrNlx8P3AV5378ffRULiHwdjKOjh1LUslU6wV9i79KZeBi7vnDn8SOo9lnAUhF+37wX8Dwhxk6+pVQ+T0Ir8GndUlp6xncRu+Cj1MfuJaNw65QSYgFIDnDBRv4EvAlzh9ZRYVLgTcDSyMHk9QplVqgd9G91Puv5u4//n+x4ygOC0DKvnLxfcBVDI0ME3gt8DYyzokdS9IsqQ1M0Lfwn8jmv4N7hh+LHUdxWQAEGy6eBG4BbuGCG88iZL9N4HVkuCua1O0qVagvvo+egfdxz/s/ETuOysMCoOdqrx74Bhf+7eVMtv4rgd+E8CqcKyB1l+lP+/XFv8/G//XT2HFUPhYA7V1734GbgZt51SdOJC9+DXgTcEzUXJL2rVov6F3wXWoD7+E77/+n2HFUbhYA7d+XL/pPYBiG38PQ0a8ky95I4FeB/sjJJGUVqC94lJ6Bv2fp49ew4S99uIMOiAVAL8AuKwh+4WNvY6r2q4TiDVAZguAtAqlTsgx6FmyhZ+Bf6M3+gI1/8uPYkdR9LAA6OO3Nam4AbuADW/43jz/2B9z/I3jqMXdmlWZLfRCWngKHn/Zn/PPQO2LHUXezAOjQDS4aZ/4iWHki7BiHhx+A0fvhSVcZSYesPgiLT4Qjz4H5R+38zrA5aibNCRYAzaz+AThhdfu17Wl46AHY/CA8/WTsZFL36F3UPukfsRYWHBs7jeYoC4Bmz4JFsHoRrF7TvjLwyMOweRQefRiKInY6qTyyDHqXwOJVcMSZMHjU/n+NdIgsAOqM/oH2LYKVJ0KzAZsfgp+OtktBqxk7ndR5WQX6X9Q+6S8/B/p9Grc6ywKgzuvphWOOb7/yFjy6uV0EHn0YxrfHTifNnp55MHg0LF0NL1oDtb7YiZQwC4DiqtZg+dHtF8D4GDz202dLgVcH1M2mP+UvXAmHndK+ry+VhAVA5TIwCCsH27cK8hY8/ig88lC7EIxtjZ1O2r/6IAyu2Pkp/zSo9sZOJO2VBUDlVa3BEUe2XwCNHe1C8MSj7SWGW1xZoBLomQcDR7Rn6x9+OsxbFjuRdEAsAOoevf1w1LHtF8C2rdfz+U9/GcKrITuPjNUx4ykR1XpBbWAzPf0bOO41NRad8IbYkaSDYQFQ91qwcJzbL25vYwxw/o0rqGTnAmcDZxM4g4x6zIjqdhWoz9tOrf9HZH23U6l8knve/41nfnjt2z5I8NGX6k4WAM0dX7lkFPiHnS9Ye30PC3pPI4TzyFhLwblkHBc1o8qtWi+ozXucWu+9ZPV/pej/GN8bfip2LGk2WAA0d228rAls3PlqO//GFVSzMwnZGcDpEM4AjoyUUDFV6zm1eU9Q7f1PKr1fo8qnuPsD34wdS+oUC4DS0r5KMAo8u1f60MgiKE6FytqdVwrWAieRUYkVUzPsuZ/sv0qo3sJ//NE9sWNJMVkApA0XPw3csfPVdu7HB6lVTiILqyE7mRBOJqushrASqMaKqueRZVDtbVLre5Jq7/1ktXuoZHfQV/sC3/ijR2PHk8rGAiDtzb9fOgZ8c+frWRf+ZS+TAycRspPIslMIrGLhkl9icmIejckoUZNT7YXaQEHGKNX6A9BzFz2VO6hv/wLf+PC22PGkbmEBkF6If7u8AXxn56vtI+E7wGk0mzAxBtu3t59oOP2a2A7j4+0HG2n/KlWozYP6fKgvbD8jv+8wmL8M5r8YqvMA/oNPrFgTO6rUzSwA0kzp6YGFS9qvvWk2YccENCZgYqL9YKOJcZjc0f7+yR0w1YDmVGdzd0qlB6p1qPZBzwD0DkJ9QfvVtwT6FsHA4dMneEmzzAIgdUpPD/QsBBY+/88LBUxNQaMBU5PtQtCYbJeDqan2t/Mcfjr6RRqTBdAHzCcwSEY/MB+yQQgz9P87g0o1QLWgUsmh0qJSmyKjRaUnp3fRMiq1Z0/sPfPaj8OtD0DPfOhd2D7JZ06dkMrEAiCVTVaB3r726/nKQsG7uDz7zr5/wi6G/mo+rUU9z3y7d6JOVh1g0TEryLMnoTL+zI/1FxMHPGnukofWkIe7D+jnSioVC4CUgg2/s699ljd1NIek0nCdsyRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpQgC4AkSQmyAEiSlCALgCRJCbIASJKUIAuAJEkJsgBIkpSgGq+++ehODrh9+/jC+YMDnRyy6xXNqXmd/nd6QZ58fBH98zo/bqMxWIq/l/GxHioRuvQjo0fw6pu3HNLv8dSm5Yf060dvX8Winzmk3+KghNY8Xjp8ducH3s3WTS+mFuG9P7XlmFL8+fflsQdXsiz+f82u0mwMdvrfNGNoJHRywHPOP4OzX7Gmk0MekKkCPnJf7BR7d+QTm3h4w1dix9Bc9MAXYyfQXLTmVfDqS2Kn2Ltvb4a8iJ1iT8VmuOMvOjqktwAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBNWA0U4OWK1VFwILOjlmt8sq1Qngydg5NAdVepfHjqA5qNKT4QfMF6gCld68kyNmnRwM4O1fCO8h492dHnd/pgr4yH2xU+zdyYN88gcXZb8WO4ckHZAPh98i46OxY+zVtzdDXsROsafF877Kh5ae38khbWiSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCLACSJCXIAiBJUoIsAJIkJcgCIElSgiwAkiQlyAIgSVKCanw4XNjJATdu4YQl9U6OeGCaBbB1MnaMvXpkrDiFd255d8cGzNjOnyz+846NJ2l2vfGhCyD0dWy8zdtOYX4JD/QAE09AEWKn2FP+1NG85kudO84DGR8JJfybiCAv4NubY6coh55qzseW12LHkDRDLhp9GFgeO0YpjG6AohU7RSl4C0CSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKkAVAkqQEWQAkSUqQBUCSpARZACRJSpAFQJKkBFkAJElKUA34XOwQ5ZBVGaifETtFKVSzsdgRJM2oW4HDYocohZ7BsbKQ2QAAANpJREFUM6Coxo4hSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSdH9f1DxjtzXEQ70AAAAAElFTkSuQmCC\"","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nconst expectedVariables = [\n  'REACT_APP_CHAIN_1_SUBSTRATE_PROVIDER',\n  'REACT_APP_CHAIN_2_SUBSTRATE_PROVIDER',\n  'REACT_APP_LANE_ID',\n  'REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS',\n  'REACT_APP_IS_DEVELOPMENT'\n];\n\nconst optionalVariables = [\n  'REACT_APP_CHAIN_1_CUSTOM_TYPES_URL',\n  'REACT_APP_CHAIN_2_CUSTOM_TYPES_URL',\n  'REACT_APP_CHAIN_1_CUSTOM_HASHER',\n  'REACT_APP_CHAIN_2_CUSTOM_HASHER'\n];\n\nconst checkExpectedVariables = () => {\n  for (const v of expectedVariables) {\n    if (!process.env[v]) {\n      throw new Error(`Missing ${v} variable`);\n    }\n  }\n  return true;\n};\n\nconst checkUnexpectedVariables = () => {\n  for (const v of Object.keys(process.env)) {\n    if (!expectedVariables.includes(v) && !optionalVariables.includes(v)) {\n      throw new Error(`Unexpected ${v} variable found.`);\n    }\n  }\n  return true;\n};\n\nconst checkEnvVariable = (variable: string) => {\n  const envVariable = process.env[variable];\n  if (!envVariable) {\n    throw new Error(`Env Variable ${variable} was not defined`);\n  }\n  return envVariable;\n};\n\nexport { checkEnvVariable, checkExpectedVariables, checkUnexpectedVariables };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport BN from 'bn.js';\n\nexport const SOURCE = 'sourceChain';\nexport const TARGET = 'targetChain';\n\nexport const CHAIN_1 = '1';\nexport const CHAIN_2 = '2';\n\nexport const INCORRECT_FORMAT = 'INCORRECT_FORMAT';\nexport const GENERIC = 'GENERIC';\nexport const GENERIC_SUBSTRATE_PREFIX = 42;\n\nexport const BLOCK_DURATION = new BN('4');\nexport const TIMER_DURATION = 30000;\n\nexport const MESSAGE_DISPATCH_EVENT = 'MessageDispatched';\nexport const MESSAGE_NONCE_TYPE = 'MessageNonce';\nexport const OK = 'Ok';\nexport const TX_CANCELLED = 'Cancelled';\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { u8aConcat } from '@polkadot/util';\nimport { blake2AsU8a, keccakAsU8a } from '@polkadot/util-crypto';\n\ntype Hasher = { [index: string]: (data: Uint8Array) => Uint8Array } | null;\n\nfunction blake2Keccak256Hasher(data: Uint8Array) {\n  return u8aConcat(blake2AsU8a(data), keccakAsU8a(data));\n}\n\nconst hashers: Hasher = {\n  blake2Keccak256Hasher\n};\n\nexport default hashers;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { Account, BalanceState, DisplayAccounts } from '../types/accountTypes';\nimport type { SourceTargetState } from '../types/sourceTargetTypes';\n\nimport { KeyringPair } from '@polkadot/keyring/types';\n\nenum AccountActionsTypes {\n  SET_ACCOUNT = 'SET_ACCOUNT',\n  SET_ACCOUNTS = 'SET_ACCOUNTS',\n  SET_DISPLAY_SENDER_ACCOUNTS = 'SET_DISPLAY_SENDER_ACCOUNTS',\n  SET_SENDER_BALANCES = 'SET_SENDER_BALANCES'\n}\n\nconst setAccount = (account: Account, sourceTarget: SourceTargetState, sourceChain: string) => ({\n  payload: { account, sourceTarget, sourceChain },\n  type: AccountActionsTypes.SET_ACCOUNT\n});\n\nconst setSenderBalances = (\n  senderAccountBalance: BalanceState | null,\n  senderCompanionAccountBalance: BalanceState | null\n) => ({\n  payload: { senderAccountBalance, senderCompanionAccountBalance },\n  type: AccountActionsTypes.SET_SENDER_BALANCES\n});\n\nconst setAccounts = (accounts: KeyringPair[]) => ({\n  payload: { accounts },\n  type: AccountActionsTypes.SET_ACCOUNTS\n});\n\nconst setDisplaySenderAccounts = (displaySenderAccounts: DisplayAccounts) => ({\n  payload: { displaySenderAccounts },\n  type: AccountActionsTypes.SET_DISPLAY_SENDER_ACCOUNTS\n});\n\nconst AccountActionCreators = {\n  setAccount,\n  setAccounts,\n  setDisplaySenderAccounts,\n  setSenderBalances\n};\n\nexport { AccountActionsTypes, AccountActionCreators };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { WsProvider } from '@polkadot/api';\nimport { ApiOptions } from '@polkadot/api/types';\n\nimport { checkEnvVariable } from '../util/envVariablesValidations';\nimport { CHAIN_1, CHAIN_2 } from '../constants';\nimport { createPolkadotJsUrl } from '../util/createPolkadotJsUrl';\nimport { ConnectionChainInformation } from '../types/sourceTargetTypes';\nimport customTypesChain1 from './substrateCustomTypes/chain1.json';\nimport customTypesChain2 from './substrateCustomTypes/chain2.json';\nimport hashers from './chainsSetup/customHashers';\n\nconst getProviderInfo = (chainNumber: string, types: ApiOptions['types']) => {\n  const providedHasher = process.env[`REACT_APP_CHAIN_${chainNumber}_CUSTOM_HASHER`];\n  const providerUrl = checkEnvVariable(`REACT_APP_CHAIN_${chainNumber}_SUBSTRATE_PROVIDER`);\n\n  const hasher = (providedHasher && hashers && hashers[providedHasher]) || null;\n\n  const polkadotjsUrl = createPolkadotJsUrl(types!, providerUrl);\n  return {\n    hasher,\n    provider: new WsProvider(providerUrl),\n    polkadotjsUrl,\n    types\n  };\n};\n\nexport const substrateProviders = (): ConnectionChainInformation[] => {\n  const chain1 = getProviderInfo(CHAIN_1, customTypesChain1);\n  const chain2 = getProviderInfo(CHAIN_2, customTypesChain2);\n\n  return [\n    {\n      chainNumber: CHAIN_1,\n      hasher: chain1.hasher,\n      polkadotjsUrl: chain1.polkadotjsUrl,\n      types: chain1.types,\n      provider: chain1.provider\n    },\n    {\n      chainNumber: CHAIN_2,\n      hasher: chain2.hasher,\n      polkadotjsUrl: chain2.polkadotjsUrl,\n      types: chain2.types,\n      provider: chain2.provider\n    }\n  ];\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { stringToU8a } from '@polkadot/util';\nimport { base64Encode } from '@polkadot/util-crypto';\nimport { zlibSync } from 'fflate';\n\nexport function createPolkadotJsUrl(types: Record<string, any>, providerUrl: string): string {\n  const jsonU8a = stringToU8a(JSON.stringify(types));\n  const compressed = zlibSync(jsonU8a, { level: 9 });\n  const encoded = base64Encode(compressed);\n\n  return `https://polkadot.js.org/apps/?rpc=${encodeURIComponent(providerUrl)}&types=${encodeURIComponent(encoded)}`;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { Payload } from '../types/messageTypes';\n\nenum MessageActionsTypes {\n  TRIGGER_MESSAGE = 'TRIGGER_MESSAGE',\n  RESET_MESSAGE = 'RESET_MESSAGE'\n}\n\nconst triggerInfoMessage = (payload: Payload) => ({\n  payload: { message: payload.message, variant: 'info' },\n  type: MessageActionsTypes.TRIGGER_MESSAGE\n});\n\nconst triggerSuccessMessage = (payload: Payload) => ({\n  payload: { message: payload.message, variant: 'success' },\n  type: MessageActionsTypes.TRIGGER_MESSAGE\n});\n\nconst triggerErrorMessage = (payload: Payload) => ({\n  payload: { message: payload.message, variant: 'error' },\n  type: MessageActionsTypes.TRIGGER_MESSAGE\n});\n\nconst triggerWarningMessage = (payload: Payload) => ({\n  payload: { message: payload.message, variant: 'warning' },\n  type: MessageActionsTypes.TRIGGER_MESSAGE\n});\n\nconst clearMessage = () => ({\n  payload: {},\n  type: MessageActionsTypes.RESET_MESSAGE\n});\n\nconst MessageActionsCreators = {\n  clearMessage,\n  triggerErrorMessage,\n  triggerInfoMessage,\n  triggerSuccessMessage,\n  triggerWarningMessage\n};\n\nexport { MessageActionsTypes, MessageActionsCreators };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { MessageActionsTypes } from '../actions/messageActions';\nimport type { MessagesActionType, MessageState } from '../types/messageTypes';\n\nexport default function messageReducer(state: MessageState, action: MessagesActionType): MessageState {\n  switch (action.type) {\n    case MessageActionsTypes.RESET_MESSAGE:\n      return { ...state, message: null, variant: null };\n    case MessageActionsTypes.TRIGGER_MESSAGE:\n      return { ...state, message: action.payload.message, variant: action.payload.variant };\n\n    default:\n      throw new Error(`Unknown type: ${action.type}`);\n  }\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext, useReducer } from 'react';\n\nimport messageReducer from '../reducers/messageReducer';\nimport { MessageContextType, MessagesActionType } from '../types/messageTypes';\n\ninterface MessageContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport interface UpdateMessageContext {\n  dispatchMessage: React.Dispatch<MessagesActionType>;\n}\n\nexport const MessageContext: React.Context<MessageContextType> = React.createContext({} as MessageContextType);\n\nexport const UpdateMessageContext: React.Context<UpdateMessageContext> = React.createContext(\n  {} as UpdateMessageContext\n);\n\nexport function useMessageContext() {\n  return useContext(MessageContext);\n}\n\nexport function useUpdateMessageContext() {\n  return useContext(UpdateMessageContext);\n}\n\nexport function MessageContextProvider(props: MessageContextProviderProps): React.ReactElement {\n  const { children = null } = props;\n\n  const [message, dispatchMessage] = useReducer(messageReducer, {\n    message: null,\n    variant: null\n  });\n\n  return (\n    <MessageContext.Provider value={message}>\n      <UpdateMessageContext.Provider value={{ dispatchMessage }}>{children}</UpdateMessageContext.Provider>\n    </MessageContext.Provider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { KeyringPair } from '@polkadot/keyring/types';\n\nexport interface KeyringContextType {\n  accountExists: boolean;\n  extensionExists: boolean;\n  keyringPairs: Array<KeyringPair>;\n  keyringPairsReady: boolean;\n}\n\nexport enum KeyringStatuses {\n  INIT = 'INIT',\n  LOADING = 'LOADING',\n  READY = 'READY',\n  ERROR = 'ERROR'\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport winston from 'winston';\n\nwinston.addColors({\n  debug: 'grey',\n  error: 'red',\n  info: 'green',\n  warn: 'blue'\n});\n\nconst myformat = winston.format.cli({\n  all: true\n});\n\nconst logger = winston.createLogger({\n  transports: [\n    new winston.transports.Console({\n      format: myformat\n    })\n  ]\n});\n\nexport default logger;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nenum SourceTargetActionsTypes {\n  SWAP_CHAINS = 'SWAP_CHAINS'\n}\n\nconst switchChains = (chain: string) => ({\n  payload: { chain },\n  type: SourceTargetActionsTypes.SWAP_CHAINS\n});\n\nconst SourceTargetActionsCreators = {\n  switchChains\n};\n\nexport { SourceTargetActionsTypes, SourceTargetActionsCreators };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport { web3Accounts, web3Enable } from '@polkadot/extension-dapp';\nimport type { KeyringPair } from '@polkadot/keyring/types';\nimport keyring from '@polkadot/ui-keyring';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { MessageActionsCreators } from '../actions/messageActions';\nimport { useUpdateMessageContext } from '../contexts/MessageContext';\nimport { KeyringContextType, KeyringStatuses } from '../types/keyringTypes';\nimport logger from '../util/logger';\n\ninterface KeyringContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport const KeyringContext: React.Context<KeyringContextType> = React.createContext({} as KeyringContextType);\nconst loadDevAccounts = process.env.REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS === 'true';\n\nexport function useKeyringContext() {\n  return useContext(KeyringContext);\n}\n\nexport function KeyringContextProvider(props: KeyringContextProviderProps): React.ReactElement {\n  const { children = null } = props;\n  const [keyringStatus, setKeyringStatus] = useState(KeyringStatuses.INIT);\n  const { dispatchMessage } = useUpdateMessageContext();\n  const [keyringPairs, setKeyringPairs] = useState<Array<KeyringPair>>([]);\n  const [keyringPairsReady, setkeyringPairsReady] = useState<boolean>(false);\n  const [extensionExists, setExtensionExists] = useState<boolean>(false);\n  const [accountExists, setAccountExists] = useState<boolean>(false);\n\n  const loadAccounts = useCallback(() => {\n    const asyncLoadAccounts = async () => {\n      setKeyringStatus(KeyringStatuses.LOADING);\n      try {\n        const extExists = await web3Enable('Substrate Bridges UI');\n        if (extExists.length === 0 && !loadDevAccounts) {\n          return;\n        } else {\n          setExtensionExists(true);\n        }\n        let allAccounts = await web3Accounts();\n        allAccounts?.length && setAccountExists(true);\n        allAccounts = allAccounts.map(({ address, meta }) => ({\n          address,\n          meta: { ...meta, name: `${meta.name}` }\n        }));\n\n        keyring.loadAll({ isDevelopment: loadDevAccounts }, allAccounts);\n        setKeyringStatus(KeyringStatuses.READY);\n      } catch (e) {\n        dispatchMessage(MessageActionsCreators.triggerErrorMessage({ message: e }));\n        logger.error(e);\n        setKeyringStatus(KeyringStatuses.ERROR);\n      }\n    };\n\n    if (keyringStatus === KeyringStatuses.LOADING || keyringStatus === KeyringStatuses.READY) return;\n\n    asyncLoadAccounts();\n  }, [dispatchMessage, keyringStatus]);\n\n  useEffect(() => {\n    if (keyringStatus === KeyringStatuses.INIT) {\n      loadAccounts();\n    }\n  }, [keyringStatus, loadAccounts]);\n\n  useEffect(() => {\n    if (keyringStatus === KeyringStatuses.READY) {\n      const keyringOptions = keyring.getPairs();\n      setKeyringPairs(keyringOptions);\n      setkeyringPairsReady(true);\n    }\n  }, [keyringStatus]);\n\n  return (\n    <KeyringContext.Provider value={{ accountExists, extensionExists, keyringPairs, keyringPairsReady }}>\n      {children}\n    </KeyringContext.Provider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\nimport { ApiOptions } from '@polkadot/api/types';\nimport { SourceTargetActionsTypes } from '../actions/sourceTargetActions';\nimport { ProviderInterface } from '@polkadot/rpc-provider/types';\n\nexport interface ApiPromiseConnectionType {\n  api: ApiPromise; // From @polkadot/api\\\n  isApiReady: boolean;\n}\n\nexport interface ConnectionChainInformation {\n  chainNumber: string;\n  hasher: ((data: Uint8Array) => Uint8Array) | null;\n  provider: ProviderInterface;\n  types?: ApiOptions['types'];\n  polkadotjsUrl: string;\n}\n\nexport interface Configs {\n  chainName: string;\n  ss58Format: number;\n  logoUrl: string;\n}\n\nexport type Connection = {\n  chainName: string;\n  apiConnection: ApiPromiseConnectionType;\n  polkadotjsUrl: string;\n  configs: Configs;\n};\ninterface Payload {\n  [propName: string]: string;\n}\n\nexport type SourceTargetAction = { type: SourceTargetActionsTypes; payload?: Payload };\nexport interface ApiPromiseContextType {\n  api: ApiPromise; // From @polkadot/api\\\n  isApiReady: boolean;\n  polkadotjsUrl: string;\n  configs: Configs;\n}\n\nexport enum ChainDetails {\n  SOURCE = 'sourceChainDetails',\n  TARGET = 'targetChainDetails'\n}\n\nexport interface ChainState {\n  configs: Configs;\n  apiConnection: ApiPromiseConnectionType;\n  chain: string;\n  polkadotjsUrl: string;\n}\n\nexport interface SourceTargetState {\n  [ChainDetails.SOURCE]: ChainState;\n  [ChainDetails.TARGET]: ChainState;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { SourceTargetActionsTypes } from '../actions/sourceTargetActions';\nimport { ChainDetails, SourceTargetAction, SourceTargetState } from '../types/sourceTargetTypes';\n\nexport default function sourceTargetReducer(state: SourceTargetState, action: SourceTargetAction): SourceTargetState {\n  switch (action.type) {\n    case SourceTargetActionsTypes.SWAP_CHAINS: {\n      if (action.payload!.chain !== state[ChainDetails.SOURCE].chain) {\n        const newState = { ...state };\n\n        newState[ChainDetails.TARGET] = state[ChainDetails.SOURCE];\n        newState[ChainDetails.SOURCE] = state[ChainDetails.TARGET];\n\n        return newState;\n      }\n      return state;\n    }\n    default: {\n      throw new Error(`Unhandled type: ${action.type}`);\n    }\n  }\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext, useReducer } from 'react';\nimport sourceTargetReducer from '../reducers/sourceTargetReducer';\nimport { SourceTargetAction, SourceTargetState } from '../types/sourceTargetTypes';\n\nexport interface UpdateSourceTargetContext {\n  dispatchChangeSourceTarget: React.Dispatch<SourceTargetAction>;\n}\n\nexport interface SourceTargetContextProps {\n  connections: SourceTargetState;\n  children: React.ReactElement;\n}\n\nexport const SourceTargetContext: React.Context<SourceTargetState> = React.createContext({} as SourceTargetState);\n\nexport function useSourceTarget() {\n  return useContext(SourceTargetContext);\n}\n\nexport const UpdateSourceTargetContext: React.Context<UpdateSourceTargetContext> = React.createContext(\n  {} as UpdateSourceTargetContext\n);\n\nexport function useUpdateSourceTarget() {\n  return useContext(UpdateSourceTargetContext);\n}\n\nexport function SourceTargetContextProvider({ connections, children }: SourceTargetContextProps): React.ReactElement {\n  const [sourceTargetChains, dispatchChangeSourceTarget] = useReducer(sourceTargetReducer, connections);\n\n  return (\n    <SourceTargetContext.Provider value={sourceTargetChains}>\n      <UpdateSourceTargetContext.Provider value={{ dispatchChangeSourceTarget }}>\n        {children}\n      </UpdateSourceTargetContext.Provider>\n    </SourceTargetContext.Provider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\n\ninterface LoadingStates {\n  areApiReady: boolean;\n  sourceReady: boolean;\n  targetReady: boolean;\n}\n\nexport default function useLoadingApi(): LoadingStates {\n  const {\n    sourceChainDetails: {\n      apiConnection: { isApiReady: isSourceApiReady }\n    },\n    targetChainDetails: {\n      apiConnection: { isApiReady: isTargetApiReady }\n    }\n  } = useSourceTarget();\n\n  return {\n    areApiReady: isSourceApiReady && isTargetApiReady,\n    sourceReady: isSourceApiReady,\n    targetReady: isTargetApiReady\n  };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { UnsubscribePromise } from '@polkadot/api/types';\nimport { useEffect } from 'react';\nimport logger from '../../util/logger';\n\nexport function useApiSubscription(fn: () => Promise<unknown>, isReady: boolean): void {\n  useEffect(() => {\n    if (!isReady) {\n      return;\n    }\n\n    try {\n      const unsub = fn() as UnsubscribePromise;\n      return () => {\n        isReady &&\n          unsub &&\n          unsub\n            .then((u) => u())\n            .catch((e) => {\n              logger.error('error unsubscribing', e);\n            });\n      };\n    } catch (e) {\n      logger.error('error executing subscription', e);\n    }\n  }, [fn, isReady]);\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useEffect, useRef, useCallback } from 'react';\n\nexport const useIsMounted = () => {\n  const mountedRef = useRef(false);\n  const isMounted = useCallback(() => mountedRef.current, []);\n\n  useEffect(() => {\n    mountedRef.current = true;\n\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  return isMounted;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback, useState, useRef } from 'react';\nimport { useIsMounted } from './useIsMounted';\nimport logger from '../../util/logger';\n\n/**\n * Like React's [useState](https://reactjs.org/docs/hooks-reference.html#usestate)\n * but it makes sure the component that uses this state hook is mounted before updating state\n * @param {D} initialValue\n * @returns {[D, Dispatch<D>]} an array of 2 items\n * the first is the current state, the second is a function that enables\n * updating the state if the component is not mounted\n *\n * D is the type passed when then useMountedState is used\n * e.g. const [pass, setPass] = useMountedState<string>('someString');\n */\nexport const useMountedState = <D>(initialState: D | (() => D)) => {\n  const isMounted = useIsMounted();\n  const counter = useRef(0);\n\n  const [state, setState] = useState<D>(initialState);\n\n  const setMountedState = useCallback(\n    (value: D) => {\n      if (isMounted()) {\n        setState(value);\n      } else {\n        counter.current = counter.current + 1;\n      }\n      if (counter.current > 1) {\n        logger.warn('Unmounted component tried to update their state.');\n      }\n    },\n    [isMounted]\n  );\n\n  return [state, setMountedState] as const;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\nimport { Balance } from '@polkadot/types/interfaces';\nimport { formatBalance } from '@polkadot/util';\nimport BN from 'bn.js';\nimport { useCallback } from 'react';\nimport useLoadingApi from '../connections/useLoadingApi';\nimport { useApiSubscription } from './useApiSubscription';\nimport { useMountedState } from '../react/useMountedState';\n\ntype State = {\n  chainTokens: string;\n  formattedBalance: string;\n  free: Balance;\n};\n\nconst ZERO = new BN(0);\n\nconst initValues = {\n  chainTokens: '-',\n  formattedBalance: '0',\n  free: new BN(ZERO) as Balance\n};\n\nconst useBalance = (api: ApiPromise, address: string, providedSi: boolean = false): State => {\n  const [state, setState] = useMountedState<State>(initValues);\n  const { areApiReady } = useLoadingApi();\n\n  const getBalanceCall = useCallback(\n    () =>\n      api.query.system.account(address, ({ data }): void => {\n        setState({\n          chainTokens: data.registry.chainTokens[0],\n          formattedBalance: formatBalance(data.free, {\n            decimals: api.registry.chainDecimals[0],\n            withUnit: api.registry.chainTokens[0],\n            withSi: providedSi\n          }),\n          free: data.free\n        });\n      }),\n    [address, api, providedSi, setState]\n  );\n\n  useApiSubscription(getBalanceCall, areApiReady && Boolean(address));\n\n  return state as State;\n};\n\nexport default useBalance;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Dispatch, useEffect } from 'react';\nimport { AccountActionCreators } from '../../actions/accountActions';\nimport { useKeyringContext } from '../../contexts/KeyringContextProvider';\nimport { AccountsActionType, AccountState } from '../../types/accountTypes';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport useBalance from '../subscriptions/useBalance';\n\nconst useAccountsContextSetUp = (accountState: AccountState, dispatchAccount: Dispatch<AccountsActionType>) => {\n  const { keyringPairs, keyringPairsReady } = useKeyringContext();\n\n  const {\n    targetChainDetails: {\n      apiConnection: { api: targetApi }\n    },\n    sourceChainDetails: {\n      apiConnection: { api: sourceApi }\n    }\n  } = useSourceTarget();\n\n  const accountBalance = useBalance(sourceApi, accountState.account?.address || '', true);\n  const companionBalance = useBalance(targetApi, accountState.companionAccount || '', true);\n\n  useEffect(() => {\n    dispatchAccount(AccountActionCreators.setSenderBalances(accountBalance, companionBalance));\n  }, [accountBalance, companionBalance, dispatchAccount, accountState.account?.address, accountState.companionAccount]);\n\n  useEffect(() => {\n    if (keyringPairsReady && keyringPairs.length) {\n      dispatchAccount(AccountActionCreators.setAccounts(keyringPairs));\n    }\n  }, [keyringPairsReady, keyringPairs, dispatchAccount]);\n};\n\nexport default useAccountsContextSetUp;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nexport interface SubstrateDynamicNames {\n  bridgedGrandpaChain: string;\n  bridgedMessages: string;\n  estimatedFeeMethodName: string;\n  latestReceivedNonceMethodName: string;\n  storageKey: string;\n}\n\nexport function getSubstrateDynamicNames(key: string): SubstrateDynamicNames {\n  const bridgedGrandpaChain = `bridge${key}Grandpa`;\n  const bridgedMessages = `bridge${key}Messages`;\n  const estimatedFeeMethodName = `To${key}OutboundLaneApi_estimate_message_delivery_and_dispatch_fee`;\n  const latestReceivedNonceMethodName = `From${key}InboundLaneApi_latest_received_nonce`;\n\n  const storageKey = `${key}-bridge-ui-transactions`;\n\n  return {\n    bridgedGrandpaChain,\n    bridgedMessages,\n    estimatedFeeMethodName,\n    latestReceivedNonceMethodName,\n    storageKey\n  };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback } from 'react';\nimport { GENERIC, GENERIC_SUBSTRATE_PREFIX } from '../../constants';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { getSubstrateDynamicNames } from '../../util/getSubstrateDynamicNames';\n\nconst useChainGetters = () => {\n  const {\n    sourceChainDetails: {\n      apiConnection: { api: sourceApi, isApiReady: sourceIsApiReady },\n      chain: sourceChain,\n      configs: { ss58Format: sourceSS58Format, logoUrl: sourceLogoUrl }\n    },\n    targetChainDetails: {\n      apiConnection: { api: targetApi, isApiReady: targetIsApiReady },\n      chain: targetChain,\n      configs: { ss58Format: targetSS58Format, logoUrl: targetLogoUrl }\n    }\n  } = useSourceTarget();\n\n  const getValuesByChain = useCallback(\n    (chain: string) => {\n      switch (chain) {\n        case sourceChain:\n          return {\n            ss58Format: sourceSS58Format,\n            api: sourceApi,\n            isApiReady: sourceIsApiReady,\n            substrateValues: getSubstrateDynamicNames(targetChain),\n            logoUrl: sourceLogoUrl\n          };\n        case targetChain:\n          return {\n            ss58Format: targetSS58Format,\n            api: targetApi,\n            isApiReady: targetIsApiReady,\n            substrateValues: getSubstrateDynamicNames(sourceChain),\n            logoUrl: targetLogoUrl\n          };\n        default:\n          throw new Error(`Unknown type: ${chain}`);\n      }\n    },\n    [\n      sourceApi,\n      sourceChain,\n      sourceIsApiReady,\n      sourceLogoUrl,\n      sourceSS58Format,\n      targetApi,\n      targetChain,\n      targetIsApiReady,\n      targetLogoUrl,\n      targetSS58Format\n    ]\n  );\n\n  const getSS58PrefixByChain = (chain: string) => {\n    switch (chain) {\n      case GENERIC:\n        return GENERIC_SUBSTRATE_PREFIX;\n      case targetChain:\n        return targetSS58Format;\n      case sourceChain:\n        return sourceSS58Format;\n      default:\n        throw new Error(`Unknown type: ${chain}`);\n    }\n  };\n\n  return { getValuesByChain, getSS58PrefixByChain };\n};\n\nexport default useChainGetters;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { BalanceState } from '../types/accountTypes';\nimport { CreateType } from '../types/apiCallsTypes';\nimport { SourceTargetState } from '../types/sourceTargetTypes';\n\nimport {\n  TransactionStatusType,\n  TransactionTypes,\n  UpdatedTransactionStatusType,\n  ReceiverPayload,\n  PayloadEstimatedFee,\n  TransactionState,\n  PayFee\n} from '../types/transactionTypes';\n\nenum TransactionActionTypes {\n  SET_TRANSFER_AMOUNT = 'SET_TRANSFER_AMOUNT',\n  SET_REMARK_INPUT = 'SET_REMARK_INPUT',\n  SET_RECEIVER = 'SET_RECEIVER',\n  SET_RECEIVER_ADDRESS = 'SET_RECEIVER_ADDRESS',\n  SET_RECEIVER_VALIDATION = 'SET_RECEIVER_VALIDATION',\n  SET_SENDER = 'SET_SENDER',\n  SET_ACTION = 'SET_ACTION',\n  SET_PAYLOAD_ESTIMATED_FEE = 'SET_PAYLOAD_ESTIMATED_FEE',\n  CREATE_TRANSACTION_STATUS = 'CREATE_TRANSACTION_STATUS',\n  UPDATE_CURRENT_TRANSACTION_STATUS = 'UPDATE_CURRENT_TRANSACTION_STATUS',\n  SET_TRANSACTION_COMPLETED = 'SET_TRANSACTION_COMPLETED',\n  SET_TRANSACTION_RUNNING = 'SET_TRANSACTION_RUNNING',\n  SET_CUSTOM_CALL_INPUT = 'SET_CUSTOM_CALL_INPUT',\n  SET_WEIGHT_INPUT = 'SET_WEIGHT_INPUT',\n  UPDATE_TRANSACTIONS_STATUS = 'UPDATE_TRANSACTIONS_STATUS',\n  SET_BATCH_PAYLOAD_ESTIMATED_FEE = 'SET_BATCH_PAYLOAD_ESTIMATED_FEE',\n  UPDATE_SENDER_BALANCES = 'UPDATE_SENDER_BALANCES',\n  SET_TRANSFER_TYPE = 'SET_TRANSFER_TYPE',\n  ENABLE_TX_BUTTON = 'ENABLE_TX_BUTTON',\n  DISABLE_TX_BUTTON = 'DISABLE_TX_BUTTON',\n  RESET = 'RESET',\n  CHANGE_DISPATCH_FEE_PAY_CHAIN = 'CHANGE_DISPATCH_FEE_PAY_CHAIN',\n  SET_TRANSACTION_TO_BE_EXECUTED = 'SET_TRANSACTION_TO_BE_EXECUTED'\n}\n\nconst setTransferAmount = (transferAmount: string | null, chainDecimals?: number) => {\n  return {\n    payload: { transferAmount, chainDecimals },\n    type: TransactionActionTypes.SET_TRANSFER_AMOUNT\n  };\n};\n\ninterface PayloadEstimateFeeAction {\n  payloadEstimatedFeeError: string | null;\n  payloadEstimatedFee: PayloadEstimatedFee | null;\n  payloadEstimatedFeeLoading: boolean;\n  sourceTargetDetails: SourceTargetState;\n  createType: CreateType;\n  isBridged: boolean;\n  senderAccountBalance: BalanceState | null;\n  senderCompanionAccountBalance: BalanceState | null;\n  chainDecimals: number;\n}\n\nconst setPayloadEstimatedFee = ({\n  payloadEstimatedFeeError,\n  payloadEstimatedFee,\n  payloadEstimatedFeeLoading,\n  sourceTargetDetails,\n  createType,\n  isBridged,\n  senderAccountBalance,\n  senderCompanionAccountBalance,\n  chainDecimals\n}: PayloadEstimateFeeAction) => ({\n  payload: {\n    payloadEstimatedFee,\n    payloadEstimatedFeeError,\n    payloadEstimatedFeeLoading,\n    sourceTargetDetails,\n    createType,\n    isBridged,\n    senderAccountBalance,\n    senderCompanionAccountBalance,\n    chainDecimals\n  },\n  type: TransactionActionTypes.SET_PAYLOAD_ESTIMATED_FEE\n});\n\nconst updateTransactionsStatus = (\n  evaluateTransactionStatusError: string | null,\n  transactions: TransactionStatusType[] | null,\n  evaluatingTransactions: boolean\n) => ({\n  payload: { evaluateTransactionStatusError, transactions, evaluatingTransactions },\n  type: TransactionActionTypes.UPDATE_TRANSACTIONS_STATUS\n});\n\nconst setReceiverAddress = (receiverAddress: string | null) => ({\n  payload: { receiverAddress },\n  type: TransactionActionTypes.SET_RECEIVER_ADDRESS\n});\n\nconst setReceiver = (receiverPayload: ReceiverPayload) => ({\n  payload: { receiverPayload },\n  type: TransactionActionTypes.SET_RECEIVER\n});\n\nconst createTransactionStatus = (initialTransaction: TransactionStatusType) => {\n  return {\n    payload: { initialTransaction },\n    type: TransactionActionTypes.CREATE_TRANSACTION_STATUS\n  };\n};\n\nconst updateTransactionStatus = (updatedValues: UpdatedTransactionStatusType, id: string) => {\n  return {\n    payload: { id, updatedValues },\n    type: TransactionActionTypes.UPDATE_CURRENT_TRANSACTION_STATUS\n  };\n};\n\nconst reset = () => ({\n  payload: {},\n  type: TransactionActionTypes.RESET\n});\n\nconst setTransactionRunning = (transactionRunning: boolean) => ({\n  payload: { transactionRunning },\n  type: TransactionActionTypes.SET_TRANSACTION_RUNNING\n});\n\nconst setTransactionToBeExecuted = (transactionToBeExecuted: boolean) => ({\n  payload: { transactionToBeExecuted },\n  type: TransactionActionTypes.SET_TRANSACTION_TO_BE_EXECUTED\n});\n\nconst setAction = (action: TransactionTypes) => ({\n  payload: { action },\n  type: TransactionActionTypes.SET_ACTION\n});\n\nconst setSender = (senderAccount: string | null) => ({\n  payload: { senderAccount },\n  type: TransactionActionTypes.SET_SENDER\n});\n\nconst setRemarkInput = (remarkInput: string | null) => ({\n  payload: { remarkInput },\n  type: TransactionActionTypes.SET_REMARK_INPUT\n});\n\nconst setCustomCallInput = (customCallInput: string | null, createType: CreateType, targetChain: string) => ({\n  payload: { customCallInput, createType, targetChain },\n  type: TransactionActionTypes.SET_CUSTOM_CALL_INPUT\n});\n\nconst setWeightInput = (weightInput: string | null) => ({\n  payload: { weightInput },\n  type: TransactionActionTypes.SET_WEIGHT_INPUT\n});\n\nconst setBatchedEvaluationPayloadEstimatedFee = (batchedTransactionState: TransactionState | null) => ({\n  payload: { batchedTransactionState },\n  type: TransactionActionTypes.SET_BATCH_PAYLOAD_ESTIMATED_FEE\n});\n\ntype UpdateSenderBalances = {\n  senderAccountBalance: BalanceState | null;\n  senderCompanionAccountBalance: BalanceState | null;\n};\n\nconst updateSenderBalances = ({ senderAccountBalance, senderCompanionAccountBalance }: UpdateSenderBalances) => ({\n  payload: { senderAccountBalance, senderCompanionAccountBalance },\n  type: TransactionActionTypes.UPDATE_SENDER_BALANCES\n});\n\nconst setTransferType = (transferType: TransactionTypes) => ({\n  payload: { transferType },\n  type: TransactionActionTypes.SET_TRANSFER_TYPE\n});\n\nconst enableTxButton = () => ({\n  payload: {},\n  type: TransactionActionTypes.ENABLE_TX_BUTTON\n});\n\nconst disableTXButton = () => ({\n  payload: {},\n  type: TransactionActionTypes.DISABLE_TX_BUTTON\n});\n\nconst changeDispatchFeePayChain = (payFee: PayFee) => ({\n  payload: { payFee },\n  type: TransactionActionTypes.CHANGE_DISPATCH_FEE_PAY_CHAIN\n});\n\nconst TransactionActionCreators = {\n  setSender,\n  setAction,\n  setReceiverAddress,\n  setReceiver,\n  setTransferAmount,\n  setPayloadEstimatedFee,\n  setCustomCallInput,\n  setWeightInput,\n  setRemarkInput,\n  setTransactionRunning,\n  setTransactionToBeExecuted,\n  createTransactionStatus,\n  updateTransactionStatus,\n  updateTransactionsStatus,\n  setBatchedEvaluationPayloadEstimatedFee,\n  updateSenderBalances,\n  setTransferType,\n  enableTxButton,\n  disableTXButton,\n  changeDispatchFeePayChain,\n  reset\n};\n\nexport { TransactionActionCreators, TransactionActionTypes };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport BN from 'bn.js';\nimport { TransactionActionTypes } from '../actions/transactionActions';\nimport { ChainState } from './sourceTargetTypes';\n\nexport interface Payload {\n  [propName: string]: any;\n}\n\nexport interface UpdatedTransactionStatusType {\n  [propName: string]: any;\n}\n\nexport enum TransactionStatusEnum {\n  NOT_STARTED = 'NOT_STARTED',\n  CREATED = 'CREATED',\n  IN_PROGRESS = 'IN_PROGRESS',\n  COMPLETED = 'COMPLETED',\n  FINALIZED = 'FINALIZED',\n  FAILED = 'FAILED'\n}\n\nexport enum SwitchTabEnum {\n  RECEIPT = 'RECEIPT',\n  PAYLOAD = 'PAYLOAD',\n  DECODED = 'DECODED'\n}\n\nexport interface Fees {\n  estimatedFeeMessageDelivery: string;\n  estimatedFeeBridgeCall: string;\n  estimatedFeeTarget: string;\n}\n\nexport interface BridgedTransactionPayload {\n  call: Uint8Array;\n  origin: {\n    SourceAccount: Uint8Array;\n  };\n  dispatch_fee_payment: { _enum: [PayFee] };\n  spec_version: number;\n  weight: number;\n}\n\nexport interface InternalTransferPayload {\n  sourceAccount: string | null;\n  transferAmount: number;\n  receiverAddress: string | null;\n  weight: number;\n}\n\nexport type TransactionPayload = BridgedTransactionPayload | InternalTransferPayload;\n\nexport interface TransactionDisplayPayload {\n  call: Object;\n  origin: Object;\n  spec_version: string;\n  dispatch_fee_payment: PayFee;\n  weight: number;\n}\n\nexport type PayloadEstimatedFee = {\n  payload: TransactionPayload | null;\n  estimatedSourceFee: string | null;\n  estimatedFeeMessageDelivery: string | null;\n  estimatedFeeBridgeCall: string | null;\n  estimatedTargetFee: string | null;\n};\n\nexport type DisplayPayload = TransactionDisplayPayload | InternalTransferPayload;\n\nexport interface TransactionStatusType extends UpdatedTransactionStatusType {\n  input?: string;\n  sourceChain: string;\n  targetChain: string;\n  senderCompanionAccount?: string | null;\n  senderName: string | null;\n  sourceAccount: null | string;\n  receiverAddress: null | string;\n  type: TransactionTypes;\n  transferAmount?: string | null;\n  status: TransactionStatusEnum;\n  deliveryBlock: string | null;\n}\n\nexport enum PayFee {\n  AtTargetChain = 'AtTargetChain',\n  AtSourceChain = 'AtSourceChain'\n}\n\nexport interface TransactionState {\n  resetedAt: string | null;\n  senderAccount: string | null;\n  remarkInput: string;\n  customCallInput: string;\n  customCallError: string | null;\n  weightInput: string | null;\n  transferAmount: BN | null;\n  transferAmountError: string | null;\n  payFee: PayFee;\n  estimatedSourceFee: string | null;\n  estimatedFeeMessageDelivery: string | null;\n  estimatedFeeBridgeCall: string | null;\n  estimatedTargetFee: string | null;\n  receiverAddress: string | null;\n  unformattedReceiverAddress: string | null;\n  derivedReceiverAccount: string | null;\n  genericReceiverAccount: string | null;\n  transactions: Array<TransactionStatusType>;\n  evaluatingTransactions: boolean;\n  transactionDisplayPayload: DisplayPayload | null;\n  transactionRunning: boolean;\n  transactionToBeExecuted: boolean;\n  transactionReadyToExecute: boolean;\n  evaluateTransactionStatusError: string | null;\n  addressValidationError: string | null;\n  showBalance: boolean;\n  formatFound: string | null;\n  payload: TransactionPayload | null;\n  payloadHex: string | null;\n  shouldEvaluatePayloadEstimatedFee: boolean;\n  payloadEstimatedFeeError: string | null;\n  payloadEstimatedFeeLoading: boolean;\n  batchedTransactionState: TransactionState | null;\n  action: TransactionTypes;\n}\n\nexport type TransactionsActionType = { type: TransactionActionTypes; payload: Payload };\n\nexport enum TransactionTypes {\n  CUSTOM = 'CUSTOM',\n  TRANSFER = 'TRANSFER',\n  REMARK = 'REMARK',\n  INTERNAL_TRANSFER = 'INTERNAL_TRANSFER'\n}\n\nexport enum EvalMessages {\n  GIBBERISH = 'Input is not correct. Use numbers, floats or expression (e.g. 1k, 1.3m)',\n  ZERO = 'You cannot send 0 funds',\n  SUCCESS = '',\n  SYMBOL_ERROR = 'Provided symbol is not correct',\n  GENERAL_ERROR = 'Check your input. Something went wrong'\n}\n\nexport interface Step {\n  id: string;\n  chainType: string;\n  label: string;\n  labelOnChain?: string;\n  status: keyof typeof TransactionStatusEnum;\n}\n\nexport interface ReceiverPayload {\n  unformattedReceiverAddress: string | null;\n  sourceChainDetails: ChainState;\n  targetChainDetails: ChainState;\n  isBridged: boolean;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\nimport { Configs } from '../types/sourceTargetTypes';\nimport type { Text } from '@polkadot/types';\nimport { getSubstrateDynamicNames } from './getSubstrateDynamicNames';\n\nexport const getConfigs = async (apiPromise: ApiPromise): Promise<Configs> => {\n  const properties = apiPromise.registry.getChainProperties();\n  const { ss58Format } = properties!;\n  const systemChain = await apiPromise.rpc.system.chain();\n  const chainName = (systemChain as Text).split(' ')[0];\n\n  let logoUrl;\n  try {\n    logoUrl = require(`../assets/chainsLogos/${chainName.toLowerCase()}.png`).default;\n  } catch (e) {\n    logoUrl = require('../assets/chainsLogos/local.png').default;\n  }\n\n  return { chainName, ss58Format: parseInt(ss58Format.toString()), logoUrl };\n};\n\nexport const getBridgeId = (sourceApi: ApiPromise, targetChain: string): Uint8Array => {\n  const { bridgedMessages } = getSubstrateDynamicNames(targetChain);\n  const bridgeId = sourceApi.consts[bridgedMessages].bridgedChainId.toU8a();\n\n  if (!bridgeId) {\n    throw new Error(`Missing bridgeId for ${targetChain} in ${bridgedMessages} pallet.`);\n  }\n\n  return bridgeId;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { compactAddLength, stringToU8a } from '@polkadot/util';\nimport { blake2AsHex, decodeAddress, encodeAddress } from '@polkadot/util-crypto';\n\nconst accountDerivation = 'pallet-bridge/account-derivation/account';\n\ninterface Data {\n  ss58Format: number;\n  bridgeId: Uint8Array;\n  address: string;\n}\n\nexport default function getDeriveAccount({ ss58Format = 42, bridgeId, address }: Data): string {\n  if (!address) {\n    return address;\n  }\n  const input = [...compactAddLength(stringToU8a(accountDerivation)), ...bridgeId, ...decodeAddress(address)];\n  return encodeAddress(blake2AsHex(Uint8Array.from(input)), ss58Format);\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nexport default (item: string) => {\n  if (!item || item.length < 8) {\n    return item;\n  }\n\n  return `${item.substring(0, 6)}...${item.substring(item.length - 8)}`;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { formatBalance, hexToU8a, isHex, u8aToHex } from '@polkadot/util';\nimport type { SignedBlock, BlockHash } from '@polkadot/types/interfaces';\nimport type { Vec } from '@polkadot/types';\n\nimport BN from 'bn.js';\nimport { ApiPromise } from '@polkadot/api';\nimport {\n  TransactionStatusType,\n  TransactionStatusEnum,\n  Payload,\n  TransactionDisplayPayload,\n  TransactionTypes,\n  TransactionState,\n  Step\n} from '../../types/transactionTypes';\nimport shortenItem from '../shortenItem';\nimport has from 'lodash/has';\nimport { Subscriptions } from '../../types/subscriptionsTypes';\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport { SourceTargetState } from '../../types/sourceTargetTypes';\nimport { MessageActionsCreators } from '../../actions/messageActions';\nimport { getSubstrateDynamicNames } from '../getSubstrateDynamicNames';\nimport isEmpty from 'lodash/isEmpty';\nimport type { InterfaceTypes } from '@polkadot/types/types';\nimport logger from '../logger';\nimport { Account } from '../../types/accountTypes';\nimport { MESSAGE_DISPATCH_EVENT, MESSAGE_NONCE_TYPE, OK } from '../../constants';\n\nexport function isTransactionCompleted(transaction: TransactionStatusType): boolean {\n  return transaction.status === TransactionStatusEnum.COMPLETED;\n}\n\ninterface PayloadInput {\n  payload: Payload;\n  account: string;\n  createType: Function;\n  sourceTargetDetails: SourceTargetState;\n}\n\ninterface Output {\n  transactionDisplayPayload: TransactionDisplayPayload | null;\n  payloadHex: string | null;\n}\n\nconst LOCAL = 'LOCAL';\n\nexport function getTransactionDisplayPayload({\n  payload,\n  account,\n  createType,\n  sourceTargetDetails\n}: PayloadInput): Output {\n  const {\n    sourceChainDetails: {\n      chain: sourceChain,\n      configs: { ss58Format }\n    },\n    targetChainDetails: { chain: targetChain }\n  } = sourceTargetDetails;\n  const payloadType = createType(sourceChain as keyof InterfaceTypes, 'OutboundPayload', payload);\n  const payloadHex = payloadType.toHex();\n  const callType = createType(targetChain as keyof InterfaceTypes, 'BridgedOpaqueCall', payload.call);\n  const call = createType(targetChain as keyof InterfaceTypes, 'Call', callType.toHex());\n  const formatedAccount = encodeAddress(account, ss58Format);\n\n  const transactionDisplayPayload = {} as TransactionDisplayPayload;\n  const { spec_version, weight, dispatch_fee_payment } = payload;\n  transactionDisplayPayload.call = JSON.parse(call);\n  transactionDisplayPayload.origin = {\n    SourceAccount: formatedAccount\n  };\n  transactionDisplayPayload.weight = weight;\n\n  transactionDisplayPayload.dispatch_fee_payment = dispatch_fee_payment;\n  transactionDisplayPayload.spec_version = spec_version;\n  return { transactionDisplayPayload, payloadHex };\n}\n\ninterface TransactionCallWeightInput {\n  action: TransactionTypes;\n  account: Account;\n  targetApi: ApiPromise;\n  transactionState: TransactionState;\n}\n\nexport async function getTransactionCallWeight({\n  action,\n  account,\n  targetApi,\n  transactionState\n}: TransactionCallWeightInput) {\n  let weight: number = 0;\n  let call: Uint8Array | null = null;\n  const { receiverAddress, transferAmount, remarkInput, customCallInput, weightInput } = transactionState;\n\n  if (account) {\n    switch (action) {\n      case TransactionTypes.REMARK:\n        call = (await targetApi.tx.system.remark(remarkInput)).toU8a();\n        // TODO [#121] Figure out what the extra bytes are about\n        logger.info(`system::remark: ${u8aToHex(call)}`);\n        weight = (await targetApi.tx.system.remark(remarkInput).paymentInfo(account)).weight.toNumber();\n        break;\n      case TransactionTypes.TRANSFER:\n        if (receiverAddress) {\n          call = (await targetApi.tx.balances.transfer(receiverAddress, transferAmount || 0)).toU8a();\n          // TODO [#121] Figure out what the extra bytes are about\n          logger.info(`balances::transfer: ${u8aToHex(call)}`);\n          logger.info(`after balances::transfer: ${u8aToHex(call)}`);\n          weight = (\n            await targetApi.tx.balances.transfer(receiverAddress, transferAmount || 0).paymentInfo(account)\n          ).weight.toNumber();\n        }\n        break;\n      case TransactionTypes.CUSTOM:\n        if (customCallInput) {\n          call = isHex(customCallInput) ? hexToU8a(customCallInput.toString()) : null;\n          weight = parseInt(weightInput!);\n        }\n        break;\n      default:\n        throw new Error(`Unknown type: ${action}`);\n    }\n  }\n  return { call, weight };\n}\n\ninterface FeeWeightInternal {\n  api: ApiPromise;\n  transactionState: TransactionState;\n}\n\nexport async function getFeeAndWeightForInternals({ api, transactionState }: FeeWeightInternal) {\n  const { receiverAddress, transferAmount, senderAccount } = transactionState;\n  const transfer = api.tx.balances.transfer(receiverAddress!, transferAmount || 0);\n\n  const { partialFee, weight } = await transfer.paymentInfo(senderAccount!);\n  return { estimatedFee: partialFee.toString(), weight: weight.toNumber() };\n}\n\nconst stepEvaluator = (transactionValue: string | number | null, chainValue: string | number | null): boolean => {\n  if (!transactionValue || !chainValue) return false;\n\n  const bnChainValue = new BN(chainValue);\n  const bnTransactionValue = new BN(transactionValue);\n\n  return bnChainValue.gte(bnTransactionValue);\n};\n\nconst completionStatus = (isCompleted: boolean): TransactionStatusEnum => {\n  return isCompleted ? TransactionStatusEnum.COMPLETED : TransactionStatusEnum.IN_PROGRESS;\n};\n\nconst evaluateAllSteps = (steps: Step[]) => {\n  const notCompleted = steps.find(({ status }) => status !== TransactionStatusEnum.COMPLETED);\n  return !notCompleted;\n};\n\ninterface ApiCalls {\n  targetApi: ApiPromise;\n  stateCall: Function;\n  createType: Function;\n}\n\ninterface InputTransactionUpdates {\n  transaction: TransactionStatusType;\n  sourceSubscriptions: Subscriptions;\n  targetSubscriptions: Subscriptions;\n  apiCalls: ApiCalls;\n  dispatchMessage: Function; // To type correctly\n  laneId: string;\n}\n\nfunction deepFind(data: any[], value: string) {\n  function iter(subData: any) {\n    if (value === OK ? has(subData.toJSON(), 'ok') : subData.toString() === value) {\n      result = subData;\n      return true;\n    }\n    return Array.isArray(subData) && subData.some(iter);\n  }\n\n  let result;\n  data.some(iter);\n  return result;\n}\n\nconst checkMessageDispatchedEvent = async (\n  targetApi: ApiPromise,\n  blockNumber: string | null,\n  messageNonce: string | null\n) => {\n  if (!blockNumber || !messageNonce) {\n    return TransactionStatusEnum.IN_PROGRESS;\n  }\n  const blockHash = (await targetApi.rpc.chain.getBlockHash(blockNumber)) as BlockHash;\n  const signedBlock = (await targetApi.rpc.chain.getBlock(blockHash)) as SignedBlock;\n  const allRecords = (await targetApi.query.system.events.at(signedBlock.block.header.hash)) as Vec<any>;\n\n  let status = TransactionStatusEnum.FAILED;\n  signedBlock.block.extrinsics.forEach((ext, index) => {\n    const events = allRecords.filter(({ phase }) => phase.isApplyExtrinsic && phase.asApplyExtrinsic.eq(index));\n    const found = events.find(({ event: { method, data } }) => {\n      return method === MESSAGE_DISPATCH_EVENT && deepFind(data, messageNonce) && deepFind(data, OK);\n    });\n    if (found) {\n      status = TransactionStatusEnum.COMPLETED;\n    }\n  });\n  return status;\n};\n\nconst getLatestReceivedNonce = async (\n  blockNumber: string,\n  sourceChain: string,\n  targetChain: string,\n  laneId: string,\n  apiCalls: ApiCalls\n) => {\n  const { targetApi, stateCall, createType } = apiCalls;\n  const { latestReceivedNonceMethodName } = getSubstrateDynamicNames(sourceChain);\n  const blockHash = (await targetApi.rpc.chain.getBlockHash(blockNumber)) as BlockHash;\n  const latestReceivedNonceCall = await stateCall(\n    targetChain,\n    latestReceivedNonceMethodName,\n    laneId,\n    blockHash.toJSON()\n  );\n\n  const latestReceivedNonceCallType = createType(targetChain, MESSAGE_NONCE_TYPE, latestReceivedNonceCall);\n  const latestReceivedNonce = latestReceivedNonceCallType.toString();\n  return parseInt(latestReceivedNonce);\n};\n\nexport const handleTransactionUpdates = async ({\n  transaction,\n  sourceSubscriptions,\n  targetSubscriptions,\n  dispatchMessage,\n  apiCalls,\n  laneId\n}: InputTransactionUpdates) => {\n  const {\n    bestBlockFinalized,\n    outboundLanes: { latestReceivedNonce: latestReceivedNonceOnSource }\n  } = sourceSubscriptions;\n  const {\n    bestBridgedFinalizedBlock: bestBridgedFinalizedBlockOnTarget,\n    bestBlock: bestBlockOnTarget\n  } = targetSubscriptions;\n\n  const { sourceChain, targetChain, deliveryBlock, status, messageNonce, steps, type } = transaction;\n\n  if (type === TransactionTypes.INTERNAL_TRANSFER) {\n    return transaction;\n  }\n\n  const nonceOfFinalTargetBlock = await getLatestReceivedNonce(\n    bestBlockFinalized,\n    sourceChain,\n    targetChain,\n    laneId,\n    apiCalls\n  );\n  const nonceOfBestTargetBlock = await getLatestReceivedNonce(\n    bestBlockOnTarget,\n    sourceChain,\n    targetChain,\n    laneId,\n    apiCalls\n  );\n\n  // 1. We wait until the block transaction gets finalized  ( source.bestBlockFinalized is greater or equal to transaction.block )\n  const sourceTransactionFinalized = stepEvaluator(transaction.block, bestBlockFinalized);\n  // 2. When the target chain knows about a bigger source block number we infer that transaction block was realayed to target chain.\n  const blockFinalityRelayed = stepEvaluator(transaction.block, bestBridgedFinalizedBlockOnTarget);\n  // 3.1 We read the latest received nonce of the target chain rpc state call.\n  // 3.2 With the value obtained we compare it with the transaction nonce, if the value is bigger or equal then means target chain is aware about this nonce.\n  const messageDelivered = stepEvaluator(transaction.messageNonce, nonceOfBestTargetBlock);\n  // 4.1 *\n  // 4.2 We match the transaction nonce with the current nonce of the best finalized target block\n  const messageFinalizedOnTarget = stepEvaluator(transaction.messageNonce, nonceOfFinalTargetBlock);\n\n  // 5. Once the source chain is confirms through the latestReceivedNonceOnSource, that target chain is aware about the message nonce, the transaction is completed.\n  const sourceConfirmationReceived =\n    stepEvaluator(transaction.messageNonce, latestReceivedNonceOnSource) && messageFinalizedOnTarget;\n  const onChainCompleted = (value: boolean) => completionStatus(value) === TransactionStatusEnum.COMPLETED;\n\n  // 4.1 * We catch the best block on target related to the message delivery.\n  let updateDeliveryBlock = false;\n  if (messageDelivered && !deliveryBlock) {\n    updateDeliveryBlock = true;\n  }\n\n  let setTransactionComplete = false;\n\n  let messageDispatched = steps[4].status;\n  if (steps[4].status !== TransactionStatusEnum.COMPLETED) {\n    messageDispatched = await checkMessageDispatchedEvent(apiCalls.targetApi, deliveryBlock, messageNonce);\n  }\n\n  const updatedSteps = [\n    step(1, sourceChain, completionStatus(!!transaction.block), transaction.block),\n    step(2, sourceChain, completionStatus(sourceTransactionFinalized)),\n    step(3, targetChain, completionStatus(blockFinalityRelayed)),\n    step(4, targetChain, completionStatus(messageDelivered), onChainCompleted(messageDelivered) && deliveryBlock),\n    step(5, targetChain, messageDispatched),\n    step(6, targetChain, completionStatus(messageFinalizedOnTarget)),\n    step(7, sourceChain, completionStatus(sourceConfirmationReceived))\n  ];\n\n  if (sourceConfirmationReceived) {\n    const successfulTransfer = evaluateAllSteps(updatedSteps);\n    if (successfulTransfer) {\n      dispatchMessage(\n        MessageActionsCreators.triggerSuccessMessage({\n          message: `Transaction: ${shortenItem(transaction.blockHash)} is completed`\n        })\n      );\n    } else {\n      dispatchMessage(\n        MessageActionsCreators.triggerErrorMessage({\n          message: `Transaction: ${shortenItem(transaction.blockHash)} was not successful.`\n        })\n      );\n    }\n    setTransactionComplete = true;\n  }\n\n  return {\n    ...transaction,\n    steps: updatedSteps,\n    deliveryBlock: updateDeliveryBlock ? bestBlockOnTarget : deliveryBlock,\n    status: setTransactionComplete ? TransactionStatusEnum.COMPLETED : status,\n    evaluating: false\n  };\n};\n\nconst bridgedSteps = [\n  ['include-message-block', 'Include message in block'],\n  ['finalized-block', 'Finalize block'],\n  ['relay-block', 'Relay block'],\n  ['deliver-message-block', 'Deliver message in target block'],\n  ['message-dispatch-confirmation', 'Message dispatch confirmation'],\n  ['finalized-message', 'Finalize message'],\n  ['confirm-delivery', 'Confirm delivery']\n];\n\nconst internalSteps = [\n  ['include-message-block', 'Include message in block'],\n  ['finalized-block', 'Finalize block']\n];\n\nconst step = (step: number, chainType: string, status?: TransactionStatusEnum, labelOnChain?: any, type?: string) => {\n  const steps = type === 'local' ? internalSteps : bridgedSteps;\n  const obj = {\n    id: 'test-step-' + steps[step - 1][0],\n    chainType,\n    label: steps[step - 1][1],\n    status: status || TransactionStatusEnum.NOT_STARTED\n  };\n  if (!isEmpty(labelOnChain)) {\n    return { ...obj, labelOnChain };\n  }\n  return obj;\n};\n\nexport const createEmptySteps = (sourceChain: string, targetChain: string) => [\n  step(1, sourceChain),\n  step(2, sourceChain),\n  step(3, targetChain),\n  step(4, targetChain),\n  step(5, targetChain),\n  step(6, targetChain),\n  step(7, sourceChain)\n];\n\nexport const createEmptyInternalSteps = (sourceChain: string) => [\n  step(1, sourceChain, undefined, null, LOCAL),\n  step(2, sourceChain, undefined, null, LOCAL)\n];\n\nexport const handleInternalTransactionUpdates = (transaction: TransactionStatusType, sourceChain: string) => {\n  const { steps, block, status } = transaction;\n  const updatedSteps = [...steps];\n  let nextStatus = status;\n  if (block && status !== TransactionStatusEnum.FINALIZED) {\n    updatedSteps[0] = step(1, sourceChain, TransactionStatusEnum.COMPLETED, block, LOCAL);\n  }\n\n  if (status === TransactionStatusEnum.FINALIZED) {\n    updatedSteps[1] = step(2, sourceChain, TransactionStatusEnum.COMPLETED, null, LOCAL);\n    nextStatus = TransactionStatusEnum.COMPLETED;\n  }\n\n  return { ...transaction, steps: updatedSteps, status: nextStatus, evaluating: false };\n};\n\nexport const getFormattedAmount = (api: ApiPromise, amount: BN | null, type: TransactionTypes): string | null => {\n  if ((type === TransactionTypes.TRANSFER || type === TransactionTypes.INTERNAL_TRANSFER) && amount) {\n    const decimals = api.registry.chainDecimals[0];\n    const withUnit = api.registry.chainTokens[0];\n    return formatBalance(amount, {\n      decimals,\n      withUnit,\n      withSi: true\n    });\n  }\n  return null;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Account } from '../../types/accountTypes';\n\nconst getName = (account: Account) => (account!.meta.name as string).toLocaleUpperCase();\n\nexport default getName;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\n\nexport enum ChainSubscriptions {\n  SOURCE = 'sourceSubscriptions',\n  TARGET = 'targetSubscriptions'\n}\n\ninterface OutboundLanes {\n  latestReceivedNonce: string;\n  pendingMessages: string;\n  totalMessages: string;\n}\nexport interface Subscriptions {\n  bestBlock: string;\n  bestBlockFinalized: string;\n  bestBridgedFinalizedBlock: string;\n  bridgeReceivedMessages: string;\n  outboundLanes: OutboundLanes;\n}\n\nexport interface SubscriptionsContextType {\n  [ChainSubscriptions.SOURCE]: Subscriptions;\n  [ChainSubscriptions.TARGET]: Subscriptions;\n}\n\nexport interface SubscriptionInput {\n  chain: string;\n  api: ApiPromise;\n  isApiReady: boolean;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback } from 'react';\nimport { Text, Bytes } from '@polkadot/types';\nimport { Codec } from '@polkadot/types/types';\nimport type { SignedBlock } from '@polkadot/types/interfaces';\nimport { ApiCallsContextType } from '../../types/apiCallsTypes';\nimport useChainGetters from '../chain/useChainGetters';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { web3FromSource } from '@polkadot/extension-dapp';\nimport { KeyringPair } from '@polkadot/keyring/types';\nimport { SignerOptions } from '@polkadot/api/types';\nimport { TransactionStatusEnum, TransactionTypes } from '../../types/transactionTypes';\nimport { MessageActionsCreators } from '../../actions/messageActions';\nimport logger from '../../util/logger';\nimport { formatBalance } from '@polkadot/util';\nimport { getBridgeId } from '../../util/getConfigs';\nimport getDeriveAccount from '../../util/getDeriveAccount';\nimport { useKeyringContext } from '../../contexts/KeyringContextProvider';\nimport { ApiPromise } from '@polkadot/api';\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport { AccountActionCreators } from '../../actions/accountActions';\nimport { BalanceState } from '../../types/accountTypes';\nimport { createEmptyInternalSteps } from '../../util/transactions';\nimport { getName } from '../../util/accounts';\n\nconst useApiCalls = (): ApiCallsContextType => {\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n  const {\n    apiConnection: { api: sourceApi },\n    chain: sourceChain\n  } = sourceChainDetails;\n  const { keyringPairs, keyringPairsReady } = useKeyringContext();\n  const { getValuesByChain } = useChainGetters();\n\n  const createType = useCallback(\n    (chain, type, data) => {\n      const { api } = getValuesByChain(chain);\n      return api.registry.createType(type, data);\n    },\n    [getValuesByChain]\n  );\n\n  const stateCall = useCallback(\n    (chain: string, methodName: string | Text, data: string | Uint8Array | Bytes, at) => {\n      const { api } = getValuesByChain(chain);\n\n      const params: [string | Text, string | Uint8Array | Bytes] = [methodName, data];\n      if (at) {\n        params.push(at);\n      }\n\n      return api.rpc.state.call<Codec>(...params);\n    },\n    [getValuesByChain]\n  );\n\n  const internalTransfer = useCallback(\n    async (dispatchers, transfersData) => {\n      const { dispatchTransaction, dispatchMessage } = dispatchers;\n      const { receiverAddress, transferAmount, account } = transfersData;\n      const type = TransactionTypes.INTERNAL_TRANSFER;\n\n      const id = Date.now().toString();\n      dispatchTransaction(TransactionActionCreators.setTransactionRunning(true));\n\n      try {\n        const transfer = sourceApi.tx.balances.transfer(receiverAddress, transferAmount);\n        const options: Partial<SignerOptions> = {\n          nonce: -1\n        };\n        let sourceAccount: string | KeyringPair = account;\n        if (account.meta.isInjected) {\n          const injector = await web3FromSource(account.meta.source as string);\n          options.signer = injector.signer;\n          sourceAccount = account.address;\n        }\n\n        const transactionDisplayPayload = {\n          sourceAccount: account?.address || sourceAccount,\n          transferAmount: transferAmount.toNumber(),\n          receiverAddress\n        };\n\n        const unsub = await transfer.signAndSend(sourceAccount, { ...options }, async ({ status }) => {\n          const steps = createEmptyInternalSteps(sourceChain);\n          if (status.isReady) {\n            dispatchTransaction(\n              TransactionActionCreators.createTransactionStatus({\n                block: null,\n                blockHash: null,\n                deliveryBlock: null,\n                id,\n                input: transferAmount,\n                messageNonce: null,\n                receiverAddress,\n                sourceAccount: account.address,\n                senderName: getName(account),\n                sourceChain,\n                status: TransactionStatusEnum.IN_PROGRESS,\n                targetChain: '',\n                type,\n                transactionDisplayPayload,\n                payloadHex: transfer.toHex(),\n                steps\n              })\n            );\n          }\n\n          if (status.isBroadcast) {\n            dispatchMessage(MessageActionsCreators.triggerInfoMessage({ message: 'Transaction was broadcasted' }));\n            dispatchTransaction(TransactionActionCreators.reset());\n          }\n\n          if (status.isInBlock) {\n            try {\n              const res = (await sourceApi.rpc.chain.getBlock(status.asInBlock)) as SignedBlock;\n              const block = res.block.header.number.toString();\n              dispatchTransaction(\n                TransactionActionCreators.updateTransactionStatus(\n                  {\n                    block,\n                    blockHash: status.asInBlock.toString()\n                  },\n                  id\n                )\n              );\n            } catch (e) {\n              if (e instanceof Error) {\n                logger.error(e.message);\n                throw new Error('Issue reading block information.');\n              }\n            }\n          }\n\n          if (status.isFinalized) {\n            dispatchTransaction(\n              TransactionActionCreators.updateTransactionStatus(\n                {\n                  status: TransactionStatusEnum.FINALIZED\n                },\n                id\n              )\n            );\n            logger.info(`Transaction finalized at blockHash ${status.asFinalized}`);\n            unsub();\n          }\n        });\n      } catch (e) {\n        if (e instanceof Error) {\n          dispatchMessage(MessageActionsCreators.triggerErrorMessage({ message: e.message }));\n          logger.error(e.message);\n        }\n      } finally {\n        dispatchTransaction(TransactionActionCreators.setTransactionRunning(false));\n      }\n    },\n    [sourceApi.rpc.chain, sourceApi.tx.balances, sourceChain]\n  );\n\n  const updateSenderAccountsInformation = useCallback(\n    async (dispatchAccount) => {\n      const formatBalanceAddress = (data: any, api: ApiPromise): BalanceState => {\n        return {\n          chainTokens: data.registry.chainTokens[0],\n          formattedBalance: formatBalance(data.free, {\n            decimals: api.registry.chainDecimals[0],\n            withUnit: api.registry.chainTokens[0],\n            withSi: true\n          }),\n          free: data.free\n        };\n      };\n\n      if (!keyringPairsReady || !keyringPairs.length) {\n        return {};\n      }\n\n      const getAccountInformation = async (sourceRole: any, targetRole: any) => {\n        const {\n          apiConnection: { api: sourceApi },\n          chain: sourceChain,\n          configs: sourceConfigs\n        } = sourceRole;\n        const {\n          apiConnection: { api: targetApi },\n          configs: targetConfigs\n        } = targetRole;\n\n        const accounts = await Promise.all(\n          keyringPairs.map(async ({ address, meta }) => {\n            const sourceAddress = encodeAddress(address, sourceConfigs.ss58Format);\n            const toDerive = {\n              ss58Format: targetConfigs.ss58Format,\n              address: sourceAddress || '',\n              bridgeId: getBridgeId(targetApi, sourceChain)\n            };\n            const { data } = await sourceApi.query.system.account(sourceAddress);\n            const sourceBalance = formatBalanceAddress(data, sourceApi);\n\n            const companionAddress = getDeriveAccount(toDerive);\n            const { data: dataCompanion } = await targetApi.query.system.account(companionAddress);\n            const targetBalance = formatBalanceAddress(dataCompanion, targetApi);\n\n            const name = (meta.name as string).toLocaleUpperCase();\n\n            return {\n              account: { address: sourceAddress, balance: sourceBalance, name },\n              companionAccount: { address: companionAddress, balance: targetBalance, name }\n            };\n          })\n        );\n\n        return accounts;\n      };\n\n      const sourceAddresses = await getAccountInformation(sourceChainDetails, targetChainDetails);\n      const targetAddresses = await getAccountInformation(targetChainDetails, sourceChainDetails);\n\n      dispatchAccount(\n        AccountActionCreators.setDisplaySenderAccounts({\n          [sourceChainDetails.chain]: sourceAddresses,\n          [targetChainDetails.chain]: targetAddresses\n        })\n      );\n    },\n    [keyringPairs, keyringPairsReady, sourceChainDetails, targetChainDetails]\n  );\n\n  return { createType, stateCall, internalTransfer, updateSenderAccountsInformation };\n};\n\nexport default useApiCalls;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext } from 'react';\nimport { ApiCallsContextType } from '../types/apiCallsTypes';\nimport useApiCalls from '../hooks/api/useApiCalls';\n\ninterface ApiCallsContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport const ApiCallsContext: React.Context<ApiCallsContextType> = React.createContext({} as ApiCallsContextType);\n\nexport function useApiCallsContext() {\n  return useContext(ApiCallsContext);\n}\n\nexport function ApiCallsContextProvider(props: ApiCallsContextProviderProps): React.ReactElement {\n  const apiCalls = useApiCalls();\n  const { children = null } = props;\n\n  return <ApiCallsContext.Provider value={apiCalls}>{children}</ApiCallsContext.Provider>;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { SubscriptionInput } from '../../types/subscriptionsTypes';\nimport type { BlockNumber } from '@polkadot/types/interfaces';\nimport { useMountedState } from '../react/useMountedState';\nimport { useApiSubscription } from './useApiSubscription';\nimport { useCallback } from 'react';\n\nconst useBlocksInfo = ({ isApiReady, api, chain }: SubscriptionInput) => {\n  const [bestBlock, setBestBlock] = useMountedState('');\n  const [bestBlockFinalized, setBestBlockFinalized] = useMountedState('');\n  const isReady = !!(isApiReady && chain);\n\n  const getBestNumber = useCallback(\n    () =>\n      api.derive.chain.bestNumber((res) => {\n        setBestBlock((res as BlockNumber).toString());\n      }),\n    [api.derive.chain, setBestBlock]\n  );\n\n  const getBestBlockFinalized = useCallback(\n    () =>\n      api.derive.chain.bestNumberFinalized((res) => {\n        setBestBlockFinalized((res as BlockNumber).toString());\n      }),\n    [api.derive.chain, setBestBlockFinalized]\n  );\n\n  useApiSubscription(getBestNumber, isReady);\n  useApiSubscription(getBestBlockFinalized, isReady);\n\n  return { bestBlock, bestBlockFinalized };\n};\n\nexport default useBlocksInfo;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useRef, useEffect } from 'react';\n\nexport default function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback, useEffect } from 'react';\nimport { SubscriptionInput } from '../../types/subscriptionsTypes';\nimport { Hash } from '@polkadot/types/interfaces';\nimport { Codec } from '@polkadot/types/types';\nimport BN from 'bn.js';\nimport { useMountedState } from '../react/useMountedState';\nimport { getSubstrateDynamicNames } from '../../util/getSubstrateDynamicNames';\nimport { useApiSubscription } from './useApiSubscription';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport noop from 'lodash/noop';\nimport usePrevious from '../react/usePrevious';\n\ninterface HeaderId {\n  number: BN;\n  hash: Hash;\n}\n\ntype CodecHeaderId = Codec & HeaderId;\n\nconst useBridgedBlocks = ({ isApiReady, api, chain }: SubscriptionInput) => {\n  const { sourceChainDetails } = useSourceTarget();\n  const sourceChain = sourceChainDetails.chain;\n  const prevSourceChain = usePrevious(sourceChain);\n  const [bestBridgedFinalizedBlock, setBestBridgedFinalizedBlock] = useMountedState('');\n  const [bestFinalizedBlock, setBestFinalizedBlock] = useMountedState('');\n  const { bridgedGrandpaChain } = getSubstrateDynamicNames(chain);\n  const isReady: boolean = !!(isApiReady && chain);\n\n  useEffect(() => {\n    setBestBridgedFinalizedBlock('');\n    setBestFinalizedBlock('');\n  }, [setBestBridgedFinalizedBlock, setBestFinalizedBlock, sourceChain]);\n\n  const getBestFinalizedBlock = useCallback(\n    () =>\n      api.query[bridgedGrandpaChain].bestFinalized((res: CodecHeaderId) => {\n        const bestFinalized = res.toString();\n        setBestFinalizedBlock(bestFinalized);\n      }),\n    [api.query, bridgedGrandpaChain, setBestFinalizedBlock]\n  );\n\n  const getBestBridgedFinalizedBlock = useCallback(() => {\n    if (prevSourceChain === sourceChain && bestFinalizedBlock) {\n      return api.query[bridgedGrandpaChain].importedHeaders(bestFinalizedBlock, (res: any) => {\n        const importedHeader = res?.toJSON()?.number;\n        importedHeader && setBestBridgedFinalizedBlock(importedHeader);\n      });\n    }\n    return Promise.resolve(noop);\n  }, [api.query, bestFinalizedBlock, bridgedGrandpaChain, setBestBridgedFinalizedBlock, sourceChain, prevSourceChain]);\n\n  useApiSubscription(getBestFinalizedBlock, isReady);\n  useApiSubscription(getBestBridgedFinalizedBlock, isReady && Boolean(bestFinalizedBlock));\n\n  return { bestBridgedFinalizedBlock, setBestFinalizedBlock };\n};\n\nexport default useBridgedBlocks;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { ChainDetails } from '../../types/sourceTargetTypes';\n\nconst emptyProfile = {\n  apiConnection: {\n    api: {} as ApiPromise,\n    isApiReady: false\n  },\n  target: '',\n  source: '',\n  polkadotjsUrl: ''\n};\n\nexport default function useChainProfile(chainDetail: ChainDetails) {\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n\n  if (!sourceChainDetails || !targetChainDetails) {\n    return emptyProfile;\n  }\n\n  const { chain: sourceChain, ...restSource } = sourceChainDetails;\n  const { chain: targetChain, ...restTarget } = targetChainDetails;\n\n  if (chainDetail === ChainDetails.TARGET) {\n    return { source: targetChain, target: sourceChain, ...restTarget };\n  }\n  return { source: sourceChain, target: targetChain, ...restSource };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport BN from 'bn.js';\nimport { useCallback } from 'react';\nimport { SubscriptionInput } from '../../types/subscriptionsTypes';\nimport { useMountedState } from '../react/useMountedState';\nimport { useApiSubscription } from './useApiSubscription';\nimport useLaneId from '../chain/useLaneId';\nimport { getSubstrateDynamicNames } from '../../util/getSubstrateDynamicNames';\n\ninterface Output {\n  bridgeReceivedMessages: string;\n  outboundLanes: {\n    pendingMessages: string;\n    totalMessages: string;\n    latestReceivedNonce: string;\n  };\n}\n\nconst useMessagesLane = ({ isApiReady, api, chain }: SubscriptionInput): Output => {\n  const [outboundLanes, setOutboudLanes] = useMountedState({\n    latestReceivedNonce: '0',\n    pendingMessages: '0',\n    totalMessages: '0'\n  });\n\n  const [bridgeReceivedMessages, setBridgesReceivedMessages] = useMountedState('0');\n  const laneId = useLaneId();\n\n  const { bridgedMessages } = getSubstrateDynamicNames(chain);\n\n  const isReady = !!(isApiReady && api.query[bridgedMessages] && chain);\n\n  const getOutboundLaneData = useCallback(\n    () =>\n      api.query[bridgedMessages].outboundLanes(laneId, (res: any) => {\n        const latest_generated_nonce = res.get('latestGeneratedNonce').toString();\n        const latest_received_nonce = res.get('latestReceivedNonce').toString();\n        const pendingMessages = new BN(latest_generated_nonce).sub(new BN(latest_received_nonce));\n\n        setOutboudLanes({\n          latestReceivedNonce: latest_received_nonce.toString(),\n          pendingMessages: pendingMessages.isNeg() ? '0' : pendingMessages.toString(),\n          totalMessages: latest_generated_nonce\n        });\n      }),\n    [api.query, bridgedMessages, laneId, setOutboudLanes]\n  );\n\n  const getInboundLaneData = useCallback(\n    () =>\n      api.query[bridgedMessages].inboundLanes(laneId, (res: any) => {\n        setBridgesReceivedMessages(res.get('lastConfirmedNonce').toString());\n      }),\n    [api.query, bridgedMessages, laneId, setBridgesReceivedMessages]\n  );\n\n  useApiSubscription(getOutboundLaneData, isReady);\n  useApiSubscription(getInboundLaneData, isReady);\n\n  return { bridgeReceivedMessages, outboundLanes };\n};\n\nexport default useMessagesLane;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nexport default function useLaneId(): string {\n  const laneId = process.env.REACT_APP_LANE_ID || '0x00000000';\n  // To complete with configuration logic once we will have different lane ids\n  return laneId;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ChainDetails } from '../../types/sourceTargetTypes';\nimport { Subscriptions } from '../../types/subscriptionsTypes';\nimport useBlocksInfo from './useBlocksInfo';\nimport useBridgedBlocks from './useBridgedBlocks';\nimport useChainProfile from '../chain/useChainProfile';\nimport useMessagesLane from './useMessagesLane';\n\ninterface Source {\n  source: string;\n  polkadotjsUrl: string;\n}\n\ntype Output = Subscriptions & Source;\n\nconst useSubscriptions = (ChainDetail: ChainDetails): Output => {\n  const {\n    apiConnection: { api, isApiReady },\n    target,\n    source,\n    polkadotjsUrl\n  } = useChainProfile(ChainDetail);\n\n  const blockInfo = useBlocksInfo({ api, chain: source, isApiReady });\n  const { bestBridgedFinalizedBlock } = useBridgedBlocks({ api, chain: target, isApiReady });\n  const messagesLane = useMessagesLane({ api, chain: target, isApiReady });\n\n  return { ...blockInfo, bestBridgedFinalizedBlock, ...messagesLane, source, polkadotjsUrl };\n};\n\nexport default useSubscriptions;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext } from 'react';\nimport { ChainDetails } from '../types/sourceTargetTypes';\nimport { ChainSubscriptions, SubscriptionsContextType } from '../types/subscriptionsTypes';\nimport useSubscriptions from '../hooks/subscriptions/useSubscriptions';\n\ninterface SubscriptionsContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport const SubscriptionsContext: React.Context<SubscriptionsContextType> = React.createContext(\n  {} as SubscriptionsContextType\n);\n\nexport function useSubscriptionsContext() {\n  return useContext(SubscriptionsContext);\n}\n\nexport function SubscriptionsContextProvider(props: SubscriptionsContextProviderProps): React.ReactElement {\n  const onSourceChainSubscriptions = useSubscriptions(ChainDetails.SOURCE);\n  const onTargetChainSubscriptions = useSubscriptions(ChainDetails.TARGET);\n  const { children = null } = props;\n  const subscriptions: SubscriptionsContextType = {\n    [ChainSubscriptions.SOURCE]: onSourceChainSubscriptions,\n    [ChainSubscriptions.TARGET]: onTargetChainSubscriptions\n  };\n\n  return <SubscriptionsContext.Provider value={subscriptions}>{children}</SubscriptionsContext.Provider>;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Dispatch, useCallback, useEffect } from 'react';\nimport BN from 'bn.js';\nimport { AccountsActionType, AccountState } from '../../types/accountTypes';\nimport { useApiCallsContext } from '../../contexts/ApiCallsContextProvider';\nimport { useSubscriptionsContext } from '../../contexts/SubscriptionsContextProvider';\nimport { useMountedState } from '../react/useMountedState';\nimport { BLOCK_DURATION, TIMER_DURATION } from '../../constants';\n\nconst increaseBlock = (current: BN) => current.add(BLOCK_DURATION);\nconst getBlockAsBN = (block: string) => new BN(block);\n\nconst convertToBNAndIncrease = (block: string) => increaseBlock(getBlockAsBN(block));\n\ninterface NextBlockNumbers {\n  nextSourceBlockNumber: BN;\n  nextTargetBlockNumber: BN;\n}\n\nexport default function useSendersBalancesContext(\n  accountState: AccountState,\n  dispatchAccount: Dispatch<AccountsActionType>\n) {\n  const {\n    sourceSubscriptions: { bestBlock: currentSourceBlock },\n    targetSubscriptions: { bestBlock: currentTargetBlock }\n  } = useSubscriptionsContext();\n\n  const [nextBlockNumbers, setNextBlockNumber] = useMountedState<NextBlockNumbers>({\n    nextSourceBlockNumber: convertToBNAndIncrease(currentSourceBlock),\n    nextTargetBlockNumber: convertToBNAndIncrease(currentTargetBlock)\n  });\n\n  const [timerId, setTimerId] = useMountedState<NodeJS.Timeout | null>(null);\n\n  const { updateSenderAccountsInformation } = useApiCallsContext();\n\n  const updateAccounts = useCallback(() => {\n    updateSenderAccountsInformation(dispatchAccount);\n    const nextSourceBlockNumber = convertToBNAndIncrease(currentSourceBlock);\n    const nextTargetBlockNumber = convertToBNAndIncrease(currentTargetBlock);\n    setNextBlockNumber({\n      nextSourceBlockNumber,\n      nextTargetBlockNumber\n    });\n\n    // clear timer id if any\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    // set new timer\n    const newTimerId = setTimeout(() => updateAccounts(), TIMER_DURATION);\n    setTimerId(newTimerId);\n  }, [\n    dispatchAccount,\n    currentSourceBlock,\n    currentTargetBlock,\n    setNextBlockNumber,\n    setTimerId,\n    timerId,\n    updateSenderAccountsInformation\n  ]);\n\n  const blocksReached =\n    getBlockAsBN(currentSourceBlock).gte(nextBlockNumbers.nextSourceBlockNumber) &&\n    getBlockAsBN(currentTargetBlock).gte(nextBlockNumbers.nextTargetBlockNumber);\n\n  useEffect(() => {\n    if (blocksReached) {\n      updateAccounts();\n    }\n  }, [blocksReached, updateAccounts, timerId]);\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { AccountActionsTypes } from '../actions/accountActions';\nimport type { AccountsActionType, AccountState } from '../types/accountTypes';\nimport { getBridgeId } from '../util/getConfigs';\nimport getDeriveAccount from '../util/getDeriveAccount';\n\nexport default function accountReducer(state: AccountState, action: AccountsActionType): AccountState {\n  switch (action.type) {\n    case AccountActionsTypes.SET_ACCOUNT: {\n      const { account, sourceTarget, sourceChain } = action.payload;\n      let { sourceChainDetails, targetChainDetails } = sourceTarget;\n\n      if (state.account?.address === account?.address && sourceChain === sourceChainDetails.chain) {\n        return state;\n      }\n\n      if (sourceChain !== sourceChainDetails.chain) {\n        sourceChainDetails = sourceTarget.targetChainDetails;\n        targetChainDetails = sourceTarget.sourceChainDetails;\n      }\n\n      const {\n        configs,\n        apiConnection: { api: targetApi }\n      } = targetChainDetails;\n      const { chain: sourceChainName } = sourceChainDetails;\n\n      const toDerive = {\n        ss58Format: configs.ss58Format,\n        address: account?.address || '',\n        bridgeId: getBridgeId(targetApi, sourceChainName)\n      };\n\n      const companionAccount = getDeriveAccount(toDerive);\n\n      return {\n        ...state,\n        account,\n        companionAccount,\n        senderBalanceAccountLoading: true\n      };\n    }\n    case AccountActionsTypes.SET_SENDER_BALANCES:\n      return {\n        ...state,\n        senderAccountBalance: action.payload.senderAccountBalance,\n        senderCompanionAccountBalance: action.payload.senderCompanionAccountBalance,\n        senderBalanceAccountLoading: false\n      };\n    case AccountActionsTypes.SET_ACCOUNTS:\n      return { ...state, accounts: action.payload.accounts };\n    case AccountActionsTypes.SET_DISPLAY_SENDER_ACCOUNTS:\n      return { ...state, displaySenderAccounts: action.payload.displaySenderAccounts, initialLoadingAccounts: false };\n    default:\n      throw new Error(`Unknown type: ${action.type}`);\n  }\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext, useReducer } from 'react';\nimport useAccountsContextSetUp from '../hooks/context/useAccountsContextSetUp';\nimport useSendersBalancesContext from '../hooks/context/useSendersBalancesContext';\n\nimport accountReducer from '../reducers/accountReducer';\n\nimport { AccountState, AccountsActionType, DisplayAccounts } from '../types/accountTypes';\n\ninterface AccountContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport interface UpdateAccountContext {\n  dispatchAccount: React.Dispatch<AccountsActionType>;\n}\n\nexport const AccountContext: React.Context<AccountState> = React.createContext({} as AccountState);\n\nexport const UpdateAccountContext: React.Context<UpdateAccountContext> = React.createContext(\n  {} as UpdateAccountContext\n);\n\nexport function useAccountContext() {\n  return useContext(AccountContext);\n}\n\nexport function useUpdateAccountContext() {\n  return useContext(UpdateAccountContext);\n}\n\nexport function AccountContextProvider(props: AccountContextProviderProps): React.ReactElement {\n  const { children = null } = props;\n  const [accountState, dispatchAccount] = useReducer(accountReducer, {\n    account: null,\n    accounts: [],\n    companionAccount: null,\n    senderAccountBalance: null,\n    senderCompanionAccountBalance: null,\n    displaySenderAccounts: {} as DisplayAccounts,\n    initialLoadingAccounts: true,\n    senderBalanceAccountLoading: false\n  });\n\n  useAccountsContextSetUp(accountState, dispatchAccount);\n  useSendersBalancesContext(accountState, dispatchAccount);\n\n  return (\n    <AccountContext.Provider value={accountState}>\n      <UpdateAccountContext.Provider value={{ dispatchAccount }}>{children}</UpdateAccountContext.Provider>\n    </AccountContext.Provider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useEffect, useState } from 'react';\n\nconst useLocalStorage = (localStorageKey: string): [string, React.Dispatch<React.SetStateAction<string>>] => {\n  const [localValue, setLocalValue] = useState(localStorage.getItem(localStorageKey) || '');\n\n  useEffect((): void => {\n    localStorage.setItem(localStorageKey, localValue);\n  }, [localValue, localStorageKey]);\n\n  return [localValue, setLocalValue];\n};\n\nexport default useLocalStorage;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Box, Button, ButtonProps } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport React from 'react';\nimport { Web3Icon } from '.';\n\nconst useStyles = makeStyles((theme) => ({\n  submit: {\n    padding: theme.spacing(2),\n    borderRadius: theme.spacing(1.75)\n  },\n  contact: {\n    backgroundColor: 'transparent',\n    '&:hover': {\n      backgroundColor: theme.palette.secondary.light\n    }\n  },\n  switchMode: {\n    fontSize: theme.typography.body2.fontSize\n  },\n  drawerMenu: {\n    justifyContent: 'end',\n    '&.MuiButton-textPrimary': {\n      backgroundColor: theme.palette.secondary.light\n    }\n  },\n  installExtension: {\n    padding: theme.spacing(2.5),\n    borderRadius: theme.spacing(1.5),\n    color: theme.palette.primary.dark,\n    fontWeight: 400\n  }\n}));\n\nexport const ButtonExt = ({\n  children,\n  startIcon = <ForumIcon />,\n  variant = 'contained',\n  disableElevation = true,\n  href = 'https://github.com/paritytech/parity-bridges-ui/issues',\n  ...props\n}: ButtonProps) => {\n  const classes = useStyles();\n  const openInNewTab = (url: string): void => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer');\n    if (newWindow) newWindow.opener = null;\n  };\n  return (\n    <Button\n      className={classes.contact}\n      variant={variant}\n      startIcon={startIcon}\n      disableElevation={disableElevation}\n      onClick={() => openInNewTab(href)}\n      {...props}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport const ButtonDrawerMenu = ({ children, color = 'secondary', fullWidth = true, ...props }: ButtonProps) => {\n  const classes = useStyles();\n  return (\n    <Button className={classes.drawerMenu} color={color} fullWidth={fullWidth} {...props}>\n      {children}\n    </Button>\n  );\n};\n\nexport const ButtonInstallExtension = ({ children, color = 'secondary', fullWidth = true, ...props }: ButtonProps) => {\n  const classes = useStyles();\n  const openInNewTab = (): void => {\n    const newWindow = window.open('https://polkadot.js.org/extension/', '_blank', 'noopener,noreferrer');\n    if (newWindow) newWindow.opener = null;\n  };\n  return (\n    <Button\n      className={classes.installExtension}\n      color={color}\n      fullWidth={fullWidth}\n      onClick={() => openInNewTab()}\n      {...props}\n    >\n      <Box display=\"flex\" justifyContent=\"space-between\" width=\"100%\">\n        <span>{children}</span>\n        <Web3Icon backgroundColor=\"#f29135\" color=\"white\">\n          polkadot\n        </Web3Icon>\n      </Box>\n    </Button>\n  );\n};\n\nexport const ButtonSwitchMode = ({ children, color = 'secondary', ...props }: ButtonProps) => {\n  const classes = useStyles();\n  return (\n    <Button className={classes.switchMode} color={color} {...props}>\n      {children}\n    </Button>\n  );\n};\n\nexport const ButtonSubmit = ({\n  children,\n  color = 'primary',\n  variant = 'contained',\n  fullWidth = true,\n  ...props\n}: ButtonProps) => {\n  const classes = useStyles();\n  return (\n    <Box mt={2} mb={2}>\n      <Button\n        id=\"test-button-submit\"\n        className={classes.submit}\n        color={color}\n        variant={variant}\n        fullWidth={fullWidth}\n        {...props}\n      >\n        {children}\n      </Button>\n    </Box>\n  );\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Theme } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\ninterface SelectLabelProps {\n  children: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  selectLabel: {\n    ...theme.typography.h4,\n    color: theme.palette.text.hint,\n    marginBottom: theme.spacing()\n  }\n}));\n\nexport const styleAccountCompanion = (theme: Theme) => {\n  return {\n    marginTop: -1,\n    padding: theme.spacing(0.5),\n    paddingLeft: theme.spacing(1.25),\n    paddingRight: theme.spacing(3),\n    border: `1px solid ${theme.palette.divider}`,\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n    borderRadius: theme.spacing(1.5)\n  };\n};\n\nexport const SelectLabel = ({ children }: SelectLabelProps) => {\n  const classes = useStyles();\n  return <div className={classes.selectLabel}>{children}</div>;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Box, Fade, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useCallback } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport HistoryIcon from '@material-ui/icons/History';\n//import Transactions from './Transactions';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\nimport { ButtonDrawerMenu } from './Buttons';\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    position: 'absolute',\n    top: 0,\n    left: 200,\n    width: 400,\n    height: '100vh',\n    padding: theme.spacing(2),\n    paddingLeft: theme.spacing(5),\n    paddingTop: theme.spacing(5),\n    overflow: 'auto',\n    '-ms-overflow-style': 'none',\n    'scrollbar-width': 'none',\n    '&::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  closeDrawerIcon: {\n    position: 'fixed',\n    backgroundColor: theme.palette.background.paper,\n    marginLeft: 296,\n    marginTop: theme.spacing(-4)\n  }\n}));\n\nexport const StorageDrawer = () => {\n  const classes = useStyles();\n  const { drawer, setDrawer } = useGUIContext();\n\n  const handleDrawerOpen = useCallback(() => setDrawer(`${drawer === 'open' ? '' : 'open'}`), [drawer, setDrawer]);\n  const handleDrawerClose = useCallback(() => setDrawer(''), [setDrawer]);\n\n  return (\n    <Box mt={4}>\n      <ButtonDrawerMenu\n        startIcon={<HistoryIcon />}\n        onClick={handleDrawerOpen}\n        color={drawer === 'open' ? 'primary' : 'secondary'}\n      >\n        History\n      </ButtonDrawerMenu>\n      <Fade in={drawer === 'open'} timeout={{ enter: 300, exit: 0 }}>\n        <div className={classes.drawer}>\n          <IconButton onClick={handleDrawerClose} color=\"secondary\" className={classes.closeDrawerIcon}>\n            <CloseIcon />\n          </IconButton>\n          {/*           <Transactions type={ }/> */}\n        </div>\n      </Fade>\n    </Box>\n  );\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport FiberManualRecordTwoToneIcon from '@material-ui/icons/FiberManualRecordTwoTone';\nimport React from 'react';\n\nimport { TransactionStatusEnum } from '../types/transactionTypes';\n\nconst useStyles = makeStyles((theme) => ({\n  error: {\n    color: theme.palette.error.main\n  },\n  success: {\n    color: theme.palette.success.main\n  }\n}));\n\ninterface IconTxStatusProps {\n  status: keyof typeof TransactionStatusEnum;\n}\n\ninterface IconApiStatusProps {\n  status: boolean;\n  className?: string;\n}\nexport const IconTxStatus = ({ status }: IconTxStatusProps) => {\n  switch (status) {\n    case TransactionStatusEnum.COMPLETED:\n      return <CheckCircleOutlineIcon id=\"test-transaction-status-completed\" />;\n    case TransactionStatusEnum.IN_PROGRESS:\n      return <AutorenewIcon id=\"test-auto-new-icon\" />;\n    case TransactionStatusEnum.FAILED:\n      return <ErrorOutlineIcon id=\"test-error-outline-icon\" />;\n    case TransactionStatusEnum.NOT_STARTED:\n      return <FiberManualRecordTwoToneIcon id=\"test-fiber-manual-two-icon\" />;\n    default:\n      return <FiberManualRecordIcon id=\"test-fiber-manual-icon\" />;\n  }\n};\n\nexport const IconApiStatus = ({ status, className }: IconApiStatusProps) => {\n  const classes = useStyles();\n  return <FiberManualRecordIcon className={`${status ? classes.success : classes.error} ${className}`} />;\n};\n","export default __webpack_public_path__ + \"static/media/Web3-Regular.982d44dd.woff\";","export default __webpack_public_path__ + \"static/media/Web3-Regular.d244d3f6.woff2\";","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport grey from '@material-ui/core/colors/grey';\nimport red from '@material-ui/core/colors/red';\nimport { ThemeOptions } from '@material-ui/core/styles';\nimport { PaletteOptions } from '@material-ui/core/styles/createPalette';\nimport { Shadows } from '@material-ui/core/styles/shadows';\nimport Web3Regular from '../fonts/Web3-Regular.woff';\nimport Web3Regular2 from '../fonts/Web3-Regular.woff2';\n\nexport const bridgesBlue = {\n  100: '#2E99E5',\n  300: '#2E99E5',\n  400: '#2E99E5',\n  500: '#1a73b3'\n};\nexport const substrateGray = {\n  50: '#FCFCFC',\n  100: '#F1F5F7',\n  150: '#F0F2F5',\n  200: '#EAEEF1',\n  400: '#C6D0D7',\n  500: '#ABB8BF',\n  700: '#556068',\n  600: '#7E8D95',\n  800: '#323F47',\n  900: '#202B33'\n};\nexport const substrateGreen = {\n  100: '#7E8D96',\n  200: '#5CFFC8',\n  300: '#18FFB2',\n  400: '#16DB9A',\n  500: '#11B37C',\n  600: '#1A9A6C'\n};\n\nconst paletteLight: PaletteOptions = {\n  type: 'light',\n  common: {\n    black: 'black',\n    white: '#FFFFFF'\n  },\n  background: {\n    paper: '#FFFFFF',\n    default: substrateGray[50]\n  },\n  primary: {\n    light: bridgesBlue[100],\n    main: bridgesBlue[400],\n    dark: bridgesBlue[500],\n    contrastText: 'white'\n  },\n  secondary: {\n    light: substrateGray[100],\n    main: substrateGray[600],\n    dark: substrateGray[500],\n    contrastText: 'black'\n  },\n  error: {\n    light: red[100],\n    main: '#DC2200',\n    dark: red[500],\n    contrastText: 'black'\n  },\n  success: {\n    light: substrateGreen[100],\n    main: substrateGreen[400],\n    dark: substrateGreen[500],\n    contrastText: 'black'\n  },\n  text: {\n    primary: substrateGray[900],\n    secondary: bridgesBlue[400],\n    disabled: substrateGray[600],\n    hint: substrateGray[600]\n  },\n  action: {\n    active: bridgesBlue[300]\n  },\n  divider: grey[300]\n};\n\nconst shadows: Shadows = [\n  'none',\n  '0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)',\n  '0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)',\n  '0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)',\n  '0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)',\n  '0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)',\n  '0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)',\n  '0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)',\n  '0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)',\n  '0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)',\n  '0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)',\n  '0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)',\n  '0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)',\n  '0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)',\n  '0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)',\n  '0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)',\n  '0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)',\n  '0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)',\n  '0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)',\n  '0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)',\n  '0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)',\n  '0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)',\n  '0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)',\n  '0px 32px 24px rgb(0 0 0 / 5%), 0px 16px 20px rgb(0 0 0 / 4%), 0px 6px 6px rgb(0 0 0 / 3%), 0px 3px 2px rgb(0 0 0 / 2%)',\n  '0px 100px 80px rgba(0, 0, 0, 0.07), 0px 40px 32px rgba(0, 0, 0, 0.05), 0px 20px 20px rgba(0, 0, 0, 0.04), 0px 12px 12px rgba(0, 0, 0, 0.04), 0px 6px 6px rgba(0, 0, 0, 0.03), 0px 3px 2px rgba(0, 0, 0, 0.02)'\n];\n\nexport const light: ThemeOptions = {\n  typography: {\n    allVariants: {\n      color: paletteLight.text && paletteLight.text.primary\n    },\n    fontFamily:\n      'Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, Segoe UI, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Web3-Regular\"',\n    h1: {\n      fontWeight: 500,\n      fontSize: 30,\n      lineHeight: '115%',\n      letterSpacing: '-0.02em'\n    },\n    h2: {\n      fontWeight: 600,\n      fontSize: 21,\n      lineHeight: '120%'\n    },\n    h3: {\n      fontWeight: 600,\n      fontSize: 18,\n      lineHeight: '120%'\n    },\n    h4: {\n      fontWeight: 500,\n      fontSize: 14,\n      lineHeight: '120%',\n      color: grey[800]\n    },\n    body1: {\n      fontWeight: 400,\n      fontSize: 14,\n      lineHeight: '140%',\n      color: grey[800]\n    },\n    body2: {\n      fontWeight: 400,\n      fontSize: 12,\n      lineHeight: '140%'\n    },\n    button: {\n      fontWeight: 500,\n      fontSize: 16,\n      lineHeight: '140%',\n      letterSpacing: 0.2,\n      textTransform: 'none'\n    },\n    subtitle1: {\n      fontFamily: 'SFMono-Regular, Consolas , Liberation Mono, Menlo, monospace',\n      fontWeight: 400,\n      fontSize: 20,\n      lineHeight: '120%'\n    },\n    subtitle2: {\n      fontFamily: 'SFMono-Regular, Consolas , Liberation Mono, Menlo, monospace',\n      fontWeight: 400,\n      fontSize: 11,\n      lineHeight: '135%',\n      color: grey[700],\n      letterSpacing: 0.1\n    },\n    overline: {\n      fontWeight: 500,\n      fontSize: 14,\n      letterSpacing: 0.3,\n      textTransform: 'uppercase'\n    }\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': {\n          fontFamily: 'Web3-Regular',\n          fontStyle: 'normal',\n          fontDisplay: 'swap',\n          fontWeight: 400,\n          src: `\n              local('Web3-Regular'),\n              url(${Web3Regular}) format('woff'),\n              url(${Web3Regular2}) format('woff2')\n            `\n        },\n        '.Web3Icon': {\n          fontFamily: 'Web3-Regular !important',\n          letterSpacing: 0,\n          textTransform: 'lowercase'\n        }\n      }\n    }\n  },\n  palette: paletteLight,\n  shadows: shadows\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Container, Paper } from '@material-ui/core';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\nimport { substrateGray } from './theme';\n\nconst useStyles = makeStyles((theme) => ({\n  ui: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: theme.spacing(3),\n    paddingLeft: 240 + theme.spacing(3),\n    transition: 'padding-left .1s',\n    backgroundColor: theme.palette.background.paper,\n    '&.open': {\n      paddingLeft: 600 + theme.spacing(3),\n      [theme.breakpoints.down('md')]: {\n        paddingLeft: 240 + theme.spacing(3)\n      }\n    },\n    '& .MuiPaper-root, .MuiOutlinedInput-notchedOutline': {\n      borderRadius: theme.spacing(1.5)\n    },\n    '& > .MuiPaper-root': {\n      width: 480,\n      maxWidth: '100%',\n      padding: theme.spacing(2)\n    }\n  },\n  sidebar: {\n    position: 'fixed',\n    zIndex: 1,\n    display: 'flex',\n    justifyContent: 'space-between',\n    flexDirection: 'column',\n    top: 0,\n    width: 240,\n    height: '100vh',\n    padding: theme.spacing(3),\n    backgroundColor: substrateGray[50],\n    borderRight: `1px solid ${fade(theme.palette.divider, 0.5)}`,\n    transition: 'width .1s, padding-right .1s',\n    '&.open': {\n      width: 600,\n      paddingRight: 360 + theme.spacing(3)\n    }\n  }\n}));\n\ninterface BoxUIProps {\n  children: React.ReactElement[] | React.ReactElement | string;\n}\n\nexport const BoxUI = ({ children }: BoxUIProps) => {\n  const classes = useStyles();\n  const { drawer } = useGUIContext();\n\n  return (\n    <Container className={`${classes.ui} ${drawer}`}>\n      <Paper elevation={24}>{children}</Paper>\n    </Container>\n  );\n};\n\nexport const BoxSidebar = ({ children }: BoxUIProps) => {\n  const classes = useStyles();\n  const { drawer } = useGUIContext();\n  return <div className={`${classes.sidebar} ${drawer}`}>{children}</div>;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ButtonBase, Popover } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport React, { useEffect } from 'react';\nimport { MenuActionItemsProps } from '../types/guiTypes';\nimport { TransactionTypes } from '../types/transactionTypes';\n\n// As this is placed as a child in the Material UI Select component, for some reason style components classes are not working.\n// This way to inject the styles works.\nconst useStyles = makeStyles((theme) => ({\n  menu: {\n    background: theme.palette.secondary.light,\n    padding: theme.spacing(),\n    borderRadius: theme.spacing()\n  },\n  item: {\n    ...theme.typography.button,\n    display: 'flex',\n    margin: theme.spacing(0.2),\n    paddingLeft: theme.spacing(0.75),\n    paddingRight: theme.spacing(0.75),\n    borderRadius: theme.spacing(0.5),\n    '&:not(.current):hover': {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main\n    },\n    '&.current': {\n      marginBottom: theme.spacing(3),\n      color: theme.palette.text.hint,\n      '&:hover': {\n        color: theme.palette.secondary.contrastText,\n        background: theme.palette.secondary.light\n      }\n    },\n    '&.disabled': {\n      color: theme.palette.text.disabled,\n      pointerEvents: 'none'\n    }\n  }\n}));\n\ninterface MenuActionProps {\n  actions: MenuActionItemsProps[];\n  action: TransactionTypes;\n  changeMenu: (type: TransactionTypes) => void;\n}\n\nexport const MenuAction = ({ actions, changeMenu, action }: MenuActionProps) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n  const [id, setId] = React.useState<string | undefined>(undefined);\n  const [open, setOpen] = React.useState<boolean>(false);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n    setOpen(!open);\n  };\n\n  useEffect(() => {\n    setOpen(Boolean(anchorEl));\n    setId(anchorEl ? 'simple-popover' : undefined);\n  }, [anchorEl]);\n\n  const item = actions.find(({ type }) => type === action);\n\n  return (\n    <>\n      <ButtonBase className={`${classes.item} current`} onClick={handleClick}>\n        {item?.title || '-'}\n        <ArrowDropDownIcon />\n      </ButtonBase>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={() => setOpen(false)}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 24\n        }}\n        PaperProps={{\n          className: classes.menu\n        }}\n      >\n        {actions.map((i, n) => (\n          <ButtonBase\n            className={`${classes.item} ${!i.isEnabled && 'disabled'}`}\n            key={n}\n            onClick={() => {\n              setOpen(!open);\n              changeMenu(i.type);\n            }}\n          >\n            {i.title}\n          </ButtonBase>\n        ))}\n      </Popover>\n    </>\n  );\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\ninterface Props {\n  children: React.ReactElement | null;\n  blurred?: boolean;\n  showInternal?: boolean;\n}\n\nexport default function BridgedLocalWrapper({ children, blurred = false, showInternal = false }: Props) {\n  const { isBridged } = useGUIContext();\n\n  if (!isBridged) {\n    if (showInternal) return children;\n    if (blurred) return <div style={{ opacity: '20%' }}>{children}</div>;\n  }\n  if (isBridged && !showInternal) return children;\n\n  return null;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Box, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useSubscriptionsContext } from '../contexts/SubscriptionsContextProvider';\n\nimport useLoadingApi from '../hooks/connections/useLoadingApi';\nimport { IconApiStatus } from './Icons';\nimport { Web3Icon } from '.';\nimport BridgedLocalWrapper from './BridgedLocalWrapper';\n\n// As this is placed as a child in the Material UI Select component, for some reason style components classes are not working.\n// This way to inject the styles works.\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    position: 'relative',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(0.5)\n  },\n  arrowIcon: {\n    backgroundColor: theme.palette.background.default,\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: theme.spacing(-1),\n    margin: 'auto',\n    width: theme.spacing(2),\n    height: theme.spacing(2),\n    borderRadius: theme.spacing(2),\n    color: theme.palette.secondary.main\n  },\n  statsEntry: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: theme.spacing(),\n    fontSize: theme.typography.subtitle2.fontSize,\n    '& span': {\n      ...theme.typography.subtitle2\n    },\n    '& a': {\n      ...theme.typography.h4,\n      '&:hover': {\n        color: theme.palette.common.black\n      }\n    }\n  },\n  IconApiSvg: {\n    fontSize: '1em',\n    marginRight: theme.spacing()\n  }\n}));\n\nexport const NetworkSides = () => {\n  const classes = useStyles();\n  const { sourceSubscriptions, targetSubscriptions } = useSubscriptionsContext();\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n  const { sourceReady, targetReady } = useLoadingApi();\n\n  return (\n    <Box marginY={2} className={classes.main}>\n      <Box p={1} className={classes.statsEntry}>\n        <div>\n          <IconApiStatus className={classes.IconApiSvg} status={sourceReady} />\n          <a target=\"_blank\" rel=\"noreferrer\" href={sourceChainDetails.polkadotjsUrl}>\n            <Web3Icon>{sourceChainDetails.chain}</Web3Icon>\n            {sourceChainDetails.chain}\n          </a>\n        </div>\n        <span># {sourceSubscriptions.bestBlock}</span>\n      </Box>\n      <Divider />\n      <ArrowDownwardIcon className={classes.arrowIcon} />\n      <BridgedLocalWrapper blurred>\n        <Box p={1} className={classes.statsEntry}>\n          <div>\n            <IconApiStatus className={classes.IconApiSvg} status={targetReady} />\n            <a target=\"_blank\" rel=\"noreferrer\" href={targetChainDetails.polkadotjsUrl}>\n              {targetChainDetails.chain}\n            </a>\n          </div>\n          <span style={{ opacity: 0.4 }}># {targetSubscriptions.bestBlock}</span>\n        </Box>\n      </BridgedLocalWrapper>\n    </Box>\n  );\n};\n\nexport const NetworkStats = () => {\n  const classes = useStyles();\n  const { sourceSubscriptions, targetSubscriptions } = useSubscriptionsContext();\n\n  return (\n    <>\n      <Box className={classes.statsEntry}>\n        Relayed blocks:\n        <span>\n          {targetSubscriptions?.bestBridgedFinalizedBlock} / {sourceSubscriptions?.bestBlockFinalized}\n        </span>\n      </Box>\n      <Box className={classes.statsEntry}>\n        Delivered messages:\n        <span>{sourceSubscriptions?.outboundLanes.totalMessages}</span>\n      </Box>\n      <Box className={classes.statsEntry}>\n        Awaiting messages:\n        <span>{sourceSubscriptions?.outboundLanes.pendingMessages}</span>\n      </Box>\n    </>\n  );\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport React from 'react';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nexport function Alert(props: JSX.IntrinsicAttributes & AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Theme } from '@material-ui/core';\n\ninterface Web3IconStyleProps {\n  color?: string;\n  backgroundColor?: string;\n  size?: string;\n}\ninterface Web3IconProps extends Web3IconStyleProps {\n  children: string;\n}\n\nconst web3IconGlyphs = ['polkadot', 'kusama', 'kulupu', 'westend', 'statemine', 'rococo', 'substrate'];\n\nconst useStyles = makeStyles<Theme, Web3IconStyleProps>((theme) => ({\n  icon: {\n    display: 'inline-block',\n    position: 'relative',\n    zIndex: 2,\n    marginleft: ({ size }) => `calc(${size} * 0.5)`,\n    marginRight: ({ size }) => `calc(${size} * 0.5)`,\n    color: ({ color }) => color || theme.palette.text.primary,\n    fontFamily: theme.typography.subtitle1.fontFamily,\n    fontSize: ({ size }) => size,\n    textAlign: 'center',\n    '&:after': {\n      content: '\" \"',\n      position: 'absolute',\n      zIndex: -1,\n      display: 'block',\n      width: ({ size }) => `calc(${size} * 1.3)`,\n      height: ({ size }) => `calc(${size} * 1.3)`,\n      top: '-9999px',\n      bottom: '-9999px',\n      left: '-9999px',\n      right: '-9999px',\n      margin: 'auto',\n      borderRadius: '50%',\n      backgroundColor: ({ backgroundColor }) => backgroundColor || 'transparent'\n    }\n  }\n}));\n\nexport const Web3Icon = ({ color, backgroundColor, size = '1em', children }: Web3IconProps) => {\n  const classes = useStyles({ color, backgroundColor, size });\n\n  if (web3IconGlyphs.indexOf(children.toLowerCase()) === -1) {\n    return <></>;\n  }\n  return <div className={`Web3Icon ${classes.icon}`}>{children}</div>;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext, useState, Dispatch, useEffect } from 'react';\nimport { createMuiTheme, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport useLocalStorage from '../hooks/transactions/useLocalStorage';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { light } from '../components';\nimport { MenuActionItemsProps } from '../types/guiTypes';\n\ninterface DrawerContextProps {\n  drawer: string;\n  setDrawer: Dispatch<React.SetStateAction<string>>;\n  setBridged: Dispatch<React.SetStateAction<boolean>>;\n  isBridged: boolean;\n  actions: MenuActionItemsProps[];\n  action: TransactionTypes;\n  setAction: (type: TransactionTypes) => void;\n}\n\ninterface GUIContextProviderProps {\n  children: React.ReactElement;\n}\n\nconst DrawerContext = React.createContext({} as DrawerContextProps);\n\nconst actions = [\n  {\n    title: 'Transfer',\n    isEnabled: true,\n    type: TransactionTypes.TRANSFER\n  },\n  {\n    title: 'Remark',\n    isEnabled: true,\n    type: TransactionTypes.REMARK\n  },\n  {\n    title: 'Custom Call',\n    isEnabled: true,\n    type: TransactionTypes.CUSTOM\n  }\n];\n\nexport function useGUIContext() {\n  return useContext(DrawerContext);\n}\n\nexport function GUIContextProvider({ children }: GUIContextProviderProps): React.ReactElement {\n  const [drawer, setDrawer] = useLocalStorage('storageDrawer');\n  const [isBridged, setBridged] = useState(true);\n  const [action, setAction] = useState<TransactionTypes>(TransactionTypes.TRANSFER);\n\n  const value = { drawer, setDrawer, actions, action, setAction, isBridged, setBridged };\n\n  useEffect(() => setBridged(true), [action]);\n\n  return (\n    <ThemeProvider theme={createMuiTheme(light)}>\n      <CssBaseline />\n      <DrawerContext.Provider value={value}>{children}</DrawerContext.Provider>\n    </ThemeProvider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ChainSubscriptions } from '../types/subscriptionsTypes';\n\ninterface Input {\n  currentSourceChain: string;\n  sourceChain: string;\n}\n\nexport function getChainSubscriptionsKey({ currentSourceChain, sourceChain }: Input) {\n  const sourceChainsMatch = sourceChain === currentSourceChain;\n\n  const sourceRole = sourceChainsMatch ? ChainSubscriptions.SOURCE : ChainSubscriptions.TARGET;\n  const targetRole = sourceChainsMatch ? ChainSubscriptions.TARGET : ChainSubscriptions.SOURCE;\n\n  return { sourceRole, targetRole, sourceChainsMatch };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport logger from '../util/logger';\n\ninterface Result<T> {\n  error: string | null;\n  data: T | null;\n}\ninterface DispatchGenericCallInput<T> {\n  call: (...args: any[]) => Promise<T>;\n  dispatch?: (error: string | null, data: T | null, loading: boolean) => void;\n  emptyData?: T | null;\n}\n\nexport const genericCall = async <T>({\n  call,\n  emptyData = null,\n  dispatch\n}: DispatchGenericCallInput<T>): Promise<Result<T>> => {\n  let data = emptyData;\n  let error = null;\n  const executeDispatch = (error: string | null, data: T | null, loading: boolean) =>\n    dispatch && dispatch(error, data, loading);\n\n  try {\n    executeDispatch(null, emptyData, true);\n    data = await call();\n  } catch (e) {\n    error = e.message;\n    logger.error(error);\n  } finally {\n    executeDispatch(error, data, false);\n  }\n  return { data, error };\n};\n\nexport default { genericCall };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport { base58Decode, checkAddressChecksum } from '@polkadot/util-crypto';\nimport { ChainState } from '../types/sourceTargetTypes';\nimport { INCORRECT_FORMAT, GENERIC, GENERIC_SUBSTRATE_PREFIX } from '../constants';\nimport getDeriveAccount from './getDeriveAccount';\nimport { getBridgeId } from './getConfigs';\n\ninterface Props {\n  receiverAddress: string;\n  targetChainDetails: ChainState;\n  sourceChainDetails: ChainState;\n}\n\nconst getReceiverAddress = ({ targetChainDetails, sourceChainDetails, receiverAddress }: Props) => {\n  const { configs: sourceConfigs, chain: sourceChain } = sourceChainDetails;\n  const {\n    apiConnection: { api: targetApi },\n    chain: targetChain,\n    configs: targetConfigs\n  } = targetChainDetails;\n\n  const targetSS58Format = targetConfigs.ss58Format;\n  const bridgeId = getBridgeId(targetApi, sourceChain);\n\n  const getChainBySS58Prefix = (prefix: number) => {\n    switch (prefix) {\n      case GENERIC_SUBSTRATE_PREFIX:\n        return GENERIC;\n      case targetConfigs.ss58Format:\n        return targetChain;\n      case sourceConfigs.ss58Format:\n        return sourceChain;\n      default:\n        return '';\n    }\n  };\n\n  try {\n    const decodedReceiverAddress = base58Decode(receiverAddress);\n    const [isValidDerivedAcccount, , , ss58Decoded] = checkAddressChecksum(decodedReceiverAddress);\n\n    const formatFound = getChainBySS58Prefix(ss58Decoded) || ss58Decoded.toString();\n    const doesTargetFormatMatch = ss58Decoded === targetSS58Format;\n\n    if (isValidDerivedAcccount && doesTargetFormatMatch) {\n      return { address: receiverAddress, formatFound };\n    }\n\n    const address = getDeriveAccount({\n      ss58Format: targetSS58Format,\n      address: receiverAddress,\n      bridgeId\n    });\n\n    return { address, formatFound };\n  } catch (e) {\n    if (receiverAddress) {\n      throw new Error(INCORRECT_FORMAT);\n    }\n    return { address: '', formatFound: null };\n  }\n};\n\nexport default getReceiverAddress;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport BN from 'bn.js';\nimport { EvalMessages } from '../types/transactionTypes';\n\nconst getSiValue = (si: number): BN => new BN(10).pow(new BN(si));\n\nconst si = [\n  { value: getSiValue(24), symbol: 'y', isMil: true },\n  { value: getSiValue(21), symbol: 'z', isMil: true },\n  { value: getSiValue(18), symbol: 'a', isMil: true },\n  { value: getSiValue(15), symbol: 'f', isMil: true },\n  { value: getSiValue(12), symbol: 'p', isMil: true },\n  { value: getSiValue(9), symbol: 'n', isMil: true },\n  { value: getSiValue(6), symbol: '', isMil: true },\n  { value: getSiValue(3), symbol: 'm', isMil: true },\n  { value: new BN(1), symbol: '' },\n  { value: getSiValue(3), symbol: 'k' },\n  { value: getSiValue(6), symbol: 'M' },\n  { value: getSiValue(9), symbol: 'G' },\n  { value: getSiValue(12), symbol: 'T' },\n  { value: getSiValue(15), symbol: 'P' },\n  { value: getSiValue(18), symbol: 'E' },\n  { value: getSiValue(21), symbol: 'Y' },\n  { value: getSiValue(24), symbol: 'Z' }\n];\n\nconst allowedSymbols = si\n  .map((s) => s.symbol)\n  .join(', ')\n  .replace(', ,', ',');\nconst floats = new RegExp('^[+]?[0-9]*[.,]{1}[0-9]*$');\nconst ints = new RegExp('^[+]?[0-9]+$');\nconst alphaFloats = new RegExp('^[+]?[0-9]*[.,]{1}[0-9]*[' + allowedSymbols + ']{1}$');\nconst alphaInts = new RegExp('^[+]?[0-9]*[' + allowedSymbols + ']{1}$');\n\n/**\n * A function that identifes integer/float(comma or dot)/expressions (such as 1k)\n * and converts to actual value (or reports an error).\n * @param {string} input\n * @returns {[number | null, string]} an array of 2 items\n * the first is the actual calculated number (or null if none) while\n * the second is the message that should appear in case of error\n */\nexport function evalUnits(input: string, chainDecimals: number): [BN | null, string] {\n  //sanitize input to remove + char if exists\n  input = input && input.replace('+', '');\n  if (!floats.test(input) && !ints.test(input) && !alphaInts.test(input) && !alphaFloats.test(input)) {\n    return [null, EvalMessages.GIBBERISH];\n  }\n  // find the character from the alphanumerics\n  const symbol = input.replace(/[0-9.,]/g, '');\n  // find the value from the si list\n  const siVal = si.find((s) => s.symbol === symbol);\n  const numberStr = input.replace(symbol, '').replace(',', '.');\n  let numeric: BN = new BN(0);\n\n  if (!siVal) {\n    return [null, EvalMessages.SYMBOL_ERROR];\n  }\n  const decimalsBn = new BN(10).pow(new BN(chainDecimals));\n  const containDecimal = numberStr.includes('.');\n  const [decPart, fracPart] = numberStr.split('.');\n  const fracDecimals = fracPart?.length || 0;\n  const fracExp = new BN(10).pow(new BN(fracDecimals));\n  numeric = containDecimal ? new BN(new BN(decPart).mul(fracExp).add(new BN(fracPart))) : new BN(new BN(numberStr));\n  numeric = numeric.mul(decimalsBn);\n  if (containDecimal) {\n    numeric = siVal.isMil ? numeric.div(siVal.value).div(fracExp) : numeric.mul(siVal.value).div(fracExp);\n  } else {\n    numeric = siVal.isMil ? numeric.div(siVal.value) : numeric.mul(siVal.value);\n  }\n  if (numeric.eq(new BN(0))) {\n    return [null, EvalMessages.ZERO];\n  }\n  return [numeric, EvalMessages.SUCCESS];\n}\n\nexport function transformToBaseUnit(estFee: string, chainDecimals: number): string {\n  const t = estFee.length - chainDecimals;\n  let s = '';\n  // if chainDecimals are more than the estFee length\n  if (t < 0) {\n    // add 0 in front (1 less as we want the 0.)\n    for (let i = 0; i < Math.abs(t) - 1; i++) {\n      s += '0';\n    }\n    s = s + estFee;\n    // remove trailing 0s\n    for (let i = 0; i < s.length; i++) {\n      if (s.slice(s.length - 1) !== '0') break;\n      s = s.substring(0, s.length - 1);\n    }\n    s = '0.' + s;\n  } else {\n    s = (parseInt(estFee) / 10 ** chainDecimals).toString();\n  }\n  return parseFloat(s) !== 0 ? s : '0';\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport { ChainState } from '../../../types/sourceTargetTypes';\nimport { TransactionState, TransactionTypes, Payload, ReceiverPayload } from '../../../types/transactionTypes';\nimport { INCORRECT_FORMAT, GENERIC } from '../../../constants';\nimport { getValidAddressFormat } from '../../accounts';\nimport getReceiverAddress from '../../getReceiverAddress';\nimport logger from '../../logger';\nimport BN from 'bn.js';\nimport { BalanceState } from '../../../types/accountTypes';\nimport { evalUnits } from '../../evalUnits';\n\nconst validateAccount = (receiver: string, sourceChainDetails: ChainState, targetChainDetails: ChainState) => {\n  try {\n    if (!receiver) {\n      return { formatFound: null, receiverAddress: null };\n    }\n    const { address, formatFound } = getReceiverAddress({\n      targetChainDetails,\n      sourceChainDetails,\n      receiverAddress: receiver\n    });\n\n    return { formatFound, receiverAddress: address };\n  } catch (e) {\n    if (e instanceof Error) {\n      logger.error(e.message);\n      if (e.message === INCORRECT_FORMAT) {\n        return { formatFound: e.message, receiverAddress: receiver };\n      }\n    }\n  }\n  return { formatFound: null, receiverAddress: null };\n};\n\ninterface EnoughFundsEvaluation {\n  transferAmount: BN | null;\n  senderAccountBalance: BalanceState;\n  senderCompanionAccountBalance: BalanceState;\n  estimatedSourceFee: string | null;\n  estimatedTargetFee: string | null;\n  action: TransactionTypes;\n}\n\nconst enoughFundsEvaluation = ({\n  transferAmount,\n  senderCompanionAccountBalance,\n  senderAccountBalance,\n  estimatedSourceFee,\n  estimatedTargetFee,\n  action\n}: EnoughFundsEvaluation) => {\n  let evaluateTransactionStatusError = null;\n  let notEnoughFundsToTransfer = false;\n  let notEnoughToPayFee = false;\n\n  if (senderAccountBalance && estimatedSourceFee && estimatedTargetFee) {\n    notEnoughToPayFee = new BN(senderAccountBalance.free).sub(new BN(estimatedSourceFee)).isNeg();\n    if (notEnoughToPayFee) {\n      evaluateTransactionStatusError = `Account's amount is not enough for pay fee transaction: ${estimatedSourceFee}.`;\n    }\n\n    if (action === TransactionTypes.TRANSFER && transferAmount && senderCompanionAccountBalance) {\n      notEnoughFundsToTransfer = new BN(senderCompanionAccountBalance.free).sub(new BN(estimatedTargetFee)).isNeg();\n      if (notEnoughFundsToTransfer) {\n        evaluateTransactionStatusError = \"Companion account's amount is not enough for this transaction.\";\n      }\n    }\n\n    if (action === TransactionTypes.INTERNAL_TRANSFER && transferAmount) {\n      notEnoughFundsToTransfer = new BN(senderAccountBalance.free)\n        .sub(transferAmount)\n        .sub(new BN(estimatedSourceFee))\n        .isNeg();\n      if (notEnoughFundsToTransfer) {\n        evaluateTransactionStatusError = \"Account's amount is not enough for this transaction.\";\n      }\n    }\n  }\n  return { evaluateTransactionStatusError, notEnoughFundsToTransfer, notEnoughToPayFee };\n};\n\nconst shouldCalculatePayloadFee = (state: TransactionState, payload: Payload) => {\n  const nextState = { ...state, ...payload };\n  const {\n    transferAmount,\n    receiverAddress,\n    weightInput,\n    customCallInput,\n    remarkInput,\n    customCallError,\n    senderAccount,\n    action\n  } = nextState;\n\n  switch (action) {\n    case TransactionTypes.INTERNAL_TRANSFER:\n    case TransactionTypes.TRANSFER: {\n      if (transferAmount) {\n        const [, message] = evalUnits(transferAmount.toString(), payload.chainDecimals);\n        const validTransferAmount = !message;\n\n        return Boolean(validTransferAmount && receiverAddress && senderAccount);\n      }\n      return false;\n    }\n    case TransactionTypes.CUSTOM: {\n      return Boolean(weightInput && customCallInput && senderAccount && !customCallError);\n    }\n    case TransactionTypes.REMARK: {\n      return Boolean(remarkInput && senderAccount);\n    }\n    default:\n      return false;\n  }\n};\n\nconst updateTransaction = (state: TransactionState, payload: Payload): TransactionState => {\n  if (state.transactions) {\n    const newState = { ...state };\n    const { updatedValues, id } = payload;\n    newState.transactions = newState.transactions.map((stateTransaction) => {\n      const { id: transactionId } = stateTransaction;\n      if (transactionId === id) {\n        return {\n          ...stateTransaction,\n          ...updatedValues\n        };\n      }\n      return stateTransaction;\n    });\n    return newState;\n  }\n  return state;\n};\n\nconst isInputReady = (state: TransactionState): boolean => {\n  switch (state.action) {\n    case TransactionTypes.INTERNAL_TRANSFER:\n    case TransactionTypes.TRANSFER: {\n      return Boolean(state.transferAmount) && Boolean(state.receiverAddress);\n    }\n    case TransactionTypes.CUSTOM: {\n      return Boolean(state.weightInput && state.customCallInput);\n    }\n    case TransactionTypes.REMARK: {\n      return Boolean(state.remarkInput);\n    }\n    default:\n      return false;\n  }\n};\n\nconst isReadyToExecute = (state: TransactionState): boolean => {\n  const { transactionRunning, senderAccount } = state;\n  const inputReady = isInputReady(state);\n  return Boolean(!transactionRunning && inputReady && senderAccount);\n};\n\nconst setLocalReceiver = (state: TransactionState, payload: ReceiverPayload): TransactionState => {\n  const { unformattedReceiverAddress, sourceChainDetails } = payload;\n  // Abstract this into a helper function\n  const { isValid, formatFound } = getValidAddressFormat(unformattedReceiverAddress!);\n  if (isValid) {\n    const receiverAddress = encodeAddress(unformattedReceiverAddress!, sourceChainDetails.configs.ss58Format);\n    const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { receiverAddress });\n    const transactionReadyToExecute = isReadyToExecute({ ...state, ...payload });\n    if (formatFound === GENERIC) {\n      return {\n        ...state,\n        unformattedReceiverAddress,\n        receiverAddress,\n        genericReceiverAccount: null,\n        addressValidationError: null,\n        showBalance: true,\n        formatFound: GENERIC,\n        transactionReadyToExecute,\n        shouldEvaluatePayloadEstimatedFee\n      };\n    }\n    if (formatFound === sourceChainDetails.configs.ss58Format) {\n      return {\n        ...state,\n        unformattedReceiverAddress,\n        receiverAddress: unformattedReceiverAddress,\n        derivedReceiverAccount: null,\n        genericReceiverAccount: null,\n        addressValidationError: null,\n        showBalance: true,\n        formatFound: sourceChainDetails.chain,\n        transactionReadyToExecute,\n        shouldEvaluatePayloadEstimatedFee\n      };\n    }\n  }\n\n  return {\n    ...state,\n    addressValidationError: 'Invalid Address',\n    unformattedReceiverAddress,\n    receiverAddress: null,\n    genericReceiverAccount: null,\n    formatFound: null,\n    transactionReadyToExecute: false,\n    payloadEstimatedFeeLoading: false,\n    shouldEvaluatePayloadEstimatedFee: false,\n    estimatedSourceFee: null,\n    estimatedTargetFee: null,\n    payload: null\n  };\n};\n\nconst setReceiver = (state: TransactionState, payload: ReceiverPayload): TransactionState => {\n  const { unformattedReceiverAddress, sourceChainDetails, targetChainDetails, isBridged } = payload;\n  if (!unformattedReceiverAddress) {\n    return {\n      ...state,\n      addressValidationError: null,\n      showBalance: false,\n      unformattedReceiverAddress,\n      receiverAddress: null,\n      genericReceiverAccount: null,\n      formatFound: null,\n      transactionReadyToExecute: false,\n      payloadEstimatedFeeLoading: false,\n      shouldEvaluatePayloadEstimatedFee: false,\n      estimatedSourceFee: null,\n      estimatedFeeMessageDelivery: null,\n      estimatedFeeBridgeCall: null,\n      estimatedTargetFee: null,\n      payload: null\n    };\n  }\n\n  if (!isBridged) {\n    return setLocalReceiver(state, payload);\n  }\n\n  const transactionReadyToExecute = isReadyToExecute({ ...state, ...payload });\n\n  const { receiverAddress, formatFound } = validateAccount(\n    unformattedReceiverAddress,\n    sourceChainDetails,\n    targetChainDetails\n  )!;\n\n  const { chain: targetChain } = targetChainDetails;\n  const { chain: sourceChain } = sourceChainDetails;\n\n  const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { receiverAddress });\n\n  if (formatFound === INCORRECT_FORMAT) {\n    return {\n      ...state,\n      addressValidationError: 'Invalid address',\n      showBalance: false,\n      unformattedReceiverAddress,\n      receiverAddress: null,\n      genericReceiverAccount: null,\n      formatFound,\n      transactionReadyToExecute: false,\n      shouldEvaluatePayloadEstimatedFee: false,\n      estimatedSourceFee: null,\n      estimatedFeeMessageDelivery: null,\n      estimatedFeeBridgeCall: null,\n      estimatedTargetFee: null,\n      payload: null\n    };\n  }\n\n  if (formatFound === GENERIC) {\n    return {\n      ...state,\n      unformattedReceiverAddress,\n      receiverAddress: null,\n      genericReceiverAccount: unformattedReceiverAddress,\n      addressValidationError: null,\n      showBalance: false,\n      formatFound,\n      transactionReadyToExecute: false,\n      shouldEvaluatePayloadEstimatedFee: false,\n      estimatedSourceFee: null,\n      estimatedFeeMessageDelivery: null,\n      estimatedFeeBridgeCall: null,\n      estimatedTargetFee: null,\n      payload: null\n    };\n  }\n\n  if (formatFound === targetChain) {\n    return {\n      ...state,\n      unformattedReceiverAddress,\n      receiverAddress,\n      genericReceiverAccount: null,\n      addressValidationError: null,\n      showBalance: true,\n      formatFound,\n      transactionReadyToExecute,\n      shouldEvaluatePayloadEstimatedFee\n    };\n  }\n\n  if (formatFound === sourceChain) {\n    return {\n      ...state,\n      unformattedReceiverAddress,\n      receiverAddress: unformattedReceiverAddress,\n      derivedReceiverAccount: receiverAddress,\n      genericReceiverAccount: null,\n      addressValidationError: null,\n      showBalance: true,\n      formatFound,\n      transactionReadyToExecute,\n      shouldEvaluatePayloadEstimatedFee\n    };\n  }\n\n  return {\n    ...state,\n    addressValidationError: `Unsupported address SS58 prefix: ${formatFound}`,\n    showBalance: false,\n    unformattedReceiverAddress,\n    receiverAddress: null,\n    genericReceiverAccount: null,\n    formatFound,\n    transactionReadyToExecute: false,\n    shouldEvaluatePayloadEstimatedFee: false,\n    estimatedSourceFee: null,\n    estimatedFeeMessageDelivery: null,\n    estimatedFeeBridgeCall: null,\n    estimatedTargetFee: null,\n    payload: null\n  };\n};\n\nexport { updateTransaction, isReadyToExecute, setReceiver, shouldCalculatePayloadFee, enoughFundsEvaluation };\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { base58Decode, checkAddressChecksum } from '@polkadot/util-crypto';\nimport { INCORRECT_FORMAT, GENERIC, GENERIC_SUBSTRATE_PREFIX } from '../../constants';\n\nexport default function getValidAddressFormat(address: string) {\n  try {\n    const decodedReceiverAddress = base58Decode(address);\n    const [isValid, , , formatFound] = checkAddressChecksum(decodedReceiverAddress);\n\n    const f = formatFound === GENERIC_SUBSTRATE_PREFIX ? GENERIC : formatFound;\n    return { isValid, formatFound: isValid ? f : INCORRECT_FORMAT };\n  } catch (e) {\n    return { isValid: false, formatFound: INCORRECT_FORMAT };\n  }\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { InterfaceTypes } from '@polkadot/types/types';\nimport { TransactionActionTypes } from '../actions/transactionActions';\nimport {\n  updateTransaction,\n  isReadyToExecute,\n  setReceiver,\n  shouldCalculatePayloadFee,\n  enoughFundsEvaluation\n} from '../util/transactions/reducer';\nimport { TransactionsActionType, TransactionState } from '../types/transactionTypes';\nimport logger from '../util/logger';\nimport { evalUnits } from '../util/evalUnits';\nimport { getTransactionDisplayPayload } from '../util/transactions';\nimport { isHex } from '@polkadot/util';\n\nexport default function transactionReducer(state: TransactionState, action: TransactionsActionType): TransactionState {\n  const transactionReadyToExecute = isReadyToExecute({ ...state, ...action.payload });\n  switch (action.type) {\n    case TransactionActionTypes.SET_PAYLOAD_ESTIMATED_FEE: {\n      const {\n        payloadEstimatedFeeError,\n        payloadEstimatedFee: {\n          estimatedSourceFee,\n          estimatedFeeMessageDelivery,\n          estimatedFeeBridgeCall,\n          estimatedTargetFee,\n          payload\n        },\n        payloadEstimatedFeeLoading,\n        sourceTargetDetails,\n        createType,\n        isBridged,\n        senderAccountBalance,\n        senderCompanionAccountBalance\n      } = action.payload;\n\n      const { senderAccount, receiverAddress, transferAmount } = state;\n\n      const { evaluateTransactionStatusError, notEnoughFundsToTransfer, notEnoughToPayFee } = enoughFundsEvaluation({\n        transferAmount,\n        senderCompanionAccountBalance,\n        senderAccountBalance,\n        estimatedSourceFee,\n        estimatedTargetFee,\n        action: state.action\n      });\n\n      const readyToExecute = payloadEstimatedFeeLoading\n        ? false\n        : transactionReadyToExecute && !notEnoughToPayFee && !notEnoughFundsToTransfer;\n\n      let payloadHex = null;\n      let transactionDisplayPayload = null;\n\n      if (senderAccount && payload) {\n        if (isBridged) {\n          const updated = getTransactionDisplayPayload({\n            payload,\n            account: senderAccount,\n            createType,\n            sourceTargetDetails\n          });\n          payloadHex = updated.payloadHex;\n          transactionDisplayPayload = updated.transactionDisplayPayload;\n        }\n        if (!isBridged && receiverAddress && transferAmount) {\n          transactionDisplayPayload = {\n            sourceAccount: senderAccount,\n            transferAmount: transferAmount.toNumber(),\n            receiverAddress: receiverAddress,\n            weight: payload.weight\n          };\n        }\n      }\n\n      return {\n        ...state,\n        estimatedSourceFee: !payloadEstimatedFeeError && transactionReadyToExecute ? estimatedSourceFee : null,\n        estimatedTargetFee: !payloadEstimatedFeeError && transactionReadyToExecute ? estimatedTargetFee : null,\n        estimatedFeeMessageDelivery:\n          !payloadEstimatedFeeError && transactionReadyToExecute ? estimatedFeeMessageDelivery : null,\n        estimatedFeeBridgeCall: !payloadEstimatedFeeError && transactionReadyToExecute ? estimatedFeeBridgeCall : null,\n        payloadEstimatedFeeError,\n        payloadEstimatedFeeLoading,\n        payload: payloadEstimatedFeeError ? null : payload,\n        transactionReadyToExecute: readyToExecute,\n        shouldEvaluatePayloadEstimatedFee: false,\n        payloadHex,\n        transactionDisplayPayload,\n        evaluateTransactionStatusError\n      };\n    }\n\n    case TransactionActionTypes.SET_BATCH_PAYLOAD_ESTIMATED_FEE: {\n      const { batchedTransactionState } = action.payload;\n\n      return {\n        ...state,\n        batchedTransactionState,\n        transactionReadyToExecute: Boolean(batchedTransactionState && state.estimatedSourceFee),\n        shouldEvaluatePayloadEstimatedFee: false\n      };\n    }\n\n    case TransactionActionTypes.SET_TRANSFER_AMOUNT: {\n      const { transferAmount, chainDecimals } = action.payload;\n\n      const [actualValue, message] = evalUnits(transferAmount, chainDecimals);\n      if (!transferAmount) {\n        return {\n          ...state,\n          transferAmount,\n          transferAmountError: null,\n          transactionReadyToExecute: false,\n          estimatedSourceFee: null,\n          estimatedFeeMessageDelivery: null,\n          estimatedFeeBridgeCall: null,\n          estimatedTargetFee: null,\n          payload: null\n        };\n      }\n\n      const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { transferAmount: actualValue });\n\n      return {\n        ...state,\n        transferAmount: actualValue || null,\n        transferAmountError: message,\n        transactionReadyToExecute: transactionReadyToExecute && !message,\n        estimatedSourceFee: null,\n        estimatedFeeMessageDelivery: null,\n        estimatedFeeBridgeCall: null,\n        estimatedTargetFee: null,\n        shouldEvaluatePayloadEstimatedFee\n      };\n    }\n    case TransactionActionTypes.SET_REMARK_INPUT: {\n      const { remarkInput } = action.payload;\n\n      if (remarkInput.startsWith('0x')) {\n        if (isHex(remarkInput)) {\n          const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { remarkInput });\n          return {\n            ...state,\n            remarkInput: remarkInput as string,\n            transactionReadyToExecute,\n            shouldEvaluatePayloadEstimatedFee\n          };\n        }\n      }\n\n      return {\n        ...state,\n        remarkInput,\n        transactionReadyToExecute: false,\n        shouldEvaluatePayloadEstimatedFee: false,\n        estimatedSourceFee: null,\n        estimatedFeeMessageDelivery: null,\n        estimatedFeeBridgeCall: null,\n        estimatedTargetFee: null,\n        payload: null,\n        payloadEstimatedFeeError: 'Invalid remark input'\n      };\n    }\n    case TransactionActionTypes.SET_CUSTOM_CALL_INPUT: {\n      const { customCallInput, createType, targetChain } = action.payload;\n      if (!customCallInput) {\n        return {\n          ...state,\n          customCallInput,\n          transactionReadyToExecute: false,\n          customCallError: null,\n          shouldEvaluatePayloadEstimatedFee: false\n        };\n      }\n      let customCallError = null;\n      let shouldEvaluatePayloadEstimatedFee = false;\n      try {\n        createType(targetChain as keyof InterfaceTypes, 'Call', customCallInput);\n        shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { customCallInput });\n      } catch (e) {\n        customCallError = e;\n        logger.error('Wrong call', e);\n      }\n\n      return {\n        ...state,\n        customCallInput,\n        transactionReadyToExecute: transactionReadyToExecute && !customCallError,\n        estimatedSourceFee: customCallError || !customCallInput ? null : state.estimatedSourceFee,\n        estimatedTargetFee: customCallError || !customCallInput ? null : state.estimatedTargetFee,\n        estimatedFeeMessageDelivery: customCallError || !customCallInput ? null : state.estimatedFeeMessageDelivery,\n        estimatedFeeBridgeCall: customCallError || !customCallInput ? null : state.estimatedFeeBridgeCall,\n        customCallError,\n        shouldEvaluatePayloadEstimatedFee\n      };\n    }\n    case TransactionActionTypes.SET_WEIGHT_INPUT: {\n      const { weightInput } = action.payload;\n      const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { weightInput });\n\n      return {\n        ...state,\n        weightInput: weightInput,\n        transactionReadyToExecute: transactionReadyToExecute && !state.customCallError,\n        shouldEvaluatePayloadEstimatedFee,\n        estimatedSourceFee: weightInput ? state.estimatedSourceFee : null,\n        estimatedFeeMessageDelivery: weightInput ? state.estimatedFeeMessageDelivery : null,\n        estimatedFeeBridgeCall: weightInput ? state.estimatedFeeBridgeCall : null\n      };\n    }\n\n    case TransactionActionTypes.RESET:\n      return {\n        ...state,\n        evaluateTransactionStatusError: null,\n        resetedAt: Date.now().toString(),\n        derivedReceiverAccount: null,\n        estimatedSourceFee: null,\n        estimatedFeeMessageDelivery: null,\n        estimatedFeeBridgeCall: null,\n        estimatedTargetFee: null,\n        payloadEstimatedFeeError: null,\n        shouldEvaluatePayloadEstimatedFee: false,\n        batchedTransactionState: null,\n        genericReceiverAccount: null,\n        receiverAddress: null,\n        transferAmount: null,\n        transferAmountError: null,\n        remarkInput: '',\n        customCallInput: '',\n        customCallError: null,\n        weightInput: '',\n        unformattedReceiverAddress: null,\n        addressValidationError: null,\n        payload: null,\n        transactionDisplayPayload: null,\n        payloadHex: null,\n        showBalance: false,\n        formatFound: null,\n        transactionReadyToExecute: false\n      };\n    case TransactionActionTypes.SET_RECEIVER_ADDRESS: {\n      const { receiverAddress } = action.payload;\n      const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, { receiverAddress });\n      return {\n        ...state,\n        receiverAddress,\n        transactionReadyToExecute,\n        shouldEvaluatePayloadEstimatedFee\n      };\n    }\n\n    case TransactionActionTypes.CREATE_TRANSACTION_STATUS:\n      return { ...state, transactions: [action.payload.initialTransaction, ...state.transactions] };\n    case TransactionActionTypes.UPDATE_CURRENT_TRANSACTION_STATUS:\n      return updateTransaction(state, action.payload);\n    case TransactionActionTypes.SET_RECEIVER:\n      return setReceiver(state, action.payload.receiverPayload);\n    case TransactionActionTypes.SET_TRANSACTION_RUNNING:\n      return {\n        ...state,\n        transactionRunning: action.payload.transactionRunning,\n        transactionReadyToExecute: action.payload.transactionRunning ? false : state.transactionReadyToExecute\n      };\n    case TransactionActionTypes.SET_TRANSACTION_TO_BE_EXECUTED: {\n      const { transactionToBeExecuted } = action.payload;\n      return {\n        ...state,\n        transactionToBeExecuted\n      };\n    }\n\n    case TransactionActionTypes.SET_ACTION: {\n      const { action: transactionType } = action.payload;\n\n      return {\n        ...state,\n        action: transactionType\n      };\n    }\n    case TransactionActionTypes.SET_SENDER: {\n      const { senderAccount } = action.payload;\n\n      return {\n        ...state,\n        senderAccount\n      };\n    }\n    case TransactionActionTypes.UPDATE_SENDER_BALANCES: {\n      const { action: transactionType, senderAccount } = state;\n\n      const shouldEvaluatePayloadEstimatedFee = shouldCalculatePayloadFee(state, {\n        senderAccount,\n        action: transactionType\n      });\n\n      return {\n        ...state,\n        shouldEvaluatePayloadEstimatedFee,\n        transactionReadyToExecute: false\n      };\n    }\n    case TransactionActionTypes.UPDATE_TRANSACTIONS_STATUS: {\n      const { evaluateTransactionStatusError, transactions, evaluatingTransactions } = action.payload;\n      return {\n        ...state,\n        transactions: transactions && !evaluateTransactionStatusError ? transactions : state.transactions,\n        evaluatingTransactions,\n        evaluateTransactionStatusError\n      };\n    }\n    case TransactionActionTypes.SET_TRANSFER_TYPE: {\n      const { transferType } = action.payload;\n      return {\n        ...state,\n        action: transferType\n      };\n    }\n    case TransactionActionTypes.ENABLE_TX_BUTTON: {\n      return {\n        ...state,\n        transactionReadyToExecute: true\n      };\n    }\n    case TransactionActionTypes.DISABLE_TX_BUTTON: {\n      return {\n        ...state,\n        transactionReadyToExecute: false\n      };\n    }\n    case TransactionActionTypes.CHANGE_DISPATCH_FEE_PAY_CHAIN: {\n      return {\n        ...state,\n        payFee: action.payload.payFee,\n        shouldEvaluatePayloadEstimatedFee: true\n      };\n    }\n    default:\n      throw new Error(`Unknown type: ${action.type}`);\n  }\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Dispatch, useCallback, useEffect } from 'react';\nimport { BN, compactAddLength, u8aToHex } from '@polkadot/util';\nimport { useAccountContext } from '../../contexts/AccountContextProvider';\nimport { useApiCallsContext } from '../../contexts/ApiCallsContextProvider';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { FeeDetails } from '@polkadot/types/interfaces';\nimport logger from '../../util/logger';\nimport type { InterfaceTypes } from '@polkadot/types/types';\n\nimport useLaneId from '../chain/useLaneId';\nimport { getSubstrateDynamicNames } from '../../util/getSubstrateDynamicNames';\nimport { genericCall } from '../../util/apiUtlis';\nimport {\n  PayloadEstimatedFee,\n  TransactionsActionType,\n  TransactionState,\n  TransactionTypes\n} from '../../types/transactionTypes';\nimport { getFeeAndWeightForInternals, getTransactionCallWeight } from '../../util/transactions/';\nimport { useGUIContext } from '../../contexts/GUIContextProvider';\nimport usePrevious from '../react/usePrevious';\n\nconst emptyData = {\n  payload: null,\n  estimatedSourceFee: null,\n  estimatedFeeMessageDelivery: null,\n  estimatedFeeBridgeCall: null,\n  estimatedTargetFee: null\n} as PayloadEstimatedFee;\n\nexport const useEstimatedFeePayload = (\n  transactionState: TransactionState,\n  dispatchTransaction: Dispatch<TransactionsActionType>\n) => {\n  const { createType, stateCall } = useApiCallsContext();\n\n  const laneId = useLaneId();\n  const sourceTargetDetails = useSourceTarget();\n  const {\n    sourceChainDetails: {\n      chain: sourceChain,\n      apiConnection: { api: sourceApi }\n    },\n    targetChainDetails: {\n      apiConnection: { api: targetApi },\n      chain: targetChain\n    }\n  } = sourceTargetDetails;\n  const { account, senderAccountBalance, senderCompanionAccountBalance } = useAccountContext();\n  const { action, isBridged } = useGUIContext();\n  const { estimatedFeeMethodName } = getSubstrateDynamicNames(targetChain);\n  const previousPayloadEstimatedFeeLoading = usePrevious(transactionState.payloadEstimatedFeeLoading);\n  const { bridgedMessages } = getSubstrateDynamicNames(targetChain);\n\n  const dispatch = useCallback(\n    (error: string | null, data: PayloadEstimatedFee | null, loading: boolean) =>\n      dispatchTransaction(\n        TransactionActionCreators.setPayloadEstimatedFee({\n          payloadEstimatedFeeError: error,\n          payloadEstimatedFee: data,\n          payloadEstimatedFeeLoading: loading,\n          sourceTargetDetails,\n          createType,\n          isBridged,\n          senderAccountBalance,\n          senderCompanionAccountBalance,\n          chainDecimals: targetApi.registry.chainDecimals[0]\n        })\n      ),\n    [\n      createType,\n      dispatchTransaction,\n      isBridged,\n      senderAccountBalance,\n      senderCompanionAccountBalance,\n      sourceTargetDetails,\n      targetApi.registry.chainDecimals\n    ]\n  );\n\n  const calculateFeeAndPayload = useCallback(\n    async (currentTransactionState: TransactionState) => {\n      if (currentTransactionState.action === TransactionTypes.INTERNAL_TRANSFER) {\n        const { estimatedFee, weight } = await getFeeAndWeightForInternals({\n          api: sourceApi,\n          transactionState: currentTransactionState\n        });\n        const payload = {\n          sourceAccount: currentTransactionState.senderAccount,\n          transferAmount: currentTransactionState.transferAmount!.toNumber(),\n          receiverAddress: currentTransactionState.receiverAddress,\n          weight\n        };\n        return { estimatedSourceFee: estimatedFee, payload };\n      }\n      const { call, weight } = await getTransactionCallWeight({\n        action,\n        account,\n        targetApi,\n        transactionState: currentTransactionState\n      });\n\n      if (!call || !weight) {\n        return emptyData;\n      }\n\n      const callToCompact = currentTransactionState.action === TransactionTypes.CUSTOM ? call : call.slice(2);\n      const payload = {\n        call: compactAddLength(callToCompact),\n        origin: {\n          SourceAccount: account!.addressRaw\n        },\n        dispatch_fee_payment: currentTransactionState.payFee,\n        spec_version: targetApi.consts.system.version.specVersion.toNumber(),\n        weight\n      };\n\n      const payloadType = createType(sourceChain as keyof InterfaceTypes, 'OutboundPayload', payload);\n      logger.info(`OutboundPayload: ${JSON.stringify(payload)}`);\n      logger.info(`OutboundPayload.toHex(): ${payloadType.toHex()}`);\n      const messageFeeType = createType(sourceChain as keyof InterfaceTypes, 'MessageFeeData', {\n        lane_id: laneId,\n        payload: payloadType.toHex()\n      });\n\n      // estimatedFeeMessageDelivery\n      const estimatedFeeCall = await stateCall(sourceChain, estimatedFeeMethodName, messageFeeType.toHex());\n      const estimatedFeeType = createType(sourceChain as keyof InterfaceTypes, 'Option<Balance>', estimatedFeeCall);\n      const estimatedFeeMessageDelivery = estimatedFeeType.toString();\n\n      // estimatedFeeBridgeCall\n      const bridgeMessage = sourceApi.tx[bridgedMessages].sendMessage(laneId, payload, estimatedFeeCall);\n      const submitMessageTransactionFee = await sourceApi.rpc.payment.queryFeeDetails(bridgeMessage.toHex());\n      const estimatedFeeBridgeCallBalance = (submitMessageTransactionFee as FeeDetails).inclusionFee.unwrap()\n        .adjustedWeightFee;\n      const estimatedFeeBridgeCall = estimatedFeeBridgeCallBalance.toString();\n\n      // estimatedSourceFee calculation based on the sum of estimatedFeeMessageDelivery + estimatedFeeBridgeCallBalance\n      const estimatedSourceFeeBN = new BN(estimatedFeeMessageDelivery).add(estimatedFeeBridgeCallBalance.toBn());\n      const estimatedSourceFee = estimatedSourceFeeBN.toString();\n\n      // estimatedTargetFee\n      const targetFeeDetails = await targetApi.rpc.payment.queryFeeDetails(u8aToHex(call));\n      const estimatedTargetFee = (targetFeeDetails as FeeDetails).inclusionFee.unwrap().adjustedWeightFee.toString();\n\n      return {\n        estimatedSourceFee,\n        estimatedFeeMessageDelivery,\n        estimatedFeeBridgeCall,\n        estimatedTargetFee,\n        payload\n      };\n    },\n    [\n      account,\n      action,\n      bridgedMessages,\n      createType,\n      estimatedFeeMethodName,\n      laneId,\n      sourceApi,\n      sourceChain,\n      stateCall,\n      targetApi\n    ]\n  );\n\n  useEffect(() => {\n    const { shouldEvaluatePayloadEstimatedFee, payloadEstimatedFeeLoading } = transactionState;\n\n    if (shouldEvaluatePayloadEstimatedFee && payloadEstimatedFeeLoading) {\n      logger.info(\n        'Transaction information changed while estimated fee is being calculating. Batching the new calculation.'\n      );\n      dispatchTransaction(TransactionActionCreators.setBatchedEvaluationPayloadEstimatedFee(transactionState));\n    }\n    if (shouldEvaluatePayloadEstimatedFee && !payloadEstimatedFeeLoading) {\n      genericCall({\n        //@ts-ignore\n        call: () => calculateFeeAndPayload(transactionState),\n        dispatch,\n        emptyData\n      });\n    }\n  }, [calculateFeeAndPayload, dispatch, dispatchTransaction, transactionState]);\n\n  useEffect(() => {\n    const { batchedTransactionState, payloadEstimatedFeeLoading } = transactionState;\n\n    if (\n      previousPayloadEstimatedFeeLoading &&\n      !payloadEstimatedFeeLoading &&\n      batchedTransactionState &&\n      senderAccountBalance &&\n      senderCompanionAccountBalance\n    ) {\n      genericCall({\n        //@ts-ignore\n        call: () => calculateFeeAndPayload(batchedTransactionState),\n        dispatch,\n        emptyData\n      });\n      dispatchTransaction(TransactionActionCreators.setBatchedEvaluationPayloadEstimatedFee(null));\n    }\n  }, [\n    account,\n    calculateFeeAndPayload,\n    dispatch,\n    dispatchTransaction,\n    previousPayloadEstimatedFeeLoading,\n    senderAccountBalance,\n    senderCompanionAccountBalance,\n    transactionState\n  ]);\n};\n\nexport default useEstimatedFeePayload;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Dispatch, useEffect } from 'react';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { useGUIContext } from '../../contexts/GUIContextProvider';\n\nimport { TransactionsActionType } from '../../types/transactionTypes';\nimport usePrevious from '../react/usePrevious';\n\nconst useResetTransactionState = (\n  action: string | number | undefined,\n  dispatchTransaction: Dispatch<TransactionsActionType>\n) => {\n  const {\n    sourceChainDetails: { chain: sourceChain }\n  } = useSourceTarget();\n  const { isBridged } = useGUIContext();\n  const prevIsBridged = usePrevious(isBridged);\n  const prevAction = usePrevious(action);\n  const prevSourceChain = usePrevious(sourceChain);\n\n  useEffect(() => {\n    if (prevAction !== action || prevSourceChain !== sourceChain || prevIsBridged !== isBridged) {\n      dispatchTransaction(TransactionActionCreators.reset());\n    }\n  }, [dispatchTransaction, prevAction, action, prevSourceChain, sourceChain, prevIsBridged, isBridged]);\n};\n\nexport default useResetTransactionState;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { TransactionState, TransactionTypes, PayFee } from '../../types/transactionTypes';\n\nexport const initTransactionState: TransactionState = {\n  resetedAt: null,\n  senderAccount: null,\n  transferAmount: null,\n  remarkInput: '',\n  customCallInput: '',\n  customCallError: null,\n  weightInput: '',\n  transferAmountError: null,\n  estimatedSourceFee: null,\n  estimatedFeeMessageDelivery: null,\n  estimatedFeeBridgeCall: null,\n  estimatedTargetFee: null,\n  receiverAddress: null,\n  unformattedReceiverAddress: null,\n  derivedReceiverAccount: null,\n  genericReceiverAccount: null,\n  evaluatingTransactions: false,\n  transactions: [],\n  transactionDisplayPayload: null,\n  transactionToBeExecuted: false,\n  transactionRunning: false,\n  transactionReadyToExecute: false,\n  evaluateTransactionStatusError: null,\n  addressValidationError: null,\n  showBalance: false,\n  formatFound: null,\n  payload: null,\n  payloadHex: null,\n  shouldEvaluatePayloadEstimatedFee: false,\n  payloadEstimatedFeeError: null,\n  payloadEstimatedFeeLoading: false,\n  batchedTransactionState: null,\n  action: TransactionTypes.TRANSFER,\n  payFee: PayFee.AtSourceChain\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Dispatch, useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\n\nimport { TransactionsActionType } from '../../types/transactionTypes';\nimport usePrevious from '../react/usePrevious';\nimport { BalanceState } from '../../types/accountTypes';\n\nconst useSenderBalanceUpdates = (\n  senderAccountBalance: BalanceState | null,\n  senderCompanionAccountBalance: BalanceState | null,\n  dispatchTransaction: Dispatch<TransactionsActionType>\n) => {\n  const prevSenderAccountBalance = usePrevious(senderAccountBalance);\n  const prevSenderCompanionAccountBalance = usePrevious(senderCompanionAccountBalance);\n\n  useEffect((): void => {\n    if (\n      (senderAccountBalance &&\n        senderCompanionAccountBalance &&\n        !isEqual(prevSenderAccountBalance, senderAccountBalance)) ||\n      !isEqual(prevSenderCompanionAccountBalance, senderCompanionAccountBalance)\n    )\n      dispatchTransaction(\n        TransactionActionCreators.updateSenderBalances({\n          senderAccountBalance,\n          senderCompanionAccountBalance\n        })\n      );\n  }, [\n    dispatchTransaction,\n    prevSenderAccountBalance,\n    prevSenderCompanionAccountBalance,\n    senderAccountBalance,\n    senderCompanionAccountBalance\n  ]);\n};\n\nexport default useSenderBalanceUpdates;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useContext, useReducer, useEffect } from 'react';\nimport useTransactionsStatus from '../hooks/context/useTransactionsStatus';\nimport transactionReducer from '../reducers/transactionReducer';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport useEstimatedFeePayload from '../hooks/transactions/useEstimatedFeePayload';\nimport useResetTransactionState from '../hooks/transactions/useResetTransactionState';\nimport { TransactionState, TransactionsActionType, PayFee } from '../types/transactionTypes';\nimport { useAccountContext } from './AccountContextProvider';\nimport { useGUIContext } from './GUIContextProvider';\nimport { initTransactionState } from '../reducers/initReducersStates/initTransactionState';\nimport { useSourceTarget } from './SourceTargetContextProvider';\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport useSenderBalanceUpdates from '../hooks/transactions/useSenderBalanceUpdates';\n\ninterface TransactionContextProviderProps {\n  children: React.ReactElement;\n}\n\nexport interface UpdateTransactionContext {\n  dispatchTransaction: React.Dispatch<TransactionsActionType>;\n}\n\nexport const TransactionContext: React.Context<TransactionState> = React.createContext({} as TransactionState);\n\nexport const UpdateTransactionContext: React.Context<UpdateTransactionContext> = React.createContext(\n  {} as UpdateTransactionContext\n);\n\nexport function useTransactionContext() {\n  return useContext(TransactionContext);\n}\n\nexport function useUpdateTransactionContext() {\n  return useContext(UpdateTransactionContext);\n}\n\nexport function TransactionContextProvider(props: TransactionContextProviderProps): React.ReactElement {\n  const { children = null } = props;\n  const { account, senderAccountBalance, senderCompanionAccountBalance, companionAccount } = useAccountContext();\n  const { action, isBridged } = useGUIContext();\n  const {\n    sourceChainDetails: {\n      configs: { ss58Format }\n    }\n  } = useSourceTarget();\n  const [transactionsState, dispatchTransaction] = useReducer(transactionReducer, initTransactionState);\n\n  useResetTransactionState(action, dispatchTransaction);\n  useEstimatedFeePayload(transactionsState, dispatchTransaction);\n  useTransactionsStatus(transactionsState.transactions, transactionsState.evaluatingTransactions, dispatchTransaction);\n  useSenderBalanceUpdates(senderAccountBalance, senderCompanionAccountBalance, dispatchTransaction);\n\n  useEffect((): void => {\n    account && dispatchTransaction(TransactionActionCreators.setSender(encodeAddress(account.address, ss58Format)));\n  }, [account, companionAccount, ss58Format]);\n\n  useEffect((): void => {\n    action && dispatchTransaction(TransactionActionCreators.setAction(action));\n  }, [action]);\n\n  useEffect((): void => {\n    !isBridged && dispatchTransaction(TransactionActionCreators.changeDispatchFeePayChain(PayFee.AtSourceChain));\n  }, [isBridged]);\n\n  return (\n    <TransactionContext.Provider value={transactionsState}>\n      <UpdateTransactionContext.Provider value={{ dispatchTransaction }}>{children}</UpdateTransactionContext.Provider>\n    </TransactionContext.Provider>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { TransactionStatusEnum, TransactionStatusType, TransactionTypes } from '../../types/transactionTypes';\nimport { useUpdateMessageContext } from '../../contexts/MessageContext';\n\nimport useChainGetters from '../chain/useChainGetters';\nimport { useSubscriptionsContext } from '../../contexts/SubscriptionsContextProvider';\nimport { getChainSubscriptionsKey } from '../../util/chainsUtils';\n\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { useApiCallsContext } from '../../contexts/ApiCallsContextProvider';\nimport useLaneId from '../chain/useLaneId';\nimport { useCallback, useEffect } from 'react';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport isEqual from 'lodash/isEqual';\nimport usePrevious from '../react/usePrevious';\nimport { genericCall } from '../../util/apiUtlis';\nimport { handleInternalTransactionUpdates, handleTransactionUpdates } from '../../util/transactions/';\n\nexport default function useTransactionsStatus(\n  transactions: TransactionStatusType[],\n  evaluatingTransactions: boolean,\n  dispatchTransaction: Function\n) {\n  const { dispatchMessage } = useUpdateMessageContext();\n  const { getValuesByChain } = useChainGetters();\n\n  const subscriptions = useSubscriptionsContext();\n  const prevSubscriptions = usePrevious(subscriptions);\n\n  const {\n    sourceChainDetails: { chain: currentSourceChain }\n  } = useSourceTarget();\n  const apiCalls = useApiCallsContext();\n  const laneId = useLaneId();\n\n  const dispatch = useCallback(\n    (error: string | null, data: TransactionStatusType[] | null, loading: boolean) =>\n      dispatchTransaction(TransactionActionCreators.updateTransactionsStatus(error, data, loading)),\n    [dispatchTransaction]\n  );\n\n  useEffect(() => {\n    const getTransactionStatus = async () => {\n      const updatedTransactions = await Promise.all(\n        transactions.map(async (transaction: TransactionStatusType) => {\n          if (transaction.status === TransactionStatusEnum.COMPLETED) {\n            return transaction;\n          }\n\n          const { sourceChain, targetChain } = transaction;\n          if (transaction.type === TransactionTypes.INTERNAL_TRANSFER) {\n            const updatedTransaction = handleInternalTransactionUpdates(transaction, sourceChain);\n            return updatedTransaction;\n          }\n\n          const { api: targetApi } = getValuesByChain(targetChain);\n          const { sourceRole, targetRole } = getChainSubscriptionsKey({\n            currentSourceChain,\n            sourceChain\n          });\n\n          const sourceSubscriptions = subscriptions[sourceRole];\n          const targetSubscriptions = subscriptions[targetRole];\n\n          const updatedTransaction = await handleTransactionUpdates({\n            transaction,\n            sourceSubscriptions,\n            targetSubscriptions,\n            apiCalls: {\n              targetApi,\n              ...apiCalls\n            },\n            laneId,\n            dispatchMessage\n          });\n\n          return updatedTransaction;\n        })\n      );\n\n      if (!isEqual(transactions, updatedTransactions)) {\n        return updatedTransactions;\n      }\n      return transactions;\n    };\n    const transactionsInProgress = transactions.find(\n      ({ status }) => status === TransactionStatusEnum.IN_PROGRESS || status === TransactionStatusEnum.FINALIZED\n    );\n    const updatedSubscriptions = prevSubscriptions !== subscriptions;\n\n    if (!evaluatingTransactions && transactionsInProgress && updatedSubscriptions) {\n      genericCall({\n        call: getTransactionStatus,\n        dispatch\n      });\n    }\n  }, [\n    apiCalls,\n    currentSourceChain,\n    dispatch,\n    dispatchMessage,\n    dispatchTransaction,\n    evaluatingTransactions,\n    getValuesByChain,\n    laneId,\n    prevSubscriptions,\n    subscriptions,\n    transactions\n  ]);\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { ApiPromise } from '@polkadot/api';\nimport { TypeRegistry } from '@polkadot/types';\nimport isEmpty from 'lodash/isEmpty';\nimport React, { useEffect, useState } from 'react';\nimport { ApiPromiseConnectionType, Configs, ConnectionChainInformation } from '../../types/sourceTargetTypes';\nimport logger from '../../util/logger';\nimport { getConfigs } from '../../util/getConfigs';\n\nexport const ApiPromiseContext: React.Context<ApiPromiseConnectionType> = React.createContext(\n  {} as ApiPromiseConnectionType\n);\n\nconst registry = new TypeRegistry();\n\ntype ConfigsType = {\n  configs: Configs;\n};\n\ntype PolkadotJsURL = {\n  polkadotjsUrl: string;\n};\n\ntype ConnectionType = ApiPromiseConnectionType & ConfigsType & PolkadotJsURL;\n\nexport function useApiConnection(connectionDetails: ConnectionChainInformation): ConnectionType {\n  const [apiPromise, setApiPromise] = useState<ApiPromise>({} as ApiPromise);\n  const [isReady, setIsReady] = useState(false);\n  const [configs, setConfigs] = useState<Configs>({} as Configs);\n  const { chainNumber, hasher, provider, types, polkadotjsUrl } = connectionDetails;\n\n  useEffect(() => {\n    ApiPromise.create({ hasher: hasher || undefined, provider, types })\n      .then((api): void => {\n        logger.info(`Chain ${chainNumber}: connection created.`);\n        setApiPromise(api);\n      })\n      .catch((err): void => {\n        logger.error(`Chain ${chainNumber}: Error creating connection. Details: ${err}`);\n      });\n  }, [chainNumber, hasher, provider, types]);\n\n  useEffect(() => {\n    !isReady &&\n      apiPromise &&\n      apiPromise.isReady &&\n      apiPromise.isReady\n        .then(() => {\n          if (types) {\n            registry.register(types);\n          }\n          logger.info(`Chain ${chainNumber}: types registration ready`);\n          setIsReady(true);\n        })\n        .catch((err): void => {\n          logger.error(`Chain ${chainNumber}: Error registering types. Details: ${err}`);\n        });\n  }, [apiPromise, apiPromise.isReady, chainNumber, isReady, types]);\n\n  useEffect(() => {\n    const getChainConfigs = async () => {\n      if (await apiPromise.isReady) {\n        const values = await getConfigs(apiPromise);\n        setConfigs(values);\n      }\n    };\n\n    if (isEmpty(configs)) {\n      getChainConfigs();\n    }\n  }, [apiPromise, apiPromise.isReady, configs]);\n\n  return { api: apiPromise, isApiReady: isReady, configs, polkadotjsUrl };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback } from 'react';\nimport { SignerOptions } from '@polkadot/api/types';\nimport type { SignedBlock } from '@polkadot/types/interfaces';\nimport { web3FromSource } from '@polkadot/extension-dapp';\nimport type { KeyringPair } from '@polkadot/keyring/types';\nimport type { InterfaceTypes } from '@polkadot/types/types';\nimport { MessageActionsCreators } from '../../actions/messageActions';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { useAccountContext } from '../../contexts/AccountContextProvider';\nimport { useUpdateMessageContext } from '../../contexts/MessageContext';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { useTransactionContext, useUpdateTransactionContext } from '../../contexts/TransactionContext';\nimport useLaneId from './useLaneId';\nimport { TransactionStatusEnum, TransactionTypes } from '../../types/transactionTypes';\nimport { getSubstrateDynamicNames } from '../../util/getSubstrateDynamicNames';\nimport { createEmptySteps, getFormattedAmount, getTransactionDisplayPayload } from '../../util/transactions/';\nimport logger from '../../util/logger';\nimport useApiCalls from '../api/useApiCalls';\nimport { TX_CANCELLED } from '../../constants';\nimport { getName } from '../../util/accounts';\n\ninterface Props {\n  input: string;\n  type: TransactionTypes;\n  weightInput?: string | null;\n}\n\nfunction useSendMessage({ input, type }: Props) {\n  const { estimatedSourceFee, receiverAddress, payload, transferAmount } = useTransactionContext();\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const laneId = useLaneId();\n  const sourceTargetDetails = useSourceTarget();\n  const {\n    sourceChainDetails: {\n      apiConnection: { api: sourceApi },\n      chain: sourceChain\n    },\n    targetChainDetails: {\n      chain: targetChain,\n      apiConnection: { api: targetApi }\n    }\n  } = sourceTargetDetails;\n  const { account, companionAccount } = useAccountContext();\n  const { createType } = useApiCalls();\n  const { dispatchMessage } = useUpdateMessageContext();\n\n  const makeCall = useCallback(\n    async (id: string) => {\n      try {\n        if (!account || !payload) {\n          return;\n        }\n\n        const payloadType = createType(sourceChain as keyof InterfaceTypes, 'OutboundPayload', payload);\n        const payloadHex = payloadType.toHex();\n\n        const { bridgedMessages } = getSubstrateDynamicNames(targetChain);\n        const bridgeMessage = sourceApi.tx[bridgedMessages].sendMessage(laneId, payload, estimatedSourceFee);\n        logger.info(`bridge::sendMessage ${bridgeMessage.toHex()}`);\n        const options: Partial<SignerOptions> = {\n          nonce: -1\n        };\n        let sourceAccount: string | KeyringPair = account;\n        if (account.meta.isInjected) {\n          const injector = await web3FromSource(account.meta.source as string);\n          options.signer = injector.signer;\n          sourceAccount = account.address;\n        }\n\n        const { transactionDisplayPayload } = getTransactionDisplayPayload({\n          payload,\n          account: account.address,\n          createType,\n          sourceTargetDetails\n        });\n\n        const formattedTransferAmount = getFormattedAmount(targetApi, transferAmount, type);\n\n        const signed = await bridgeMessage.signAsync(sourceAccount, { ...options });\n\n        dispatchTransaction(TransactionActionCreators.setTransactionToBeExecuted(false));\n        dispatchTransaction(TransactionActionCreators.setTransactionRunning(true));\n\n        const unsub = await signed.send(({ events = [], status }) => {\n          if (status.isReady) {\n            dispatchTransaction(\n              TransactionActionCreators.createTransactionStatus({\n                block: null,\n                blockHash: null,\n                id,\n                input,\n                messageNonce: null,\n                receiverAddress,\n                sourceAccount: account.address,\n                senderName: getName(account),\n                companionAccount,\n                sourceChain,\n                transferAmount: formattedTransferAmount,\n                status: TransactionStatusEnum.CREATED,\n                targetChain,\n                type,\n                payloadHex,\n                transactionDisplayPayload,\n                deliveryBlock: null,\n                steps: createEmptySteps(sourceChain, targetChain)\n              })\n            );\n          }\n\n          if (status.isBroadcast) {\n            dispatchMessage(MessageActionsCreators.triggerInfoMessage({ message: 'Transaction was broadcasted' }));\n            dispatchTransaction(TransactionActionCreators.reset());\n          }\n\n          if (status.isInBlock) {\n            dispatchTransaction(TransactionActionCreators.setTransactionRunning(false));\n            events.forEach(({ event: { data, method } }) => {\n              if (method.toString() === 'MessageAccepted') {\n                const messageNonce = data.toArray()[1].toString();\n                (sourceApi.rpc.chain.getBlock(status.asInBlock) as Promise<SignedBlock>)\n                  .then((res) => {\n                    const block = res.block.header.number.toString();\n                    dispatchTransaction(\n                      TransactionActionCreators.updateTransactionStatus(\n                        {\n                          block,\n                          blockHash: status.asInBlock.toString(),\n                          messageNonce,\n                          status: TransactionStatusEnum.IN_PROGRESS\n                        },\n                        id\n                      )\n                    );\n                  })\n                  .catch((e) => {\n                    logger.error(e.message);\n                    throw new Error('Issue reading block information.');\n                  });\n              }\n            });\n          }\n\n          if (status.isFinalized) {\n            logger.info(`Transaction finalized at blockHash ${status.asFinalized}`);\n\n            unsub();\n          }\n        });\n      } catch (e) {\n        if (e instanceof Error) {\n          logger.error(e.message);\n          if (e.message === TX_CANCELLED) {\n            dispatchTransaction(TransactionActionCreators.enableTxButton());\n            dispatchTransaction(TransactionActionCreators.setTransactionToBeExecuted(false));\n            dispatchTransaction(TransactionActionCreators.setTransactionRunning(false));\n            return dispatchMessage(\n              MessageActionsCreators.triggerErrorMessage({ message: 'Transaction was cancelled from the extension.' })\n            );\n          }\n          dispatchMessage(MessageActionsCreators.triggerErrorMessage({ message: e.message }));\n        }\n      } finally {\n        dispatchTransaction(TransactionActionCreators.setTransactionToBeExecuted(false));\n      }\n    },\n    [\n      account,\n      companionAccount,\n      createType,\n      dispatchMessage,\n      dispatchTransaction,\n      estimatedSourceFee,\n      input,\n      laneId,\n      payload,\n      receiverAddress,\n      sourceApi.rpc.chain,\n      sourceApi.tx,\n      sourceChain,\n      sourceTargetDetails,\n      targetApi,\n      targetChain,\n      transferAmount,\n      type\n    ]\n  );\n\n  const sendLaneMessage = useCallback(() => {\n    const id = Date.now().toString();\n\n    dispatchTransaction(TransactionActionCreators.setTransactionToBeExecuted(true));\n\n    return makeCall(id);\n  }, [dispatchTransaction, makeCall]);\n\n  return sendLaneMessage;\n}\n\nexport default useSendMessage;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport cx from 'classnames';\nimport { Typography, Tooltip } from '@material-ui/core';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    minHeight: '20px',\n    display: 'flex'\n  },\n  tooltipIcon: {\n    ...theme.typography.body1,\n    marginTop: 2,\n    marginLeft: 2,\n    '&:not(:hover)': {\n      color: fade(theme.palette.text.hint, 0.75)\n    }\n  },\n  value: {\n    backgroundColor: '#f5dada',\n    fontFamily: 'monospace',\n    paddingLeft: theme.spacing(0.7),\n    paddingRight: theme.spacing(0.7),\n    borderRadius: '3px'\n  },\n  textContainer: {\n    marginLeft: theme.spacing(0.5)\n  }\n}));\n\ninterface Props {\n  amount: string;\n  tooltip?: string | null;\n  showPlus?: boolean;\n}\n\ninterface TextStyle {\n  text: string;\n  background?: boolean;\n}\n\nconst CustomTypography = ({ text, background = false }: TextStyle) => {\n  const classes = useStyles();\n  return (\n    <Typography variant=\"body1\" className={cx(classes.textContainer, background ? classes.value : '')}>\n      {text}\n    </Typography>\n  );\n};\n\nexport default function FeeValue({ tooltip = '', amount, showPlus = false }: Props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.container}>\n      <CustomTypography text={amount} background />\n\n      {tooltip && (\n        <Tooltip title={tooltip} arrow placement=\"top\">\n          <HelpOutlineIcon className={classes.tooltipIcon} />\n        </Tooltip>\n      )}\n      {showPlus && <CustomTypography text={'+'} />}\n    </div>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { Alert } from '.';\nimport { formatBalance } from '@polkadot/util';\nimport FeeValue from './FeeValue';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst getFormattedAmount = (fee: string | null, chainDecimals: number, chainTokens: string) =>\n  fee\n    ? formatBalance(fee, {\n        decimals: chainDecimals,\n        withUnit: chainTokens,\n        withSi: true\n      })\n    : null;\n\nexport const EstimatedFee = (): React.ReactElement | null => {\n  const classes = useStyles();\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n  const {\n    estimatedSourceFee,\n    estimatedFeeMessageDelivery,\n    estimatedFeeBridgeCall,\n    estimatedTargetFee,\n    payloadEstimatedFeeLoading,\n    transactionRunning,\n    evaluateTransactionStatusError\n  } = useTransactionContext();\n  const { isBridged } = useGUIContext();\n  const srcChainDecimals = sourceChainDetails.apiConnection.api.registry.chainDecimals[0];\n  const tarChainDecimals = targetChainDetails.apiConnection.api.registry.chainDecimals[0];\n\n  const { chainTokens: srcChainTokens } = sourceChainDetails.apiConnection.api.registry;\n  const { chainTokens: tarChainTokens } = targetChainDetails.apiConnection.api.registry;\n\n  const estimatedFeeMessageDeliveryAmount = getFormattedAmount(\n    estimatedFeeMessageDelivery,\n    srcChainDecimals,\n    srcChainTokens[0]\n  );\n  const estimatedFeeBridgeCallAmount = getFormattedAmount(estimatedFeeBridgeCall, srcChainDecimals, srcChainTokens[0]);\n  const estimatedSourceFeeAmount = getFormattedAmount(estimatedSourceFee, srcChainDecimals, srcChainTokens[0]);\n  const targetFeeAmount = getFormattedAmount(estimatedTargetFee, tarChainDecimals, tarChainTokens[0]);\n\n  if (evaluateTransactionStatusError) {\n    return <Alert severity=\"error\">{evaluateTransactionStatusError}</Alert>;\n  }\n\n  if (payloadEstimatedFeeLoading && !transactionRunning) {\n    return (\n      <Typography variant=\"body1\" color=\"secondary\">\n        Calculating fee...\n      </Typography>\n    );\n  } else if (estimatedSourceFeeAmount) {\n    return (\n      <div className={classes.container}>\n        <Typography variant=\"body1\" color=\"secondary\">\n          Estimated Fee value\n        </Typography>\n        <FeeValue\n          amount={estimatedSourceFeeAmount}\n          tooltip={\n            isBridged\n              ? `Message Delivery Fee: ${estimatedFeeMessageDeliveryAmount} ${srcChainTokens[0]} + Send Message Fee: ${estimatedFeeBridgeCallAmount} ${srcChainTokens[0]}`\n              : null\n          }\n          showPlus={isBridged}\n        />\n\n        {isBridged && targetFeeAmount && <FeeValue amount={targetFeeAmount} />}\n      </div>\n    );\n  }\n  return null;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback, useMemo, useState, useEffect } from 'react';\nimport { useTransactionContext } from '../../contexts/TransactionContext';\nimport usePrevious from './usePrevious';\nimport debounce from 'lodash/debounce';\n\ntype ValueType = string | null;\ntype Output = [ValueType, (event: React.ChangeEvent<HTMLInputElement>) => void, ValueType];\n\ninterface Input {\n  initialValue: ValueType;\n  wait?: number;\n  transformCallback?: (value: ValueType) => void;\n  dispatchCallback?: (value: ValueType) => void;\n}\n\nexport const useDebounceState = ({ initialValue, wait = 500, transformCallback, dispatchCallback }: Input): Output => {\n  const [value, setValue] = useState(initialValue);\n  const [debounced, setDebounced] = useState(initialValue);\n  const { resetedAt } = useTransactionContext();\n  const previousDebounced = usePrevious(debounced);\n  const setDebouncedCallback = useMemo(() => debounce((value) => setDebounced(value), wait), [wait]);\n\n  const setValueCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const value = event.target.value;\n      setValue(value || '');\n      if (transformCallback) {\n        const transformedValue = transformCallback(value);\n        setDebouncedCallback(transformedValue);\n      } else {\n        setDebouncedCallback(value);\n      }\n    },\n    [setDebouncedCallback, transformCallback]\n  );\n\n  useEffect(() => {\n    if (previousDebounced !== debounced && dispatchCallback) {\n      dispatchCallback(debounced);\n    }\n  }, [debounced, dispatchCallback, previousDebounced]);\n\n  useEffect(() => {\n    setValue('');\n  }, [resetedAt]);\n\n  return [value, setValueCallback, debounced];\n};\n\nexport default useDebounceState;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { TextField } from '@material-ui/core';\nimport useDebounceState from '../hooks/react/useDebounceState';\nimport { useCallback } from 'react';\nimport { useUpdateTransactionContext } from '../contexts/TransactionContext';\nimport { TransactionActionCreators } from '../actions/transactionActions';\n\ntype ValueType = string | null;\n\ninterface Props {\n  id?: string;\n  placeholder?: string;\n  label?: string;\n  classes?: string;\n  InputProps?: Object;\n  helperText?: string | undefined | null;\n  variant?: 'standard' | 'filled' | 'outlined' | undefined;\n  fullWidth?: boolean;\n  multiline?: boolean;\n  rows?: number;\n  dispatchCallback?: (value: ValueType) => void;\n  initialValue?: ValueType;\n  disabled?: boolean;\n}\n\nexport function DebouncedTextField({\n  id,\n  placeholder,\n  classes,\n  helperText,\n  InputProps,\n  label,\n  variant,\n  fullWidth,\n  multiline,\n  rows,\n  dispatchCallback,\n  initialValue = '',\n  disabled = false\n}: Props) {\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const [value, setValue] = useDebounceState({ initialValue, dispatchCallback });\n\n  // set the transaction button to false on every change.\n  const onChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      dispatchTransaction(TransactionActionCreators.disableTXButton());\n      setValue(event);\n    },\n    [dispatchTransaction, setValue]\n  );\n\n  return (\n    <TextField\n      id={id}\n      label={label}\n      value={value}\n      variant={variant}\n      placeholder={placeholder}\n      className={classes}\n      autoComplete=\"off\"\n      fullWidth={fullWidth}\n      multiline={multiline}\n      helperText={helperText}\n      InputProps={InputProps}\n      rows={rows}\n      onChange={onChange}\n      disabled={disabled}\n    />\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { ButtonSubmit } from '.';\nimport { useTransactionContext } from '../contexts/TransactionContext';\n\ninterface Props {\n  onClick: () => void;\n  label: string;\n}\n\nexport default function SubmitButton({ onClick, label }: Props) {\n  const { transactionReadyToExecute, transactionToBeExecuted } = useTransactionContext();\n  return (\n    <ButtonSubmit disabled={!transactionReadyToExecute || transactionToBeExecuted} onClick={onClick}>\n      {label}\n    </ButtonSubmit>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\nimport { Box } from '@material-ui/core';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport useSendMessage from '../hooks/chain/useSendMessage';\nimport useApiCalls from '../hooks/api/useApiCalls';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { EstimatedFee } from './EstimatedFee';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport { useTransactionContext, useUpdateTransactionContext } from '../contexts/TransactionContext';\nimport { DebouncedTextField } from './DebouncedTextField';\nimport SubmitButton from './SubmitButton';\n\nconst initialValue = '0x';\n\nconst CustomCall = () => {\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { customCallInput, weightInput, customCallError } = useTransactionContext();\n\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n\n  const {\n    targetChainDetails: { chain: targetChain }\n  } = useSourceTarget();\n  const { createType } = useApiCalls();\n\n  const sendLaneMessage = useSendMessage({\n    input: customCallInput,\n    type: TransactionTypes.CUSTOM,\n    weightInput\n  });\n\n  const onChange = useCallback(\n    (value: string | null) => {\n      dispatchTransaction(TransactionActionCreators.setCustomCallInput(value, createType, targetChain));\n    },\n    [createType, dispatchTransaction, targetChain]\n  );\n\n  const onWeightChange = useCallback(\n    (value: string | null) => {\n      dispatchTransaction(TransactionActionCreators.setWeightInput(value));\n    },\n    [dispatchTransaction]\n  );\n\n  return (\n    <>\n      <Box mb={2}>\n        <DebouncedTextField\n          dispatchCallback={onChange}\n          placeholder={initialValue}\n          label=\"Call\"\n          variant=\"outlined\"\n          fullWidth\n          helperText={customCallError && `${customCallError}`}\n        />\n      </Box>\n      <DebouncedTextField dispatchCallback={onWeightChange} label=\"Weight\" variant=\"outlined\" fullWidth />\n      <SubmitButton\n        label={` Send custom call from ${sourceChainDetails.chain} to ${targetChainDetails.chain}`}\n        onClick={sendLaneMessage}\n      />\n\n      <EstimatedFee />\n    </>\n  );\n};\n\nexport default CustomCall;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Box, makeStyles } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\n\nconst useStyles = makeStyles((theme) => ({\n  skeleton: {\n    padding: theme.spacing(3),\n    width: '100%'\n  }\n}));\n\nexport default function SenderAccountsLoading() {\n  const classes = useStyles();\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" className={classes.skeleton}>\n      <Skeleton animation=\"wave\" width=\"100%\" height={50} />\n      <Skeleton animation=\"wave\" width=\"100%\" height={50} />\n      <Skeleton animation=\"wave\" width=\"100%\" height={300} />\n    </Box>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Identicon from '@polkadot/react-identicon';\nimport { INCORRECT_FORMAT } from '../constants';\nimport { useUpdateMessageContext } from '../contexts/MessageContext';\nimport { MessageActionsCreators } from '../actions/messageActions';\n\nimport ctx from 'classnames';\nimport React, { useCallback } from 'react';\nimport { IdentityProps } from '@polkadot/react-identicon/types';\ninterface Props extends IdentityProps {\n  address?: string;\n  formatFound?: string | null;\n}\nconst useStyles = makeStyles(() => ({\n  placeholder: {\n    filter: 'grayscale(1)'\n  }\n}));\nconst emptyAddress: string = '1nUC7afqmo7zwRFWxDjrUQu9skk6fk99pafb4SiyGSRc8z3';\n\nexport default function AccountIdenticon({ address, formatFound, size = 24, theme = 'polkadot', ...props }: Props) {\n  const { dispatchMessage } = useUpdateMessageContext();\n  const placeholder = !address || formatFound === INCORRECT_FORMAT;\n  const value = !placeholder ? address : emptyAddress;\n  const classes = useStyles();\n\n  const onCopy = useCallback(() => {\n    value !== emptyAddress &&\n      dispatchMessage(MessageActionsCreators.triggerSuccessMessage({ message: 'Address copied' }));\n  }, [dispatchMessage, value]);\n\n  return (\n    <Identicon\n      className={ctx(placeholder && classes.placeholder)}\n      value={value}\n      size={size}\n      theme={theme}\n      {...props}\n      onCopy={onCopy}\n    />\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Box, InputBase, makeStyles } from '@material-ui/core';\nimport { SelectLabel } from '.';\nimport AccountIdenticon from './AccountIdenticon';\nimport ArrowDropUp from '@material-ui/icons/ArrowDropUp';\n\ninterface Props {\n  handleChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    padding: theme.spacing(1)\n  },\n  input: {\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nexport default function SenderFilterInput({ handleChange }: Props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.box}>\n      <SelectLabel>Sender</SelectLabel>\n      <Box display=\"flex\" alignItems=\"center\">\n        <AccountIdenticon />\n        <InputBase\n          placeholder=\"select address or start typing\"\n          onChange={handleChange}\n          fullWidth\n          className={classes.input}\n        />\n        <ArrowDropUp color=\"primary\" />\n      </Box>\n    </div>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport React from 'react';\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch, { SwitchClassKey, SwitchProps } from '@material-ui/core/Switch';\n\ninterface Styles extends Partial<Record<SwitchClassKey, string>> {\n  focusVisible?: string;\n}\n\ninterface CustomSwitchProps extends SwitchProps {\n  classes: Styles;\n}\n\ninterface Props {\n  name: string;\n  label: string;\n  callback: Function;\n  checked: boolean;\n}\n\nconst CustomSwitch = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 30,\n      height: 14,\n      padding: 0,\n      margin: theme.spacing(1)\n    },\n    switchBase: {\n      padding: 1,\n      '&$checked': {\n        transform: 'translateX(16px)',\n        color: theme.palette.common.white,\n        '& + $track': {\n          backgroundColor: '#52d869',\n          opacity: 1,\n          border: 'none'\n        }\n      },\n      '&$focusVisible $thumb': {\n        color: '#52d869',\n        border: '6px solid #fff'\n      }\n    },\n    thumb: {\n      width: 12,\n      height: 12\n    },\n    track: {\n      borderRadius: 26 / 2,\n      border: `1px solid ${theme.palette.grey[400]}`,\n      backgroundColor: theme.palette.grey[50],\n      opacity: 1,\n      transition: theme.transitions.create(['background-color', 'border'])\n    },\n    checked: {},\n    focusVisible: {}\n  })\n)(({ classes, ...props }: CustomSwitchProps) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked\n      }}\n      {...props}\n    />\n  );\n});\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    color: theme.palette.grey[500]\n  }\n}));\n\nexport default function CustomizedSwitches({ name, label, callback, checked }: Props) {\n  const classes = useStyles();\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    callback(event.target.checked);\n  };\n\n  return (\n    <FormControlLabel\n      control={<CustomSwitch checked={checked} onChange={handleChange} name={name} />}\n      label={label}\n      labelPlacement=\"start\"\n      classes={{ label: classes.label }}\n    />\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\n\nimport { Divider, FormControl, FormGroup, makeStyles } from '@material-ui/core';\nimport SenderFilterInput from './SenderFilterInput';\nimport SenderActionSwitch from './SenderActionSwitch';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\ninterface Props {\n  setFilterInput: (value: React.SetStateAction<string | null>) => void;\n  setShowCompanion: (value: React.SetStateAction<boolean>) => void;\n  setShowEmpty: (value: React.SetStateAction<boolean>) => void;\n  showCompanion: boolean;\n  showEmpty: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  filters: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  }\n}));\n\nexport default function SenderFilters({\n  setFilterInput,\n  setShowEmpty,\n  setShowCompanion,\n  showEmpty,\n  showCompanion\n}: Props) {\n  const classes = useStyles();\n  const { isBridged } = useGUIContext();\n\n  const handleChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setFilterInput(event.target.value);\n    },\n    [setFilterInput]\n  );\n\n  return (\n    <div className={classes.filters}>\n      <SenderFilterInput handleChange={handleChange} />\n      <Divider />\n      <FormControl component=\"fieldset\">\n        <FormGroup aria-label=\"position\" row>\n          <SenderActionSwitch name=\"show empty\" label=\"show empty\" callback={setShowEmpty} checked={showEmpty} />\n          {isBridged && (\n            <SenderActionSwitch\n              name=\"show companion\"\n              label=\"show companion\"\n              callback={setShowCompanion}\n              checked={showCompanion}\n            />\n          )}\n        </FormGroup>\n      </FormControl>\n    </div>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport useChainGetters from '../hooks/chain/useChainGetters';\ninterface Props {\n  chain: string;\n}\n\nexport default function ChainLogo({ chain }: Props) {\n  const { getValuesByChain } = useChainGetters();\n  const { logoUrl } = getValuesByChain(chain);\n  return <img src={logoUrl} alt=\"chain logo\" width=\"20\" height=\"20\" />;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Box, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\nimport ChainLogo from './ChainLogo';\n\ninterface Props {\n  chain: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    padding: theme.spacing(1.7)\n  },\n  name: {\n    marginLeft: theme.spacing(0.8),\n    color: theme.palette.grey[600],\n    fontWeight: 500\n  }\n}));\n\nexport default function ChainHeader({ chain }: Props) {\n  const classes = useStyles();\n  return (\n    <Box display=\"flex\" className={classes.box}>\n      <ChainLogo chain={chain} />\n      <Typography classes={{ root: classes.name }}>{chain.toUpperCase()}</Typography>\n    </Box>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from 'react';\nimport cx from 'classnames';\nimport { Box, makeStyles, Typography, Tooltip } from '@material-ui/core';\nimport shorterItem from '../util/shortenItem';\nimport AccountIdenticon from './AccountIdenticon';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\ninterface Props {\n  name: string;\n  balance: string;\n  companionBalance: string;\n  address: string;\n  showCompanion: boolean;\n  companionAddress: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  topBalance: {\n    minWidth: theme.spacing(14),\n    marginLeft: theme.spacing(5)\n  },\n\n  bottomBalance: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(0.5),\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n    minWidth: theme.spacing(14)\n  },\n  border: {\n    border: `1px solid ${theme.palette.primary.light}`,\n    borderRadius: theme.spacing(0.5),\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  balanceBody: {\n    fontSize: theme.spacing(1.4),\n    padding: theme.spacing(0.2)\n  },\n  hoover: {\n    backgroundColor: theme.palette.secondary.light\n  },\n  main: {\n    width: '100%',\n    padding: 0\n  },\n  box: {\n    padding: theme.spacing(1.5),\n    minHeight: theme.spacing(8.5)\n  },\n  address: {\n    marginLeft: theme.spacing(0.5)\n  },\n  addressContainer: {\n    maxWidth: theme.spacing(30)\n  },\n  tooltip: {\n    maxWidth: 350\n  }\n}));\n\nconst SenderDropdownItem = ({ name, address, balance, companionBalance, showCompanion, companionAddress }: Props) => {\n  const classes = useStyles();\n  const [hoover, setHoover] = useState(false);\n  const { isBridged } = useGUIContext();\n\n  const companionTitle = ` Companion: ${companionAddress}`;\n  let title = `Native: ${address}`;\n\n  if (isBridged) {\n    title = title.concat(companionTitle);\n  }\n\n  return (\n    <div\n      className={cx(classes.main, hoover ? classes.hoover : '')}\n      onMouseEnter={() => {\n        setHoover(true);\n      }}\n      onMouseLeave={() => {\n        setHoover(false);\n      }}\n    >\n      <Tooltip placement=\"top\" title={title} aria-label=\"add\" classes={{ tooltip: classes.tooltip }} arrow>\n        <Box display=\"flex\" className={classes.box} id=\"test-transaction-header\" alignItems=\"start\">\n          <AccountIdenticon address={address} />\n          <div className={classes.addressContainer}>\n            <Typography noWrap classes={{ root: classes.address }}>\n              {name} [{shorterItem(address)}]\n            </Typography>\n          </div>\n\n          <Box\n            marginLeft=\"auto\"\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"flex-end\"\n            id=\"test-transaction-header\"\n          >\n            <Box\n              className={cx(classes.topBalance, isBridged && showCompanion ? classes.border : '')}\n              display=\"flex\"\n              justifyContent=\"flex-end\"\n            >\n              <Typography component=\"p\" className={classes.balanceBody}>\n                {balance}\n              </Typography>\n            </Box>\n            {showCompanion && isBridged && (\n              <Box className={classes.bottomBalance} display=\"flex\" justifyContent=\"flex-end\">\n                <Typography component=\"p\" className={classes.balanceBody}>\n                  {companionBalance}\n                </Typography>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default SenderDropdownItem;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback } from 'react';\nimport type { KeyringPair } from '@polkadot/keyring/types';\n\nimport { AccountActionCreators } from '../../actions/accountActions';\nimport { SourceTargetActionsCreators } from '../../actions/sourceTargetActions';\nimport { useUpdateAccountContext } from '../../contexts/AccountContextProvider';\nimport { useUpdateSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { useAccountContext } from '../../contexts/AccountContextProvider';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { GENERIC_SUBSTRATE_PREFIX } from '../../constants';\nimport { encodeAddress } from '@polkadot/util-crypto';\n\ninterface Accounts {\n  accounts: Array<KeyringPair> | [];\n  setCurrentAccount: (account: string, sourceChain: string) => void;\n}\n\nconst useAccounts = (): Accounts => {\n  const { dispatchAccount } = useUpdateAccountContext();\n  const { dispatchChangeSourceTarget } = useUpdateSourceTarget();\n  const sourceTarget = useSourceTarget();\n  const { accounts } = useAccountContext();\n\n  const setCurrentAccount = useCallback(\n    (account, sourceChain) => {\n      const accountKeyring = accounts.find(\n        ({ address }) => encodeAddress(account, GENERIC_SUBSTRATE_PREFIX) === address\n      );\n\n      dispatchChangeSourceTarget(SourceTargetActionsCreators.switchChains(sourceChain));\n      dispatchAccount(AccountActionCreators.setAccount(accountKeyring!, sourceTarget, sourceChain));\n    },\n    [accounts, dispatchAccount, dispatchChangeSourceTarget, sourceTarget]\n  );\n  return {\n    accounts,\n    setCurrentAccount\n  };\n};\n\nexport default useAccounts;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport { getFilteredAccounts } from '../util/sender/filters';\nimport ChainHeader from './ChainHeader';\nimport SenderDropdownItem from './SenderDropdownItem';\nimport useAccounts from '../hooks/accounts/useAccounts';\n\ninterface Props {\n  chainMatch: string | undefined;\n  chain: string;\n  showCompanion: boolean;\n  showEmpty: boolean;\n  handleClose: () => void;\n  filters: string[];\n}\n\nconst useStyles = makeStyles(() => ({\n  selectAccountMainItem: {\n    display: 'block'\n  }\n}));\n\nexport default function SenderAccountsListByChain({\n  chainMatch,\n  chain,\n  showCompanion,\n  showEmpty,\n  handleClose,\n  filters\n}: Props) {\n  const { displaySenderAccounts } = useAccountContext();\n  const { setCurrentAccount } = useAccounts();\n  const classes = useStyles();\n\n  const accounts = useMemo(() => getFilteredAccounts({ displaySenderAccounts, chain, filters, chainMatch }), [\n    chain,\n    displaySenderAccounts,\n    filters,\n    chainMatch\n  ]);\n\n  return (\n    <>\n      {Boolean(accounts.length) && <ChainHeader chain={chain} />}\n      {accounts.map((option) => {\n        const component = (\n          <SenderDropdownItem\n            name={option.account.name}\n            address={option.account.address}\n            balance={option.account.balance.formattedBalance}\n            companionBalance={option.companionAccount.balance.formattedBalance}\n            companionAddress={option.companionAccount.address}\n            showCompanion={showCompanion}\n          />\n        );\n        return (\n          <div\n            className={classes.selectAccountMainItem}\n            key={option.account.address}\n            onClick={() => {\n              setCurrentAccount(option.account.address, chain);\n              handleClose();\n            }}\n          >\n            {showEmpty ? component : option.account.balance.formattedBalance !== '0' ? component : null}\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { DisplayAccounts } from '../../../types/accountTypes';\n\ninterface Parameters {\n  displaySenderAccounts: DisplayAccounts;\n  chain: string;\n  filters: string[];\n  chainMatch: string | undefined;\n}\n\nexport default function getFilteredAccounts({ displaySenderAccounts, chain, filters, chainMatch }: Parameters) {\n  const items = displaySenderAccounts[chain];\n  const upperChain = chain.toLocaleUpperCase();\n\n  const getItemsFiltered = () => {\n    if (filters.length) {\n      const match = (input: string, caseSensitive = true) => {\n        let show = false;\n\n        const field = caseSensitive ? input : input.toUpperCase();\n        filters.forEach((f) => {\n          if (field.includes(caseSensitive ? f : f.toUpperCase())) {\n            show = true;\n          }\n        });\n        return show;\n      };\n\n      return items.filter(({ account, companionAccount }) => {\n        const matchAddress = match(account.address);\n        const matchCompanionAddress = match(companionAccount.address);\n        const matchName = match(account.name, false);\n\n        if (matchName && filters.length === 1) {\n          return true;\n        }\n\n        if (matchName && !matchAddress && !matchCompanionAddress && filters.length > 1) {\n          return false;\n        }\n\n        return matchAddress || matchCompanionAddress || matchName;\n      });\n    }\n    return [];\n  };\n\n  if (!chainMatch && !filters.length) {\n    return items;\n  }\n\n  if (chainMatch && !upperChain.includes(chainMatch)) {\n    return [];\n  }\n\n  const filteredItems = getItemsFiltered();\n\n  if (chainMatch && upperChain.includes(chainMatch) && !filters.length) {\n    return items;\n  }\n\n  if (filteredItems.length) {\n    return filteredItems;\n  }\n\n  return [];\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useMemo } from 'react';\n\nimport { Divider, makeStyles } from '@material-ui/core';\nimport SenderAccountsListByChain from './SenderAccountsListByChain';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport { getChainMatches } from '../util/sender/filters';\n\ninterface Props {\n  showCompanion: boolean;\n  showEmpty: boolean;\n  filterInput: string | null;\n  handleClose: () => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: theme.spacing(39),\n    overflow: 'scroll'\n  }\n}));\n\nexport default function SenderAccountsSection({ showEmpty, showCompanion, filterInput, handleClose }: Props) {\n  const classes = useStyles();\n  const { displaySenderAccounts } = useAccountContext();\n\n  const [chains, filters, chainMatch] = useMemo(() => getChainMatches(displaySenderAccounts, filterInput), [\n    displaySenderAccounts,\n    filterInput\n  ]);\n\n  if (chains.length) {\n    return (\n      <div className={classes.paper}>\n        <SenderAccountsListByChain\n          chainMatch={chainMatch}\n          chain={chains[0]}\n          showCompanion={showCompanion}\n          showEmpty={showEmpty}\n          handleClose={handleClose}\n          filters={filters}\n        />\n        <Divider />\n        <SenderAccountsListByChain\n          chainMatch={chainMatch}\n          chain={chains[1]}\n          showCompanion={showCompanion}\n          showEmpty={showEmpty}\n          handleClose={handleClose}\n          filters={filters}\n        />\n      </div>\n    );\n  }\n  return null;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { DisplayAccounts } from '../../../types/accountTypes';\n\nexport default function getChainMatches(\n  displaySenderAccounts: DisplayAccounts,\n  filterInput: string | null\n): [string[], string[], string | undefined] {\n  const chains = Object.keys(displaySenderAccounts);\n  const splitFilter = filterInput ? filterInput.split(' ').filter((n) => n !== '') : [];\n\n  let chainMatch: string | undefined;\n  let fullChainNameMatched = '';\n  if (splitFilter.length) {\n    splitFilter.forEach((f) =>\n      chains.forEach((c) => {\n        const upperC = c.toUpperCase();\n        if (upperC.includes(f.toUpperCase())) {\n          chainMatch = f.toUpperCase();\n          if (upperC === f.toUpperCase()) {\n            fullChainNameMatched = upperC;\n          }\n        }\n      })\n    );\n  }\n\n  if (chainMatch) {\n    if (fullChainNameMatched) {\n      const filters = splitFilter.filter((sf) => sf.toUpperCase() !== fullChainNameMatched);\n      return [chains, filters, fullChainNameMatched];\n    }\n    const filters = splitFilter.filter((sf) => sf.toUpperCase() !== chainMatch);\n    return [chains, filters, chainMatch];\n  }\n\n  return [chains, splitFilter, undefined];\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState, useCallback } from 'react';\n\nimport { makeStyles, Popover } from '@material-ui/core';\nimport SenderAccountsLoading from './SenderAccountsLoading';\nimport SenderFilters from './SenderFilters';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport SenderAccountsSection from './SenderAccountsSection';\ninterface Props {\n  anchorEl: HTMLElement | null;\n  removeAnchor: () => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    minWidth: theme.spacing(56),\n    maxHeight: theme.spacing(50),\n    minHeight: theme.spacing(50),\n    border: `1px solid ${theme.palette.primary.light}`,\n    borderRadius: theme.spacing(1.5),\n    overflow: 'hidden'\n  }\n}));\n\nexport default function SenderDropdown({ anchorEl, removeAnchor }: Props) {\n  const classes = useStyles();\n  const [showEmpty, setShowEmpty] = useState(true);\n  const [showCompanion, setShowCompanion] = useState(true);\n  const [filterInput, setFilterInput] = useState<string | null>(null);\n  const { initialLoadingAccounts } = useAccountContext();\n  const open = Boolean(anchorEl);\n  const id = open ? 'test-sender-component' : undefined;\n\n  const handleClose = useCallback(() => {\n    removeAnchor();\n    setFilterInput(null);\n  }, [removeAnchor]);\n\n  return (\n    <Popover\n      id={id}\n      open={open}\n      anchorEl={anchorEl}\n      onClose={handleClose}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center'\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'center'\n      }}\n      classes={{\n        paper: classes.paper\n      }}\n    >\n      {initialLoadingAccounts ? (\n        <SenderAccountsLoading />\n      ) : (\n        <>\n          <SenderFilters\n            setFilterInput={setFilterInput}\n            setShowEmpty={setShowEmpty}\n            setShowCompanion={setShowCompanion}\n            showEmpty={showEmpty}\n            showCompanion={showCompanion}\n          />\n          <SenderAccountsSection\n            showEmpty={showEmpty}\n            showCompanion={showCompanion}\n            filterInput={filterInput}\n            handleClose={handleClose}\n          />\n        </>\n      )}\n    </Popover>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport React from 'react';\n\ninterface Props {\n  balance?: string | null | undefined;\n  onClick?: () => void;\n  id?: string | undefined;\n  senderBalanceAccountLoading?: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  balances: {\n    whiteSpace: 'nowrap',\n    ...theme.typography.subtitle2\n  }\n}));\n\nconst Balance = ({ balance, onClick, id, senderBalanceAccountLoading = false }: Props) => {\n  const classes = useStyles();\n  return (\n    <div onClick={onClick} className={classes.balances} id={id}>\n      {senderBalanceAccountLoading ? '-' : balance || ''}\n    </div>\n  );\n};\n\nexport default Balance;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport type { KeyringPair } from '@polkadot/keyring/types';\nimport { Balance } from '@polkadot/types/interfaces';\n\nimport { AccountActionsTypes } from '../actions/accountActions';\n\nexport type Account = KeyringPair | null;\n\nexport interface Payload {\n  [propName: string]: any;\n}\n\nexport type BalanceState = {\n  chainTokens: string;\n  formattedBalance: string;\n  free: Balance;\n};\n\ntype AccountInfo = {\n  address: string;\n  balance: BalanceState;\n  name: string;\n};\n\nexport interface DisplayAccount {\n  account: AccountInfo;\n  companionAccount: AccountInfo;\n}\n\nexport interface DisplayAccounts {\n  [chain: string]: DisplayAccount[];\n}\n\nexport interface AccountState {\n  account: Account;\n  accounts: Array<KeyringPair> | [];\n  companionAccount: string | null;\n  senderAccountBalance: BalanceState | null;\n  senderCompanionAccountBalance: BalanceState | null;\n  displaySenderAccounts: DisplayAccounts;\n  initialLoadingAccounts: boolean;\n  senderBalanceAccountLoading: boolean;\n}\n\nexport type AccountsActionType = { type: AccountActionsTypes; payload: Payload };\n\nexport enum AddressKind {\n  NATIVE = 'native',\n  COMPANION = 'companion'\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport React, { MouseEvent } from 'react';\nimport Balance from './Balance';\nimport shorterItem from '../util/shortenItem';\nimport AccountIdenticon from './AccountIdenticon';\nimport { Box, Tooltip } from '@material-ui/core';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport { AddressKind } from '../types/accountTypes';\n\nexport interface Props {\n  friendlyName?: string | null;\n  isDerived?: boolean;\n  addressKind?: AddressKind | string;\n  address?: string;\n  hideAddress?: boolean;\n  onClick?: (event: MouseEvent<HTMLElement>) => void;\n  balance?: string | null | undefined;\n  className?: string;\n  withTooltip?: boolean;\n  id?: string | undefined;\n  senderBalanceAccountLoading?: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  address: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: theme.spacing(),\n    marginRight: theme.spacing(),\n    width: '100%',\n    overflow: 'auto'\n  },\n  missingAddress: {\n    color: theme.palette.text.disabled\n  },\n  tooltipIcon: {\n    ...theme.typography.body1,\n    marginTop: 2,\n    marginLeft: 2,\n    '&:not(:hover)': {\n      color: fade(theme.palette.text.hint, 0.75)\n    }\n  }\n}));\n\nconst AccountDisplay = ({\n  address = '',\n  addressKind,\n  balance,\n  friendlyName,\n  hideAddress = false,\n  onClick,\n  className,\n  withTooltip,\n  id,\n  senderBalanceAccountLoading = false\n}: Props) => {\n  const classes = useStyles();\n  const displayText = () => {\n    const shortAddress = shorterItem(address);\n\n    const name = friendlyName ? `${friendlyName} ${shortAddress ? `[${shortAddress}]` : ''}` : shortAddress;\n    const justFriendlyName = friendlyName || shortAddress;\n    const displayName = hideAddress ? justFriendlyName : name;\n\n    if (addressKind) {\n      return `${addressKind}(${displayName})`;\n    }\n\n    return displayName;\n  };\n\n  return (\n    <Box onClick={onClick} display=\"flex\" alignItems=\"center\" className={className}>\n      <AccountIdenticon address={address} />\n      <div className={`${classes.address} ${!address && classes.missingAddress}`} id={id}>\n        {displayText()}\n        {withTooltip && (\n          <Tooltip title={address} arrow placement=\"top\" interactive>\n            <HelpOutlineIcon className={classes.tooltipIcon} />\n          </Tooltip>\n        )}\n      </div>\n      <Balance balance={balance} senderBalanceAccountLoading={senderBalanceAccountLoading} />\n    </Box>\n  );\n};\n\nexport default AccountDisplay;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport cx from 'classnames';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUp from '@material-ui/icons/ArrowDropUp';\nimport AccountDisplay from './AccountDisplay';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SelectLabel } from '.';\nimport { Box } from '@material-ui/core';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\n\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\nimport { getName } from '../util/accounts';\n\ninterface Props {\n  handleClick: (event: React.MouseEvent<HTMLElement>) => void;\n  anchorEl: HTMLElement | null;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  accountMain: {\n    padding: theme.spacing(1.25),\n    paddingTop: theme.spacing(0.5),\n    paddingRight: theme.spacing(0),\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1.5)\n  },\n  withoutBottomBorderRadius: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  paper: {\n    minWidth: theme.spacing(60),\n    maxHeight: theme.spacing(50)\n  },\n  senderActions: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  },\n  icon: {\n    marginLeft: 'auto'\n  },\n  account: {\n    width: '100%'\n  }\n}));\n\nexport default function SenderAccount({ handleClick, anchorEl }: Props) {\n  const classes = useStyles();\n  const { account, senderAccountBalance, senderBalanceAccountLoading } = useAccountContext();\n  const { isBridged } = useGUIContext();\n  const {\n    sourceChainDetails: {\n      configs: { ss58Format }\n    }\n  } = useSourceTarget();\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  return (\n    <Box\n      onClick={handleClick}\n      p={1}\n      className={cx(classes.accountMain, isBridged ? classes.withoutBottomBorderRadius : '')}\n      id=\"test-sender-component\"\n    >\n      <SelectLabel>Sender</SelectLabel>\n      <Box display=\"flex\">\n        <div className={classes.account}>\n          <AccountDisplay\n            senderBalanceAccountLoading={senderBalanceAccountLoading}\n            aria-describedby={id}\n            friendlyName={account ? getName(account) : 'Select sender account'}\n            address={account ? encodeAddress(account.address, ss58Format) : ''}\n            balance={senderAccountBalance?.formattedBalance}\n          />\n        </div>\n        <div className={classes.icon}>{open ? <ArrowDropUp /> : <ArrowDropDownIcon />}</div>\n      </Box>\n    </Box>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport AccountDisplay from './AccountDisplay';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AddressKind } from '../types/accountTypes';\nimport { styleAccountCompanion } from '.';\nimport isNull from 'lodash/isNull';\nimport { getName } from '../util/accounts';\n\nimport BridgedLocalWrapper from './BridgedLocalWrapper';\n\nconst useStyles = makeStyles((theme) => ({\n  accountMain: {\n    padding: theme.spacing(1.25),\n    paddingTop: theme.spacing(0.5),\n    paddingRight: theme.spacing(0),\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1.5),\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  accountCompanion: {\n    ...styleAccountCompanion(theme)\n  },\n  sender: {\n    minHeight: theme.spacing(10)\n  },\n  paper: {\n    minWidth: theme.spacing(60),\n    maxHeight: theme.spacing(50)\n  },\n  senderActions: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  },\n  icon: {\n    marginLeft: 'auto'\n  },\n  account: {\n    width: '100%'\n  }\n}));\n\nexport default function SenderCompanionAccount() {\n  const classes = useStyles();\n  const { account, companionAccount, senderCompanionAccountBalance, senderBalanceAccountLoading } = useAccountContext();\n\n  return (\n    <BridgedLocalWrapper>\n      <div className={classes.accountCompanion}>\n        {companionAccount && !isNull(senderCompanionAccountBalance) ? (\n          <AccountDisplay\n            senderBalanceAccountLoading={senderBalanceAccountLoading}\n            friendlyName={getName(account)}\n            address={companionAccount}\n            addressKind={AddressKind.COMPANION}\n            balance={senderCompanionAccountBalance!.formattedBalance}\n            hideAddress\n            withTooltip\n          />\n        ) : (\n          <AccountDisplay friendlyName=\"Sender\" addressKind={AddressKind.COMPANION} hideAddress />\n        )}\n      </div>\n    </BridgedLocalWrapper>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from 'react';\nimport SenderDropdown from './SenderDropdown';\nimport SenderAccount from './SenderAccount';\nimport SenderCompanionAccount from './SenderCompanionAccount';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  sender: {\n    minHeight: theme.spacing(13)\n  }\n}));\n\nexport default function Sender() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const removeAnchor = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <>\n      <div className={classes.sender}>\n        <SenderAccount handleClick={handleClick} anchorEl={anchorEl} />\n        <SenderDropdown anchorEl={anchorEl} removeAnchor={removeAnchor} />\n        <SenderCompanionAccount />\n      </div>\n    </>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport React from 'react';\nimport { useKeyringContext } from '../contexts/KeyringContextProvider';\nimport useLoadingApi from '../hooks/connections/useLoadingApi';\nimport { ButtonInstallExtension } from './Buttons';\n\ninterface Props {\n  component: JSX.Element;\n}\n\n// TODO #176: Move this to a more generic error-show component\nconst statusFunc = (from: string, state: boolean) => `${from} chain status: ${!state ? 'disconnected' : 'connected'}`;\n\nconst ExtensionAccountCheck = ({ component }: Props): JSX.Element => {\n  const { extensionExists, accountExists } = useKeyringContext();\n  // TODO #176: Move this to a more generic error-show component\n  const { sourceReady, targetReady } = useLoadingApi();\n  const isDevelopment = process.env.REACT_APP_IS_DEVELOPMENT === 'true';\n  const loadDevAccounts = process.env.REACT_APP_KEYRING_DEV_LOAD_ACCOUNTS === 'true';\n\n  let msg: string = '';\n  if (isDevelopment || loadDevAccounts) {\n    return component;\n  }\n\n  if (!extensionExists) {\n    msg = 'Connect to a wallet. Install polkadotjs extension';\n  } else if (!accountExists) {\n    msg = 'There are no accounts in the extension. Please create one';\n    // TODO #176: Move this to a more generic error-show component\n  } else if (!sourceReady || !targetReady) {\n    msg = `${!sourceReady ? statusFunc('Source', sourceReady) : ''} ${\n      !targetReady ? statusFunc('Target', targetReady) : ''\n    }`;\n  }\n\n  return <>{msg ? <ButtonInstallExtension>{msg}</ButtonInstallExtension> : component}</>;\n};\n\nexport default ExtensionAccountCheck;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport useSendMessage from '../hooks/chain/useSendMessage';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { EstimatedFee } from './EstimatedFee';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport { useTransactionContext, useUpdateTransactionContext } from '../contexts/TransactionContext';\nimport { DebouncedTextField } from './DebouncedTextField';\nimport SubmitButton from './SubmitButton';\n\nexport default function Remark() {\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { remarkInput } = useTransactionContext();\n\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n\n  const sendLaneMessage = useSendMessage({\n    input: remarkInput,\n    type: TransactionTypes.REMARK\n  });\n\n  const dispatchCallback = useCallback(\n    (value: string | null) => dispatchTransaction(TransactionActionCreators.setRemarkInput(value)),\n    [dispatchTransaction]\n  );\n\n  return (\n    <>\n      <DebouncedTextField\n        label=\"Remark\"\n        variant=\"outlined\"\n        fullWidth\n        multiline\n        rows={4}\n        dispatchCallback={dispatchCallback}\n      />\n      <SubmitButton\n        label={` Send bridge remark from ${sourceChainDetails.chain} to ${targetChainDetails.chain}`}\n        onClick={sendLaneMessage}\n      />\n      <EstimatedFee />\n    </>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useSnackbar } from 'notistack';\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport { MessageActionsCreators } from '../actions/messageActions';\nimport { useMessageContext, useUpdateMessageContext } from '../contexts/MessageContext';\n\nconst CloseButton = styled.button`\n  display: inline-block;\n  color: white;\n  font-size: 1em;\n  background: transparent;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: none;\n  display: block;\n  outline: none;\n  font-weight: 600;\n`;\n\nexport default function SnackBar() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const { message, variant } = useMessageContext();\n  const { dispatchMessage } = useUpdateMessageContext();\n\n  useEffect(() => {\n    if (message && variant) {\n      enqueueSnackbar(message, {\n        action: <CloseButton onClick={() => closeSnackbar()}>CLOSE</CloseButton>,\n        anchorOrigin: { horizontal: 'right', vertical: 'top' },\n        variant\n      });\n      dispatchMessage(MessageActionsCreators.clearMessage());\n    }\n  }, [closeSnackbar, message, variant, enqueueSnackbar, dispatchMessage]);\n\n  return null;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { InputAdornment } from '@material-ui/core';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\ninterface Props {\n  position?: 'start' | 'end';\n}\n\nexport const TokenSymbol = ({ position = 'start' }: Props): React.ReactElement => {\n  const { targetChainDetails, sourceChainDetails } = useSourceTarget();\n  const { isBridged } = useGUIContext();\n\n  let chainTokens = targetChainDetails.apiConnection.api.registry.chainTokens;\n  if (!isBridged) {\n    chainTokens = sourceChainDetails.apiConnection.api.registry.chainTokens;\n  }\n\n  return <InputAdornment position={position}>{chainTokens}</InputAdornment>;\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\nimport { ApiPromise } from '@polkadot/api';\nimport { INCORRECT_FORMAT, GENERIC } from '../../constants';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport { getBridgeId } from '../../util/getConfigs';\nimport getDeriveAccount from '../../util/getDeriveAccount';\n\ntype State = {\n  address: string;\n  api: ApiPromise;\n};\n\nconst useApiBalance = (address: string | null, chain: string | undefined | null, isDerived: boolean): State => {\n  const {\n    sourceChainDetails: {\n      apiConnection: { api: sourceApi },\n      chain: sourceChain,\n      configs: sourceConfigs\n    },\n    targetChainDetails: {\n      apiConnection: { api: targetApi },\n      chain: targetChain,\n      configs: targetConfigs\n    }\n  } = useSourceTarget();\n\n  if (!chain || !address || chain === INCORRECT_FORMAT || chain === GENERIC) {\n    return { address: '', api: {} as ApiPromise };\n  }\n\n  const ss58Format = chain === targetChain ? targetConfigs.ss58Format : sourceConfigs.ss58Format;\n\n  const bridgeId = chain === targetChain ? getBridgeId(targetApi, sourceChain) : getBridgeId(sourceApi, targetChain);\n\n  const addressResult = !isDerived\n    ? address\n    : getDeriveAccount({\n        ss58Format,\n        address,\n        bridgeId\n      });\n\n  const processedApi = chain === targetChain ? targetApi : sourceApi;\n\n  return { address: addressResult, api: processedApi };\n};\n\nexport default useApiBalance;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Box, InputBase } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport useApiBalance from '../hooks/subscriptions/useApiBalance';\nimport useBalance from '../hooks/subscriptions/useBalance';\nimport useReceiver from '../hooks/transactions/useReceiver';\nimport AccountIdenticon from './AccountIdenticon';\nimport { SelectLabel } from '../components';\nimport Balance from './Balance';\n\nconst useStyles = makeStyles((theme) => ({\n  accountMain: {\n    padding: theme.spacing(1.25),\n    paddingTop: theme.spacing(0.5),\n    paddingRight: theme.spacing(3),\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1.5),\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    '& input': {\n      color: theme.palette.text.secondary\n    }\n  },\n  address: {\n    marginLeft: theme.spacing(),\n    marginRight: theme.spacing(),\n    width: '100%',\n    overflow: 'auto'\n  }\n}));\n\n// TODO: To refactor state management for this component #160\n\nfunction ReceiverInput() {\n  const classes = useStyles();\n  const { onReceiverChange } = useReceiver();\n  const { unformattedReceiverAddress, formatFound, showBalance, transactionToBeExecuted } = useTransactionContext();\n  const { api, address } = useApiBalance(unformattedReceiverAddress, formatFound, false);\n  const state = useBalance(api, address, true);\n\n  const addressInput = unformattedReceiverAddress || '';\n  return (\n    <div className={classes.accountMain}>\n      <SelectLabel>Receiver</SelectLabel>\n      <Box display=\"flex\" alignItems=\"center\">\n        <AccountIdenticon address={addressInput} formatFound={formatFound} />\n        <InputBase\n          id=\"test-receiver-input\"\n          className={classes.address}\n          fullWidth\n          onChange={onReceiverChange}\n          autoComplete=\"off\"\n          value={addressInput}\n          placeholder=\"Recipient address\"\n          disabled={transactionToBeExecuted}\n        />\n        {showBalance && state && <Balance balance={state.formattedBalance} id=\"test-receiver-balance\" />}\n      </Box>\n    </div>\n  );\n}\n\nexport default ReceiverInput;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { useGUIContext } from '../../contexts/GUIContextProvider';\n\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\n\nimport { useUpdateTransactionContext } from '../../contexts/TransactionContext';\n\nexport default function useReceiver() {\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { targetChainDetails, sourceChainDetails } = useSourceTarget();\n  const { isBridged } = useGUIContext();\n\n  const onReceiverChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const unformattedReceiverAddress = event.target.value;\n      dispatchTransaction(\n        TransactionActionCreators.setReceiver({\n          unformattedReceiverAddress,\n          sourceChainDetails,\n          targetChainDetails,\n          isBridged\n        })\n      );\n    },\n    [dispatchTransaction, isBridged, sourceChainDetails, targetChainDetails]\n  );\n\n  return { onReceiverChange };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\n\nimport useApiBalance from '../hooks/subscriptions/useApiBalance';\nimport useBalance from '../hooks/subscriptions/useBalance';\nimport AccountDisplay, { Props as AccountDisplayProps } from './AccountDisplay';\nimport { AddressKind } from '../types/accountTypes';\ninterface Props extends AccountDisplayProps {\n  chain?: string | undefined;\n  value: string;\n}\n\nconst Account = ({ value, chain, hideAddress = false, isDerived = false, id, ...props }: Props) => {\n  const { api, address } = useApiBalance(value, chain, isDerived);\n\n  const state = useBalance(api, address, true);\n\n  return (\n    <>\n      <AccountDisplay\n        address={address}\n        balance={`${state.formattedBalance} ${state.formattedBalance === '0' ? state.chainTokens : ''}`}\n        addressKind={isDerived ? AddressKind.COMPANION : undefined}\n        hideAddress={hideAddress}\n        id={id ? id : undefined}\n        {...props}\n      />\n    </>\n  );\n};\n\nexport default Account;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountDisplay from './AccountDisplay';\nimport { useGenericAccount } from '../hooks/accounts/useGenericAccount';\nimport { AddressKind } from '../types/accountTypes';\nimport { Paper } from '@material-ui/core';\nimport { styleAccountCompanion } from '.';\n\ninterface Props {\n  value: string;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  accountCompanion: {\n    ...styleAccountCompanion(theme),\n    borderRadius: 0,\n    '&:last-child': {\n      borderTopLeftRadius: 0,\n      borderTopRightRadius: 0,\n      borderRadius: theme.spacing(1.5)\n    }\n  },\n  selectAccountCompanionItem: {\n    '&:hover': {\n      cursor: 'pointer',\n      backgroundColor: theme.palette.secondary.light\n    }\n  }\n}));\n\nconst GenericAccount = ({ value }: Props) => {\n  const classes = useStyles();\n  const {\n    selected,\n    shortGenericAddress,\n    companionAddress,\n    setNativeAsTarget,\n    setCompanionAsTarget,\n    nativeAddress,\n    nativeState,\n    companionState\n  } = useGenericAccount(value);\n\n  return (\n    <Paper elevation={!selected ? 23 : 0}>\n      {(!selected || selected === AddressKind.NATIVE) && (\n        <AccountDisplay\n          className={`${classes.accountCompanion} ${classes.selectAccountCompanionItem}`}\n          onClick={setNativeAsTarget}\n          address={nativeAddress}\n          addressKind={AddressKind.NATIVE}\n          balance={nativeState.formattedBalance}\n          friendlyName={shortGenericAddress}\n          id={`test-${AddressKind.NATIVE}-input`.toLowerCase()}\n          hideAddress\n          withTooltip\n        />\n      )}\n      {(!selected || selected === AddressKind.COMPANION) && (\n        <AccountDisplay\n          className={`${classes.accountCompanion} ${classes.selectAccountCompanionItem}`}\n          onClick={setCompanionAsTarget}\n          address={companionAddress}\n          addressKind={AddressKind.COMPANION}\n          balance={companionState.formattedBalance}\n          friendlyName={shortGenericAddress}\n          id={`test-${AddressKind.COMPANION}-input`.toLowerCase()}\n          hideAddress\n          withTooltip\n        />\n      )}\n    </Paper>\n  );\n};\n\nexport default GenericAccount;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useState, useCallback } from 'react';\nimport { encodeAddress } from '@polkadot/util-crypto';\nimport { useUpdateTransactionContext } from '../../contexts/TransactionContext';\nimport { TransactionActionCreators } from '../../actions/transactionActions';\nimport { useSourceTarget } from '../../contexts/SourceTargetContextProvider';\nimport useBalance from '../subscriptions/useBalance';\nimport getDeriveAccount from '../../util/getDeriveAccount';\nimport shorterItem from '../../util/shortenItem';\nimport { getBridgeId } from '../../util/getConfigs';\nimport { AddressKind } from '../../types/accountTypes';\n\nexport const useGenericAccount = (value: string) => {\n  const [selected, setSelected] = useState('');\n\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const {\n    sourceChainDetails: { chain: sourceChain },\n    targetChainDetails: {\n      configs: targetConfigs,\n      apiConnection: { api: targetApi }\n    }\n  } = useSourceTarget();\n\n  const nativeAddress = encodeAddress(value, targetConfigs.ss58Format);\n  const nativeState = useBalance(targetApi, nativeAddress, true);\n\n  const companionAddress = getDeriveAccount({\n    ss58Format: targetConfigs.ss58Format,\n    address: value,\n    bridgeId: getBridgeId(targetApi, sourceChain)\n  });\n  const companionState = useBalance(targetApi, companionAddress, true);\n\n  const looseHelperAccount = useCallback(() => {\n    setSelected('');\n    dispatchTransaction(TransactionActionCreators.setReceiverAddress(null));\n  }, [dispatchTransaction]);\n\n  const setNativeAsTargetOrClear = useCallback(\n    (address: string, addressKind: AddressKind) => {\n      if (selected) {\n        looseHelperAccount();\n        return;\n      }\n      setSelected(addressKind);\n      dispatchTransaction(TransactionActionCreators.setReceiverAddress(address));\n    },\n    [dispatchTransaction, looseHelperAccount, selected]\n  );\n\n  const setNativeAsTarget = useCallback(() => setNativeAsTargetOrClear(nativeAddress, AddressKind.NATIVE), [\n    nativeAddress,\n    setNativeAsTargetOrClear\n  ]);\n  const setCompanionAsTarget = useCallback(() => setNativeAsTargetOrClear(companionAddress, AddressKind.COMPANION), [\n    companionAddress,\n    setNativeAsTargetOrClear\n  ]);\n\n  const shortGenericAddress = shorterItem(value);\n\n  return {\n    selected,\n    shortGenericAddress,\n    setNativeAsTarget,\n    setCompanionAsTarget,\n    nativeAddress,\n    nativeState,\n    companionAddress,\n    companionState\n  };\n};\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport Account from './Account';\nimport AccountDisplay from './AccountDisplay';\nimport { AddressKind } from '../types/accountTypes';\nimport GenericAccount from './GenericAccount';\nimport shortenItem from '../util/shortenItem';\nimport BridgedLocalWrapper from './BridgedLocalWrapper';\nimport { styleAccountCompanion } from './Inputs';\n\nconst useStyles = makeStyles((theme) => ({\n  accountCompanion: {\n    ...styleAccountCompanion(theme)\n  }\n}));\n\nconst ReceiverDerivedAccount = () => {\n  const classes = useStyles();\n  const {\n    genericReceiverAccount,\n    derivedReceiverAccount,\n    receiverAddress,\n    unformattedReceiverAddress\n  } = useTransactionContext();\n\n  const {\n    targetChainDetails: { chain: targetChain }\n  } = useSourceTarget();\n\n  if (genericReceiverAccount) {\n    return <GenericAccount value={genericReceiverAccount} />;\n  }\n\n  if (derivedReceiverAccount) {\n    const shortUnformattedReceiver = shortenItem(unformattedReceiverAddress || '');\n    return (\n      <BridgedLocalWrapper>\n        <div className={classes.accountCompanion}>\n          <Account\n            friendlyName={shortUnformattedReceiver}\n            value={receiverAddress!}\n            chain={targetChain}\n            id={`test-${AddressKind.COMPANION}-input`.toLowerCase()}\n            isDerived\n            hideAddress\n            withTooltip\n          />\n        </div>\n      </BridgedLocalWrapper>\n    );\n  }\n\n  if (!receiverAddress) {\n    return (\n      <BridgedLocalWrapper>\n        <div className={classes.accountCompanion}>\n          <AccountDisplay />\n        </div>\n      </BridgedLocalWrapper>\n    );\n  }\n\n  return (\n    <BridgedLocalWrapper>\n      <div className={classes.accountCompanion}>\n        <AccountDisplay\n          address={receiverAddress!}\n          addressKind={AddressKind.NATIVE}\n          id={`test-${AddressKind.NATIVE}-input`.toLowerCase()}\n          withTooltip\n        />\n      </div>\n    </BridgedLocalWrapper>\n  );\n};\n\nexport default ReceiverDerivedAccount;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport BridgedLocalWrapper from './BridgedLocalWrapper';\nimport AccountDisplay from './AccountDisplay';\nimport { styleAccountCompanion } from '.';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { AddressKind } from '../types/accountTypes';\n\nconst useStyles = makeStyles((theme) => ({\n  accountCompanion: {\n    ...styleAccountCompanion(theme)\n  }\n}));\n\nexport default function InternalReceiver() {\n  const { addressValidationError, receiverAddress } = useTransactionContext();\n  const classes = useStyles();\n  return (\n    <BridgedLocalWrapper showInternal>\n      <div className={classes.accountCompanion}>\n        {receiverAddress && !addressValidationError ? (\n          <AccountDisplay\n            address={receiverAddress}\n            addressKind={AddressKind.NATIVE}\n            id={`test-${AddressKind.NATIVE}-input`.toLowerCase()}\n            withTooltip\n          />\n        ) : (\n          <AccountDisplay />\n        )}\n      </div>\n    </BridgedLocalWrapper>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport ReceiverInput from './ReceiverInput';\nimport ReceiverDerivedAccount from './ReceiverDerivedAccount';\nimport InternalTransfer from './InternalReceiver';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { Typography } from '@material-ui/core';\n\nconst Receiver = () => {\n  const { addressValidationError } = useTransactionContext();\n\n  return (\n    <>\n      <ReceiverInput />\n      <ReceiverDerivedAccount />\n      <InternalTransfer />\n      <Typography variant=\"body2\" color=\"error\">\n        {addressValidationError}\n      </Typography>\n    </>\n  );\n};\n\nexport default Receiver;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\nimport { Typography, Select, MenuItem, makeStyles } from '@material-ui/core';\nimport ChainLogo from './ChainLogo';\nimport { PayFee } from '../types/transactionTypes';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useTransactionContext, useUpdateTransactionContext } from '../contexts/TransactionContext';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    minHeight: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  item: {\n    marginLeft: theme.spacing(0.8)\n  }\n}));\n\nexport default function FeePaySelector() {\n  const classes = useStyles();\n  const sourceTargetDetails = useSourceTarget();\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { payFee } = useTransactionContext();\n  const { isBridged } = useGUIContext();\n\n  const {\n    sourceChainDetails: { chain: sourceChain },\n    targetChainDetails: { chain: targetChain }\n  } = sourceTargetDetails;\n\n  const onChange = useCallback(\n    (event) => {\n      dispatchTransaction(TransactionActionCreators.changeDispatchFeePayChain(event.target.value));\n    },\n    [dispatchTransaction]\n  );\n\n  const chain = payFee === PayFee.AtSourceChain ? sourceChain : targetChain;\n\n  if (!isBridged) {\n    return null;\n  }\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"body1\" color=\"secondary\">\n        Dispatch fee payed on\n      </Typography>\n      <div className={classes.item}>\n        <ChainLogo chain={chain} />\n      </div>\n\n      <div className={classes.item}>\n        <Select\n          onChange={onChange}\n          value={payFee}\n          disableUnderline\n          renderValue={(): React.ReactNode => (\n            <Typography variant=\"body1\" color=\"secondary\" className={classes.item}>\n              {chain}\n            </Typography>\n          )}\n        >\n          <MenuItem value={PayFee.AtSourceChain}>Source Chain </MenuItem>\n          <MenuItem value={PayFee.AtTargetChain}>Target Chain </MenuItem>\n        </Select>\n      </div>\n    </div>\n  );\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useCallback } from 'react';\nimport { Box, makeStyles } from '@material-ui/core';\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport { useUpdateTransactionContext } from '../contexts/TransactionContext';\nimport useSendMessage from '../hooks/chain/useSendMessage';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { TokenSymbol } from './TokenSymbol';\nimport Receiver from './Receiver';\nimport { EstimatedFee } from '../components/EstimatedFee';\nimport { DebouncedTextField } from './DebouncedTextField';\nimport { useInternalTransfer } from '../hooks/chain/useInternalTransfer';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\nimport FeePaySelector from './FeePaySelector';\nimport SubmitButton from './SubmitButton';\n\nconst useStyles = makeStyles((theme) => ({\n  inputAmount: {\n    '& .MuiInputBase-root': {\n      '& .MuiInputAdornment-root': {\n        position: 'absolute',\n        right: theme.spacing(2),\n        ...theme.typography.subtitle2\n      },\n      '& input': {\n        textAlign: 'center',\n        ...theme.typography.subtitle2,\n        fontSize: theme.typography.h1.fontSize,\n        color: theme.palette.primary.main\n      }\n    },\n    minHeight: '95px'\n  }\n}));\n\nfunction Transfer() {\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const classes = useStyles();\n  const { sourceChainDetails, targetChainDetails } = useSourceTarget();\n  const { isBridged } = useGUIContext();\n  const { transferAmount, transferAmountError, transactionRunning, transactionToBeExecuted } = useTransactionContext();\n  const { api } = sourceChainDetails.apiConnection;\n  const executeInternalTransfer = useInternalTransfer();\n\n  const dispatchCallback = useCallback(\n    (value: string | null) => {\n      dispatchTransaction(\n        TransactionActionCreators.setTransferAmount(\n          value !== null ? value?.toString() : '',\n          api.registry.chainDecimals[0]\n        )\n      );\n    },\n    [api.registry.chainDecimals, dispatchTransaction]\n  );\n\n  const sendLaneMessage = useSendMessage({\n    input: transferAmount?.toString() ?? '',\n    type: TransactionTypes.TRANSFER\n  });\n\n  const sendTransaction = useCallback(() => {\n    if (!isBridged) {\n      executeInternalTransfer();\n      return;\n    }\n    sendLaneMessage();\n  }, [executeInternalTransfer, isBridged, sendLaneMessage]);\n\n  useEffect((): void => {\n    transactionRunning && transferAmount && dispatchCallback('');\n  }, [dispatchCallback, transactionRunning, transferAmount]);\n\n  const buttonLabel = isBridged\n    ? `Send bridge transfer from ${sourceChainDetails.chain} to ${targetChainDetails.chain}`\n    : `Send internal transfer to ${sourceChainDetails.chain}`;\n\n  return (\n    <>\n      <Box mb={2}>\n        <DebouncedTextField\n          id=\"test-amount-send\"\n          dispatchCallback={dispatchCallback}\n          placeholder={'0'}\n          classes={classes.inputAmount}\n          fullWidth\n          variant=\"outlined\"\n          helperText={transferAmountError || ''}\n          InputProps={{\n            endAdornment: <TokenSymbol position=\"start\" />\n          }}\n          disabled={transactionToBeExecuted}\n        />\n      </Box>\n      <Receiver />\n      <SubmitButton label={buttonLabel} onClick={sendTransaction} />\n      <FeePaySelector />\n      <EstimatedFee />\n    </>\n  );\n}\n\nexport default Transfer;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useCallback } from 'react';\nimport { useAccountContext } from '../../contexts/AccountContextProvider';\nimport { useUpdateMessageContext } from '../../contexts/MessageContext';\nimport { useTransactionContext, useUpdateTransactionContext } from '../../contexts/TransactionContext';\nimport useApiCalls from '../api/useApiCalls';\n\nexport function useInternalTransfer() {\n  const { receiverAddress, transferAmount } = useTransactionContext();\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { dispatchMessage } = useUpdateMessageContext();\n  const { account } = useAccountContext();\n  const { internalTransfer } = useApiCalls();\n\n  const executeInternalTransfer = useCallback(() => {\n    const dispatchers = { dispatchTransaction, dispatchMessage };\n    const transferData = {\n      transferAmount,\n      receiverAddress,\n      account\n    };\n    internalTransfer(dispatchers, transferData);\n  }, [account, dispatchMessage, dispatchTransaction, internalTransfer, receiverAddress, transferAmount]);\n\n  return executeInternalTransfer;\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback } from 'react';\nimport { Card, makeStyles, CircularProgress, Typography } from '@material-ui/core';\nimport ReactJson from 'react-json-view';\n\nimport { MessageActionsCreators } from '../actions/messageActions';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { DisplayPayload, SwitchTabEnum } from '../types/transactionTypes';\nimport { useUpdateMessageContext } from '../contexts/MessageContext';\n\nexport interface TransactionDisplayProps {\n  size?: 'sm';\n}\n\ninterface Props {\n  transactionDisplayProps?: TransactionDisplayProps;\n  tab: SwitchTabEnum;\n  payloadHex: string | null;\n  transactionDisplayPayload: DisplayPayload | null;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    '& p': {\n      ...theme.typography.body2\n    },\n    '& svg': {\n      marginBottom: '-0.2em',\n      fontSize: '1.2em',\n      marginRight: theme.spacing()\n    },\n    '& .header': {\n      fontWeight: 500\n    },\n    '&.MuiPaper-root': {\n      maxWidth: '100%',\n      padding: theme.spacing(2),\n      borderRadius: theme.spacing(1.5)\n    },\n    wordBreak: 'break-word'\n  },\n  loader: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n}));\n\nconst TransactionPayload = ({ tab, payloadHex, transactionDisplayPayload }: Props) => {\n  const classes = useStyles();\n  const { payloadEstimatedFeeLoading } = useTransactionContext();\n  const { dispatchMessage } = useUpdateMessageContext();\n\n  const onCopy = useCallback(() => {\n    navigator.clipboard.writeText(JSON.stringify(transactionDisplayPayload));\n    dispatchMessage(\n      MessageActionsCreators.triggerSuccessMessage({\n        message: 'Payload copied'\n      })\n    );\n  }, [dispatchMessage, transactionDisplayPayload]);\n\n  if (tab === SwitchTabEnum.RECEIPT) {\n    return null;\n  }\n\n  return (\n    <Card elevation={23} className={classes.card}>\n      {payloadEstimatedFeeLoading && (\n        <div className={classes.loader}>\n          <CircularProgress />\n        </div>\n      )}\n      {!payloadEstimatedFeeLoading && tab === SwitchTabEnum.PAYLOAD && (\n        <Typography variant=\"subtitle2\">{payloadHex}</Typography>\n      )}\n      {!payloadEstimatedFeeLoading && tab === SwitchTabEnum.DECODED && transactionDisplayPayload && (\n        <div onClick={onCopy}>\n          <Typography variant=\"subtitle2\">\n            <ReactJson\n              src={transactionDisplayPayload}\n              enableClipboard={false}\n              name={false}\n              style={{ cursor: 'copy' }}\n            />\n          </Typography>\n        </div>\n      )}\n    </Card>\n  );\n};\n\nexport default TransactionPayload;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport { ButtonSwitchMode } from './Buttons';\nimport TransactionPayload from './TransactionPayload';\nimport { DisplayPayload } from '../types/transactionTypes';\nimport { SwitchTabEnum } from '../types/transactionTypes';\nimport { useCallback } from 'react';\n\nexport interface TransactionDisplayProps {\n  size?: 'sm';\n}\ninterface Props {\n  transactionDisplayProps?: TransactionDisplayProps;\n  children: JSX.Element | JSX.Element[];\n  payloadHex: string | null;\n  transactionDisplayPayload: DisplayPayload | null;\n}\n\nconst TransactionSwitchTab = ({ transactionDisplayProps, children, payloadHex, transactionDisplayPayload }: Props) => {\n  const [tab, setTab] = useState(SwitchTabEnum.RECEIPT);\n\n  const getColorByState = (value: string) => (value === tab ? 'primary' : 'secondary');\n\n  const setTabCallback = useCallback((value: SwitchTabEnum) => () => setTab(value), []);\n\n  return (\n    <>\n      <Box mt={2}>\n        <ButtonSwitchMode\n          color={getColorByState(SwitchTabEnum.PAYLOAD)}\n          onClick={setTabCallback(SwitchTabEnum.PAYLOAD)}\n        >\n          Payload\n        </ButtonSwitchMode>\n        <ButtonSwitchMode\n          color={getColorByState(SwitchTabEnum.RECEIPT)}\n          onClick={setTabCallback(SwitchTabEnum.RECEIPT)}\n        >\n          Receipt\n        </ButtonSwitchMode>\n        <ButtonSwitchMode\n          color={getColorByState(SwitchTabEnum.DECODED)}\n          onClick={setTabCallback(SwitchTabEnum.DECODED)}\n        >\n          Decoded\n        </ButtonSwitchMode>\n      </Box>\n      {tab === SwitchTabEnum.RECEIPT && children}\n      <TransactionPayload\n        tab={tab}\n        transactionDisplayProps={transactionDisplayProps}\n        payloadHex={payloadHex}\n        transactionDisplayPayload={transactionDisplayPayload}\n      />\n    </>\n  );\n};\n\nexport default TransactionSwitchTab;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\n\nimport { Box, makeStyles, Typography } from '@material-ui/core';\nimport { IconTxStatus } from './Icons';\nimport { Step } from '../types/transactionTypes';\nimport { Web3Icon } from './Web3Icon';\n\ninterface Props {\n  steps: Step[];\n}\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    '& p': {\n      ...theme.typography.body2\n    },\n    '& svg': {\n      marginBottom: '-0.2em',\n      fontSize: '1.2em',\n      marginRight: theme.spacing()\n    },\n    '& .header': {\n      fontWeight: 500\n    },\n    padding: theme.spacing(1)\n  }\n}));\n\nconst TransactionReceipt = ({ steps }: Props) => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.card}>\n      {steps.map(({ chainType, label, labelOnChain, status, id }) => (\n        <p key={id} id={id}>\n          <IconTxStatus status={status} /> <Web3Icon>{chainType}</Web3Icon> {chainType}: {label}&nbsp;\n          {labelOnChain && (\n            <Box pt={0.25} pb={0.25} pl={0.5} pr={0.5} component=\"span\" border={1} borderRadius={6}>\n              <Typography component=\"span\" variant=\"subtitle2\">\n                {labelOnChain}\n              </Typography>\n            </Box>\n          )}\n        </p>\n      ))}\n    </Box>\n  );\n};\n\nexport default TransactionReceipt;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\n\nimport { Box, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { IconTxStatus } from './Icons';\nimport { TransactionStatusEnum, TransactionTypes } from '../types/transactionTypes';\n\ninterface Props {\n  status: TransactionStatusEnum;\n  type?: string;\n  sourceChain: string;\n  targetChain: string;\n  transferAmount?: string | null | undefined;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  amount: {\n    marginLeft: 'auto',\n    color: theme.palette.primary.main,\n    fontWeight: 500\n  },\n  header: {\n    marginLeft: 5\n  }\n}));\n\nconst getType = (type: string | undefined) => {\n  if (!type) {\n    return type;\n  }\n  return type.replace('_', ' ');\n};\n\nconst TransactionHeader = ({ type, status, sourceChain, targetChain, transferAmount }: Props) => {\n  const classes = useStyles();\n  let header = ` ${sourceChain} -> ${targetChain}`;\n  if (type === TransactionTypes.INTERNAL_TRANSFER) {\n    header = sourceChain;\n  }\n\n  return (\n    <Box\n      className=\"header\"\n      component=\"div\"\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      id=\"test-transaction-header\"\n    >\n      <IconTxStatus status={status} />\n      <Typography className={classes.header}>\n        {getType(type)} {header}\n      </Typography>\n      <Typography className={classes.amount}>{transferAmount}</Typography>\n    </Box>\n  );\n};\n\nexport default TransactionHeader;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport cx from 'classnames';\nimport { Box, makeStyles } from '@material-ui/core';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport AccountDisplay from './AccountDisplay';\nimport { AddressKind } from '../types/accountTypes';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { styleAccountCompanion } from '.';\n\ninterface Props {\n  sourceAccount: string | undefined;\n  senderCompanionAccount: string | undefined;\n  senderName?: string | null;\n  receiverAddress?: string | undefined;\n  type: TransactionTypes;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  accountMain: {\n    padding: theme.spacing(1.25),\n    paddingTop: theme.spacing(0.8),\n    paddingRight: theme.spacing(0),\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1.5)\n  },\n  withoutBottomBorderRadius: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  sender: {\n    padding: theme.spacing(1.25),\n    paddingTop: theme.spacing(0.9),\n    paddingRight: theme.spacing(0),\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1.5)\n  },\n  accountCompanion: {\n    ...styleAccountCompanion(theme)\n  },\n  paper: {\n    minWidth: theme.spacing(60),\n    maxHeight: theme.spacing(50)\n  },\n  senderActions: {\n    borderBottom: `1px solid ${theme.palette.divider}`\n  },\n  icon: {\n    marginLeft: 'auto'\n  },\n  account: {\n    width: '100%'\n  }\n}));\n\nconst TransactionAccounts = ({ sourceAccount, senderName, senderCompanionAccount, receiverAddress, type }: Props) => {\n  const classes = useStyles();\n  const isInternal = type === TransactionTypes.INTERNAL_TRANSFER;\n  const isTransfer = isInternal || type === TransactionTypes.TRANSFER;\n  return (\n    <Box className=\"header\" component=\"p\" id=\"test-transaction-header\">\n      <Box\n        className={cx(classes.accountMain, !isInternal ? classes.withoutBottomBorderRadius : '')}\n        id=\"test-sender-component\"\n      >\n        <AccountDisplay address={sourceAccount} friendlyName={senderName} />\n      </Box>\n      {!isInternal && (\n        <Box className={classes.accountCompanion}>\n          <AccountDisplay\n            address={senderCompanionAccount}\n            addressKind={AddressKind.COMPANION}\n            hideAddress\n            friendlyName={senderName}\n            withTooltip\n          />\n        </Box>\n      )}\n      {isTransfer && (\n        <>\n          <Box marginY={2} textAlign=\"center\" width=\"100%\">\n            <ArrowDownwardIcon fontSize=\"large\" color=\"primary\" />\n          </Box>\n          <Box className={classes.sender}>\n            <AccountDisplay address={receiverAddress} />\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default TransactionAccounts;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport cx from 'classnames';\nimport { Accordion, AccordionSummary, AccordionDetails, Box } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { TransactionStatusType, TransactionStatusEnum } from '../types/transactionTypes';\nimport TransactionSwitchTab from './TransactionSwitchTab';\nimport TransactionReceipt from './TransactionReceipt';\nimport TransactionHeader from './TransactionHeader';\nimport TransactionAccounts from './TransactionAccounts';\n\nexport interface TransactionDisplayProps {\n  size?: 'sm';\n}\ninterface Props {\n  transaction: TransactionStatusType;\n  transactionDisplayProps?: TransactionDisplayProps;\n  expanded: boolean;\n  selected?: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    minWidth: '100%'\n  },\n  selectedBorder: {\n    border: '1px solid',\n    borderColor: theme.palette.primary.main\n  },\n  accordion: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nconst TransactionContainer = ({ transaction, expanded, selected = false }: Props) => {\n  const classes = useStyles();\n  const {\n    payloadHex,\n    transactionDisplayPayload,\n    sourceChain,\n    targetChain,\n    sourceAccount,\n    companionAccount,\n    senderName,\n    transferAmount,\n    type,\n    status,\n    steps,\n    receiverAddress\n  } = transaction;\n  const [accordionExpanded, setAccordionExpanded] = useState(expanded);\n\n  const onChange = useCallback(() => setAccordionExpanded(!accordionExpanded), [accordionExpanded]);\n\n  useEffect(() => {\n    if (status === TransactionStatusEnum.COMPLETED) {\n      setAccordionExpanded(false);\n    }\n  }, [status]);\n\n  return (\n    <Accordion\n      expanded={accordionExpanded}\n      onChange={onChange}\n      className={cx(classes.accordion, selected ? classes.selectedBorder : '')}\n    >\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <div className={classes.header}>\n          <TransactionHeader\n            type={type}\n            status={status}\n            sourceChain={sourceChain}\n            targetChain={targetChain}\n            transferAmount={transferAmount}\n          />\n        </div>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Box component=\"div\" width=\"100%\">\n          <TransactionAccounts\n            senderName={senderName}\n            sourceAccount={sourceAccount ? sourceAccount : undefined}\n            senderCompanionAccount={companionAccount ? companionAccount : undefined}\n            receiverAddress={receiverAddress ? receiverAddress : undefined}\n            type={type}\n          />\n\n          <TransactionSwitchTab payloadHex={payloadHex} transactionDisplayPayload={transactionDisplayPayload}>\n            <TransactionReceipt steps={steps} />\n          </TransactionSwitchTab>\n        </Box>\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport default TransactionContainer;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from 'react';\n\nimport { useSourceTarget } from '../contexts/SourceTargetContextProvider';\nimport { Step, TransactionStatusEnum } from '../types/transactionTypes';\n\nimport { createEmptyInternalSteps, createEmptySteps, getFormattedAmount } from '../util/transactions/';\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\nimport { useAccountContext } from '../contexts/AccountContextProvider';\nimport { getName } from '../util/accounts';\nimport TransactionContainer from './TransactionContainer';\nimport { TransactionTypes } from '../types/transactionTypes';\n\ninterface Props {\n  type: TransactionTypes;\n}\n\nconst TransactionStatusMock = ({ type }: Props) => {\n  const [steps, setSteps] = useState<Array<Step>>([]);\n  const { isBridged } = useGUIContext();\n  const {\n    sourceChainDetails: { chain: sourceChain },\n    targetChainDetails: {\n      chain: targetChain,\n      apiConnection: { api: targetApi }\n    }\n  } = useSourceTarget();\n\n  const { account, companionAccount } = useAccountContext();\n\n  const {\n    payloadHex,\n    transactionDisplayPayload,\n    transferAmount,\n    action,\n    receiverAddress,\n    transactionToBeExecuted\n  } = useTransactionContext();\n\n  useEffect(() => {\n    if (isBridged) {\n      setSteps(createEmptySteps(sourceChain, targetChain));\n    } else {\n      setSteps(createEmptyInternalSteps(sourceChain));\n    }\n  }, [isBridged, sourceChain, targetChain]);\n\n  return (\n    <TransactionContainer\n      transaction={{\n        payloadHex,\n        transactionDisplayPayload,\n        status: TransactionStatusEnum.NOT_STARTED,\n        sourceChain,\n        targetChain,\n        sourceAccount: account && account.address,\n        senderCompanionAccount: companionAccount,\n        senderName: account && getName(account),\n        transferAmount: getFormattedAmount(targetApi, transferAmount, action),\n        type,\n        steps,\n        receiverAddress,\n        deliveryBlock: null\n      }}\n      expanded\n      selected={transactionToBeExecuted}\n    />\n  );\n};\n\nexport default TransactionStatusMock;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\n\nimport { useTransactionContext } from '../contexts/TransactionContext';\nimport TransactionStatusMock from './TransactionStatusMock';\nimport { TransactionStatusType, TransactionTypes, TransactionStatusEnum } from '../types/transactionTypes';\nimport TransactionContainer, { TransactionDisplayProps } from './TransactionContainer';\nimport { Typography } from '@material-ui/core';\n\ninterface Props extends TransactionDisplayProps {\n  type: TransactionTypes;\n}\n\nconst onGoing = (status: TransactionStatusEnum) =>\n  status === TransactionStatusEnum.IN_PROGRESS || status === TransactionStatusEnum.CREATED;\nconst completed = (status: TransactionStatusEnum) =>\n  status === TransactionStatusEnum.COMPLETED ||\n  status === TransactionStatusEnum.FAILED ||\n  status === TransactionStatusEnum.FINALIZED;\n\nconst Label = ({ label }: { label: string }) => (\n  <div style={{ margin: '20px 0' }}>\n    <Typography style={{ fontWeight: 600 }}>{label}</Typography>\n  </div>\n);\n\nconst Transactions = ({ type, ...transactionDisplayProps }: Props) => {\n  const { transactions } = useTransactionContext();\n\n  const onGoingTransactions = transactions.filter((transaction) => onGoing(transaction.status));\n\n  const completedTransactions = transactions.filter((transaction) => completed(transaction.status));\n\n  return (\n    <>\n      <TransactionStatusMock type={type} />\n      {Boolean(onGoingTransactions.length) && <Label label=\"Ongoing Transactions\" />}\n      {Boolean(onGoingTransactions.length) &&\n        onGoingTransactions.map((transaction: TransactionStatusType) => {\n          return (\n            <TransactionContainer\n              key={transaction.id}\n              transaction={transaction}\n              transactionDisplayProps={{ ...transactionDisplayProps }}\n              expanded\n            />\n          );\n        })}\n      {Boolean(completedTransactions.length) && <Label label=\"Past Transactions\" />}\n      {Boolean(completedTransactions.length) &&\n        completedTransactions.map((transaction: TransactionStatusType) => {\n          return (\n            <TransactionContainer\n              key={transaction.id}\n              transaction={transaction}\n              transactionDisplayProps={{ ...transactionDisplayProps }}\n              expanded={false}\n            />\n          );\n        })}\n    </>\n  );\n};\n\nexport default Transactions;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Box, Typography, Grid, Container, Paper } from '@material-ui/core';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { makeStyles } from '@material-ui/core/styles';\nimport isNull from 'lodash/isNull';\nimport { BoxSidebar, ButtonExt, MenuAction, NetworkSides, NetworkStats } from '../components';\nimport CustomCall from '../components/CustomCall';\nimport Sender from '../components/Sender';\nimport ExtensionAccountCheck from '../components/ExtensionAccountCheck';\nimport Remark from '../components/Remark';\nimport SnackBar from '../components/SnackBar';\nimport Transfer from '../components/Transfer';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\n\nimport Transactions from '../components/Transactions';\nimport { useGUIContext } from '../contexts/GUIContextProvider';\nimport { TransactionTypes } from '../types/transactionTypes';\nimport { TransactionActionCreators } from '../actions/transactionActions';\nimport BridgedLocalWrapper from '../components/BridgedLocalWrapper';\nimport { useCallback } from 'react';\nimport { useTransactionContext, useUpdateTransactionContext } from '../contexts/TransactionContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginLeft: 'auto',\n    maxHeight: '25px'\n  },\n  ui: {\n    minWidth: '100%',\n    marginTop: 50,\n    padding: theme.spacing(3),\n\n    marginLeft: 240,\n    display: 'flex',\n    justifyContent: 'center',\n    '& .MuiPaper-root, .MuiOutlinedInput-notchedOutline': {\n      borderRadius: theme.spacing(1.5)\n    },\n    '& > .MuiPaper-root': {\n      width: 480,\n      maxWidth: '100%',\n      padding: theme.spacing(2)\n    }\n  },\n  transactions: {\n    marginLeft: 100,\n    minWidth: 400,\n    maxWidth: 400\n  },\n  transactionFormHeight: {\n    minHeight: 670,\n    maxHeight: 670\n  },\n  formHeight: {\n    minHeight: 500,\n    maxHeight: 550\n  },\n  transactionSubmited: {\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n}));\n\nconst ActionComponents = {\n  [TransactionTypes.TRANSFER]: <Transfer />,\n  [TransactionTypes.INTERNAL_TRANSFER]: <Transfer />,\n  [TransactionTypes.REMARK]: <Remark />,\n  [TransactionTypes.CUSTOM]: <CustomCall />\n};\n\nfunction Main() {\n  const classes = useStyles();\n  const { actions, action, setAction, isBridged, setBridged } = useGUIContext();\n  const { dispatchTransaction } = useUpdateTransactionContext();\n  const { transactionRunning, action: transactionContextAction } = useTransactionContext();\n\n  const handleOnSwitch = useCallback(\n    (event: React.MouseEvent<HTMLElement>, isBridged: boolean) => {\n      if (!isNull(isBridged)) {\n        setBridged(isBridged);\n        dispatchTransaction(\n          TransactionActionCreators.setTransferType(\n            isBridged ? TransactionTypes.TRANSFER : TransactionTypes.INTERNAL_TRANSFER\n          )\n        );\n      }\n    },\n    [dispatchTransaction, setBridged]\n  );\n\n  const form = action === TransactionTypes.TRANSFER ? classes.transactionFormHeight : classes.formHeight;\n\n  return (\n    <>\n      <BoxSidebar>\n        <div>\n          <Typography variant=\"button\" color=\"secondary\">\n            Bridges UI\n          </Typography>\n          <NetworkSides />\n          <BridgedLocalWrapper blurred>\n            <NetworkStats />\n          </BridgedLocalWrapper>\n        </div>\n        <ButtonExt> Help & Feedback </ButtonExt>\n      </BoxSidebar>\n\n      <Container className={classes.ui}>\n        {!transactionRunning ? (\n          <Paper elevation={24} className={form}>\n            <Grid item spacing={6}>\n              <Box component=\"div\" display=\"flex\" marginY={2} textAlign=\"left\" width=\"100%\">\n                <MenuAction actions={actions} action={action} changeMenu={setAction} />\n                {action === TransactionTypes.TRANSFER && (\n                  <ToggleButtonGroup\n                    size=\"small\"\n                    value={isBridged}\n                    exclusive\n                    onChange={handleOnSwitch}\n                    classes={{ root: classes.root }}\n                  >\n                    <ToggleButton value={false}>Internal</ToggleButton>\n                    <ToggleButton value={true}>Bridge</ToggleButton>\n                  </ToggleButtonGroup>\n                )}\n              </Box>\n              <ExtensionAccountCheck component={<Sender />} />\n              <Box marginY={2} textAlign=\"center\" width=\"100%\">\n                <ArrowDownwardIcon fontSize=\"large\" color=\"primary\" />\n              </Box>\n              <Box>\n                <>{ActionComponents[action]}</>\n              </Box>\n            </Grid>\n          </Paper>\n        ) : (\n          <Paper elevation={24} className={form}>\n            <Box className={classes.transactionSubmited}>\n              <Check style={{ fontSize: 150 }} color=\"primary\" />\n              <Typography color=\"primary\">Transaction Submited</Typography>\n            </Box>\n          </Paper>\n        )}\n        <Grid item spacing={6} className={classes.transactions}>\n          <Transactions type={transactionContextAction ? transactionContextAction : action} />\n        </Grid>\n      </Container>\n      <SnackBar />\n    </>\n  );\n}\n\nexport default Main;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react';\nimport { Backdrop, CircularProgress } from '@material-ui/core';\nimport { SnackbarProvider } from 'notistack';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { substrateProviders } from './configs';\nimport { AccountContextProvider } from './contexts/AccountContextProvider';\nimport { GUIContextProvider } from './contexts/GUIContextProvider';\nimport { KeyringContextProvider } from './contexts/KeyringContextProvider';\nimport { MessageContextProvider } from './contexts/MessageContext';\nimport { SourceTargetContextProvider } from './contexts/SourceTargetContextProvider';\nimport { TransactionContextProvider } from './contexts/TransactionContext';\nimport { SubscriptionsContextProvider } from './contexts/SubscriptionsContextProvider';\nimport { ApiCallsContextProvider } from './contexts/ApiCallsContextProvider';\nimport { useConnections } from './hooks/connections/useConnections';\nimport Main from './screens/Main';\nimport isEmpty from 'lodash/isEmpty';\n\nconst [connectionDetails1, connectionDetails2] = substrateProviders();\n\nfunction App() {\n  const { connections } = useConnections([connectionDetails1, connectionDetails2]);\n\n  if (isEmpty(connections)) {\n    return (\n      <Backdrop open>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    );\n  }\n\n  return (\n    <SourceTargetContextProvider connections={connections}>\n      <KeyringContextProvider>\n        <SubscriptionsContextProvider>\n          <GUIContextProvider>\n            <ApiCallsContextProvider>\n              <AccountContextProvider>\n                <MessageContextProvider>\n                  <SnackbarProvider>\n                    <TransactionContextProvider>\n                      <BrowserRouter>\n                        <Switch>\n                          <Route path={'/'}>\n                            <Main />\n                          </Route>\n                        </Switch>\n                      </BrowserRouter>\n                    </TransactionContextProvider>\n                  </SnackbarProvider>\n                </MessageContextProvider>\n              </AccountContextProvider>\n            </ApiCallsContextProvider>\n          </GUIContextProvider>\n        </SubscriptionsContextProvider>\n      </KeyringContextProvider>\n    </SourceTargetContextProvider>\n  );\n}\n\nexport default App;\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { useState, useEffect } from 'react';\nimport { useApiConnection } from './useApiConnection';\nimport isEmpty from 'lodash/isEmpty';\nimport { SourceTargetState, ChainDetails, ConnectionChainInformation } from '../../types/sourceTargetTypes';\nimport { Subscriptions } from '../../types/subscriptionsTypes';\n\nexport function useConnections(chainsConnections: ConnectionChainInformation[]) {\n  const [connectionDetails1, connectionDetails2] = chainsConnections;\n  const { configs: chain1Configs, polkadotjsUrl: polkadotjsUrl1, ...apiConnection1 } = useApiConnection(\n    connectionDetails1\n  );\n  const { configs: chain2Configs, polkadotjsUrl: polkadotjsUrl2, ...apiConnection2 } = useApiConnection(\n    connectionDetails2\n  );\n  const [connections, setConnections] = useState<SourceTargetState>({} as SourceTargetState);\n  const [apiReady, setApiReady] = useState(false);\n\n  useEffect(() => {\n    if (chain1Configs && chain2Configs) {\n      const chainName1 = chain1Configs.chainName;\n      const chainName2 = chain2Configs.chainName;\n      const apiReady = apiConnection1?.isApiReady && apiConnection2?.isApiReady;\n      if (chainName1 && chainName2 && isEmpty(connections)) {\n        const connections = {\n          [ChainDetails.SOURCE]: {\n            configs: chain1Configs,\n            apiConnection: apiConnection1,\n            chain: chainName1,\n            polkadotjsUrl: polkadotjsUrl1,\n            subscriptions: {} as Subscriptions\n          },\n          [ChainDetails.TARGET]: {\n            configs: chain2Configs,\n            apiConnection: apiConnection2,\n            chain: chainName2,\n            polkadotjsUrl: polkadotjsUrl2,\n            subscriptions: {} as Subscriptions\n          }\n        };\n        setConnections(connections);\n        setApiReady(apiReady);\n      }\n    }\n  }, [apiConnection1, apiConnection2, chain1Configs, chain2Configs, connections, polkadotjsUrl1, polkadotjsUrl2]);\n\n  return { connections, apiReady };\n}\n","// Copyright 2021 Parity Technologies (UK) Ltd.\n// This file is part of Parity Bridges UI.\n//\n// Parity Bridges UI is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Parity Bridges UI is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Parity Bridges UI.  If not, see <http://www.gnu.org/licenses/>.\n\nimport './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { checkExpectedVariables } from './util/envVariablesValidations';\n\ncheckExpectedVariables();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}